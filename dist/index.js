var Tachidoku=function(exports){"use strict";var MangaViewer=(W=>(W[W.Default=0]="Default",W[W.RTL=1]="RTL",W[W.LTR=2]="LTR",W[W.Vertical=3]="Vertical",W[W.Scroll=4]="Scroll",W))(MangaViewer||{}),MangaStatus=(W=>(W[W.Unknown=0]="Unknown",W[W.Ongoing=1]="Ongoing",W[W.Completed=2]="Completed",W[W.Cancelled=3]="Cancelled",W[W.Hiatus=4]="Hiatus",W))(MangaStatus||{});class Converter{constructor(){this.mangaViewer={1:MangaViewer.LTR,2:MangaViewer.RTL,3:MangaViewer.Vertical,4:MangaViewer.Scroll,5:MangaViewer.Scroll},this.mangaStatus={0:MangaStatus.Unknown,1:MangaStatus.Ongoing,2:MangaStatus.Completed,3:MangaStatus.Unknown,4:MangaStatus.Completed,5:MangaStatus.Cancelled,6:MangaStatus.Hiatus}}parseMangaObject(a){var te,ne,re,Q,q;return{id:this.parseMangaId(a.url),lastUpdate:0,author:(te=a.author)!=null?te:"",url:this.parseMangaUrl(a.url),nsfw:0,tags:a.genre,title:a.title,sourceId:this.aidokuSourceId,desc:(ne=a.description)!=null?ne:"",cover:(re=a.thumbnailUrl)!=null?re:"",viewer:(Q=this.mangaViewer[a.viewer])!=null?Q:MangaViewer.Default,status:(q=this.mangaStatus[a.status])!=null?q:MangaStatus.Unknown}}parseChapterObject(a,te){var ne;return{sourceId:this.aidokuSourceId,mangaId:this.parseMangaId(a.url),lang:this.lang,id:this.parseChapterId(te.url),scanlator:(ne=te.scanlator)!=null?ne:"",dateUploaded:te.dateUpload.divide(1e3).toNumber(),chapter:te.chapterNumber,sourceOrder:te.sourceOrder}}}class e$3 extends Converter{constructor(a,te){super(),this.tachiyomiSourceId=a,this.lang=te,this.aidokuSourceId="multi.mangadex"}parseMangaId(a){return a.replace("/manga/","")}parseChapterId(a){return a.replace("/chapter/","")}parseMangaUrl(a){return`https://mangadex.org${a}`}parseMangaObject(a){let te=super.parseMangaObject(a);return te.tags=te.tags.map(ne=>{var re,Q;return(Q=(re=ne.split(":")[1])==null?void 0:re.trim())!=null?Q:ne}),te}}const g$1=new e$3("2499283573021220255","en"),c=new e$3("3339599426223341161","ar"),M=new e$3("4150470519566206911","bn"),v=new e$3("5463447640980279236","bg"),x$1=new e$3("1347402746269051958","my"),C=new e$3("5860541308324630662","ca"),D=new e$3("5148895169070562838","zh-Hans"),w=new e$3("1493666528525752601","zh-Hant"),i$1=new e$3("3578612018159256808","cs"),p=new e$3("425785191804166217","da"),u=new e$3("6750440049024086587","nl"),d$1=new e$3("8578871918181236609","fil"),l=new e$3("8254121249433835847","fi"),m$3=new e$3("4505830566611664829","fr"),h=new e$3("5098537545549490547","de"),H=new e$3("3260701926561129943","el"),I=new e$3("1424273154577029558","he"),S=new e$3("6840513937945146538","hi"),f$1=new e$3("4284949320785450865","hu"),A=new e$3("3807502156582598786","id"),N=new e$3("1952071260038453057","it"),E=new e$3("1411768577036936240","ja"),R=new e$3("3285208643537017688","ko"),T=new e$3("764587568075398530","la"),b=new e$3("737986167355114438","lt"),k=new e$3("1471784905273036181","ms"),B=new e$3("5967745367608513818","mn"),L=new e$3("954368055061084457","ne"),O=new e$3("4872213291993424667","no"),F=new e$3("3781216447842245147","fa"),U=new e$3("8033579885162383068","pl"),_=new e$3("2655149515337070132","pt-BR"),j=new e$3("5189216366882819742","pt"),P=new e$3("4774459486579224459","ro"),y=new e$3("2098905203823335614","ru"),z=new e$3("4710920497926776490","sh"),K=new e$3("4938773340256184018","es-419"),V=new e$3("6400665728063187402","es"),Z=new e$3("1145824452519314725","sv"),G=new e$3("1713554459881080228","th"),J=new e$3("3846770256925560569","tr"),Y=new e$3("5779037855201976894","uk"),$=new e$3("9194073792736219759","vi");var r$1=[g$1,c,M,v,x$1,C,D,w,i$1,p,u,d$1,l,m$3,h,H,I,S,f$1,A,N,E,R,T,b,k,B,L,O,F,U,_,j,P,y,z,K,V,Z,G,J,Y,$];class r extends Converter{constructor(a,te){super(),this.baseUrl=a,this.tachiyomiSourceId=te,this.aidokuSourceId="en.nepnep",this.lang="en"}parseMangaId(a){return a.replace("/manga/","")}parseChapterId(a){return a.replace("/read-online/","")}parseMangaUrl(a){return`${this.baseUrl}${a}`}}var o$1=[new r("https://mangasee123.com","9"),new r("https://manga4life.com","7798162483793432927")];class t$1 extends Converter{parseMangaId(a){return this.parseMangaUrl(a)}parseChapterId(a){return this.parseMangaUrl(a)}}class s$1 extends t$1{constructor(){super(...arguments),this.baseUrl="https://m.mangabat.com",this.tachiyomiSourceId="4215511432986138970",this.aidokuSourceId="en.mangabat",this.lang="en"}parseMangaUrl(a){return a.replace("https://readmangabat.com","https://m.mangabat.com")}}class o extends t$1{constructor(){super(...arguments),this.baseUrl="https://manganato.com",this.tachiyomiSourceId="1024627298672457456",this.aidokuSourceId="en.manganato",this.lang="en"}parseMangaUrl(a){return a.replace("https://readmanganato.com","https://manganato.com")}}var e$2=[new o,new s$1];class s extends Converter{constructor(a,te,ne,re){super(),this.baseUrl=a,this.lang=te,this.tachiyomiSourceId=ne,this.aidokuSourceId=re}parseMangaId(a){return this.parseMangaUrl(a)}parseChapterId(a){return this.parseMangaUrl(a)}parseMangaUrl(a){return`${this.baseUrl}${a}`}}var t=[new s("https://readkomik.com","en","4894958130777364576","en.readkomik"),new s("https://alpha-scans.org","en","4142958065526725213","en.alphascans"),new s("https://kumascans.com","en","4949888651444819799","en.kumascans"),new s("https://www.asurascans.com","en","6247824327199706550","multi.asurascans"),new s("https://www.asurascans.com","tr","7963074674054946733","multi.asurascans")];class e$1 extends Converter{constructor(a,te,ne,re,Q="manga"){super(),this.baseUrl=a,this.lang=te,this.tachiyomiSourceId=ne,this.aidokuSourceId=re,this.sourcePath=Q}parseMangaId(a){return a.replace(`/${this.sourcePath}/`,"")}parseChapterId(a){return this.parseMangaId(a)}parseMangaUrl(a){return`${this.baseUrl}${a}`}}var m$2=[new e$1("https://coloredmanga.com","en","8808685646100968349","en.coloredmanga"),new e$1("https://hentaicb.top","vi","823638192569572166","vi.hentaicb"),new e$1("https://lilymanga.com","en","4480996639887718467","en.lilymanga","ys"),new e$1("https://mangatx.com","en","3274683761704614629","en.mangatx"),new e$1("https://manhuaplus.com","en","9030178752551947945","en.manhuaplus"),new e$1("https://reaperscans.com","en","5177220001642863679","en.reaperscans","series"),new e$1("https://reset-scans.com","en","8894279497795073184","en.resetscans"),new e$1("https://toonily.com","en","5190569675461947007","en.toonily","webtoon")],f=[...r$1,...o$1,...e$2,...t,...m$2],commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(W){return W&&W.__esModule&&Object.prototype.hasOwnProperty.call(W,"default")?W.default:W}var light={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=W;function W(a,te){for(var ne=new Array(arguments.length-1),re=0,Q=2,q=!0;Q<arguments.length;)ne[re++]=arguments[Q++];return new Promise(function(ie,ee){ne[re]=function(oe){if(q)if(q=!1,oe)ee(oe);else{for(var ue=new Array(arguments.length-1),ae=0;ae<ue.length;)ue[ae++]=arguments[ae];ie.apply(null,ue)}};try{a.apply(te||null,ne)}catch(se){q&&(q=!1,ee(se))}})}return aspromise}var base64$1={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(W){var a=W;a.length=function(X){var ie=X.length;if(!ie)return 0;for(var ee=0;--ie%4>1&&X.charAt(ie)==="=";)++ee;return Math.ceil(X.length*3)/4-ee};for(var te=new Array(64),ne=new Array(123),re=0;re<64;)ne[te[re]=re<26?re+65:re<52?re+71:re<62?re-4:re-59|43]=re++;a.encode=function(X,ie,ee){for(var se=null,oe=[],ue=0,ae=0,fe;ie<ee;){var he=X[ie++];switch(ae){case 0:oe[ue++]=te[he>>2],fe=(he&3)<<4,ae=1;break;case 1:oe[ue++]=te[fe|he>>4],fe=(he&15)<<2,ae=2;break;case 2:oe[ue++]=te[fe|he>>6],oe[ue++]=te[he&63],ae=0;break}ue>8191&&((se||(se=[])).push(String.fromCharCode.apply(String,oe)),ue=0)}return ae&&(oe[ue++]=te[fe],oe[ue++]=61,ae===1&&(oe[ue++]=61)),se?(ue&&se.push(String.fromCharCode.apply(String,oe.slice(0,ue))),se.join("")):String.fromCharCode.apply(String,oe.slice(0,ue))};var Q="invalid encoding";a.decode=function(X,ie,ee){for(var se=ee,oe=0,ue,ae=0;ae<X.length;){var fe=X.charCodeAt(ae++);if(fe===61&&oe>1)break;if((fe=ne[fe])===void 0)throw Error(Q);switch(oe){case 0:ue=fe,oe=1;break;case 1:ie[ee++]=ue<<2|(fe&48)>>4,ue=fe,oe=2;break;case 2:ie[ee++]=(ue&15)<<4|(fe&60)>>2,ue=fe,oe=3;break;case 3:ie[ee++]=(ue&3)<<6|fe,oe=0;break}}if(oe===1)throw Error(Q);return ee-se},a.test=function(X){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(X)}}(base64$1)),base64$1}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=W;function W(){this._listeners={}}return W.prototype.on=function(te,ne,re){return(this._listeners[te]||(this._listeners[te]=[])).push({fn:ne,ctx:re||this}),this},W.prototype.off=function(te,ne){if(te===void 0)this._listeners={};else if(ne===void 0)this._listeners[te]=[];else for(var re=this._listeners[te],Q=0;Q<re.length;)re[Q].fn===ne?re.splice(Q,1):++Q;return this},W.prototype.emit=function(te){var ne=this._listeners[te];if(ne){for(var re=[],Q=1;Q<arguments.length;)re.push(arguments[Q++]);for(Q=0;Q<ne.length;)ne[Q].fn.apply(ne[Q++].ctx,re)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=W(W);function W(Q){return typeof Float32Array!="undefined"?function(){var q=new Float32Array([-0]),X=new Uint8Array(q.buffer),ie=X[3]===128;function ee(ae,fe,he){q[0]=ae,fe[he]=X[0],fe[he+1]=X[1],fe[he+2]=X[2],fe[he+3]=X[3]}function se(ae,fe,he){q[0]=ae,fe[he]=X[3],fe[he+1]=X[2],fe[he+2]=X[1],fe[he+3]=X[0]}Q.writeFloatLE=ie?ee:se,Q.writeFloatBE=ie?se:ee;function oe(ae,fe){return X[0]=ae[fe],X[1]=ae[fe+1],X[2]=ae[fe+2],X[3]=ae[fe+3],q[0]}function ue(ae,fe){return X[3]=ae[fe],X[2]=ae[fe+1],X[1]=ae[fe+2],X[0]=ae[fe+3],q[0]}Q.readFloatLE=ie?oe:ue,Q.readFloatBE=ie?ue:oe}():function(){function q(ie,ee,se,oe){var ue=ee<0?1:0;if(ue&&(ee=-ee),ee===0)ie(1/ee>0?0:2147483648,se,oe);else if(isNaN(ee))ie(2143289344,se,oe);else if(ee>34028234663852886e22)ie((ue<<31|2139095040)>>>0,se,oe);else if(ee<11754943508222875e-54)ie((ue<<31|Math.round(ee/1401298464324817e-60))>>>0,se,oe);else{var ae=Math.floor(Math.log(ee)/Math.LN2),fe=Math.round(ee*Math.pow(2,-ae)*8388608)&8388607;ie((ue<<31|ae+127<<23|fe)>>>0,se,oe)}}Q.writeFloatLE=q.bind(null,a),Q.writeFloatBE=q.bind(null,te);function X(ie,ee,se){var oe=ie(ee,se),ue=(oe>>31)*2+1,ae=oe>>>23&255,fe=oe&8388607;return ae===255?fe?NaN:ue*(1/0):ae===0?ue*1401298464324817e-60*fe:ue*Math.pow(2,ae-150)*(fe+8388608)}Q.readFloatLE=X.bind(null,ne),Q.readFloatBE=X.bind(null,re)}(),typeof Float64Array!="undefined"?function(){var q=new Float64Array([-0]),X=new Uint8Array(q.buffer),ie=X[7]===128;function ee(ae,fe,he){q[0]=ae,fe[he]=X[0],fe[he+1]=X[1],fe[he+2]=X[2],fe[he+3]=X[3],fe[he+4]=X[4],fe[he+5]=X[5],fe[he+6]=X[6],fe[he+7]=X[7]}function se(ae,fe,he){q[0]=ae,fe[he]=X[7],fe[he+1]=X[6],fe[he+2]=X[5],fe[he+3]=X[4],fe[he+4]=X[3],fe[he+5]=X[2],fe[he+6]=X[1],fe[he+7]=X[0]}Q.writeDoubleLE=ie?ee:se,Q.writeDoubleBE=ie?se:ee;function oe(ae,fe){return X[0]=ae[fe],X[1]=ae[fe+1],X[2]=ae[fe+2],X[3]=ae[fe+3],X[4]=ae[fe+4],X[5]=ae[fe+5],X[6]=ae[fe+6],X[7]=ae[fe+7],q[0]}function ue(ae,fe){return X[7]=ae[fe],X[6]=ae[fe+1],X[5]=ae[fe+2],X[4]=ae[fe+3],X[3]=ae[fe+4],X[2]=ae[fe+5],X[1]=ae[fe+6],X[0]=ae[fe+7],q[0]}Q.readDoubleLE=ie?oe:ue,Q.readDoubleBE=ie?ue:oe}():function(){function q(ie,ee,se,oe,ue,ae){var fe=oe<0?1:0;if(fe&&(oe=-oe),oe===0)ie(0,ue,ae+ee),ie(1/oe>0?0:2147483648,ue,ae+se);else if(isNaN(oe))ie(0,ue,ae+ee),ie(2146959360,ue,ae+se);else if(oe>17976931348623157e292)ie(0,ue,ae+ee),ie((fe<<31|2146435072)>>>0,ue,ae+se);else{var he;if(oe<22250738585072014e-324)he=oe/5e-324,ie(he>>>0,ue,ae+ee),ie((fe<<31|he/4294967296)>>>0,ue,ae+se);else{var pe=Math.floor(Math.log(oe)/Math.LN2);pe===1024&&(pe=1023),he=oe*Math.pow(2,-pe),ie(he*4503599627370496>>>0,ue,ae+ee),ie((fe<<31|pe+1023<<20|he*1048576&1048575)>>>0,ue,ae+se)}}}Q.writeDoubleLE=q.bind(null,a,0,4),Q.writeDoubleBE=q.bind(null,te,4,0);function X(ie,ee,se,oe,ue){var ae=ie(oe,ue+ee),fe=ie(oe,ue+se),he=(fe>>31)*2+1,pe=fe>>>20&2047,de=4294967296*(fe&1048575)+ae;return pe===2047?de?NaN:he*(1/0):pe===0?he*5e-324*de:he*Math.pow(2,pe-1075)*(de+4503599627370496)}Q.readDoubleLE=X.bind(null,ne,0,4),Q.readDoubleBE=X.bind(null,re,4,0)}(),Q}function a(Q,q,X){q[X]=Q&255,q[X+1]=Q>>>8&255,q[X+2]=Q>>>16&255,q[X+3]=Q>>>24}function te(Q,q,X){q[X]=Q>>>24,q[X+1]=Q>>>16&255,q[X+2]=Q>>>8&255,q[X+3]=Q&255}function ne(Q,q){return(Q[q]|Q[q+1]<<8|Q[q+2]<<16|Q[q+3]<<24)>>>0}function re(Q,q){return(Q[q]<<24|Q[q+1]<<16|Q[q+2]<<8|Q[q+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(W){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(W){var a=W;a.length=function(ne){for(var re=0,Q=0,q=0;q<ne.length;++q)Q=ne.charCodeAt(q),Q<128?re+=1:Q<2048?re+=2:(Q&64512)===55296&&(ne.charCodeAt(q+1)&64512)===56320?(++q,re+=4):re+=3;return re},a.read=function(ne,re,Q){var q=Q-re;if(q<1)return"";for(var X=null,ie=[],ee=0,se;re<Q;)se=ne[re++],se<128?ie[ee++]=se:se>191&&se<224?ie[ee++]=(se&31)<<6|ne[re++]&63:se>239&&se<365?(se=((se&7)<<18|(ne[re++]&63)<<12|(ne[re++]&63)<<6|ne[re++]&63)-65536,ie[ee++]=55296+(se>>10),ie[ee++]=56320+(se&1023)):ie[ee++]=(se&15)<<12|(ne[re++]&63)<<6|ne[re++]&63,ee>8191&&((X||(X=[])).push(String.fromCharCode.apply(String,ie)),ee=0);return X?(ee&&X.push(String.fromCharCode.apply(String,ie.slice(0,ee))),X.join("")):String.fromCharCode.apply(String,ie.slice(0,ee))},a.write=function(ne,re,Q){for(var q=Q,X,ie,ee=0;ee<ne.length;++ee)X=ne.charCodeAt(ee),X<128?re[Q++]=X:X<2048?(re[Q++]=X>>6|192,re[Q++]=X&63|128):(X&64512)===55296&&((ie=ne.charCodeAt(ee+1))&64512)===56320?(X=65536+((X&1023)<<10)+(ie&1023),++ee,re[Q++]=X>>18|240,re[Q++]=X>>12&63|128,re[Q++]=X>>6&63|128,re[Q++]=X&63|128):(re[Q++]=X>>12|224,re[Q++]=X>>6&63|128,re[Q++]=X&63|128);return Q-q}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=W;function W(a,te,ne){var re=ne||8192,Q=re>>>1,q=null,X=re;return function(ee){if(ee<1||ee>Q)return a(ee);X+ee>re&&(q=a(re),X=0);var se=te.call(q,X,X+=ee);return X&7&&(X=(X|7)+1),se}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=a;var W=requireMinimal();function a(Q,q){this.lo=Q>>>0,this.hi=q>>>0}var te=a.zero=new a(0,0);te.toNumber=function(){return 0},te.zzEncode=te.zzDecode=function(){return this},te.length=function(){return 1};var ne=a.zeroHash="\0\0\0\0\0\0\0\0";a.fromNumber=function(q){if(q===0)return te;var X=q<0;X&&(q=-q);var ie=q>>>0,ee=(q-ie)/4294967296>>>0;return X&&(ee=~ee>>>0,ie=~ie>>>0,++ie>4294967295&&(ie=0,++ee>4294967295&&(ee=0))),new a(ie,ee)},a.from=function(q){if(typeof q=="number")return a.fromNumber(q);if(W.isString(q))if(W.Long)q=W.Long.fromString(q);else return a.fromNumber(parseInt(q,10));return q.low||q.high?new a(q.low>>>0,q.high>>>0):te},a.prototype.toNumber=function(q){if(!q&&this.hi>>>31){var X=~this.lo+1>>>0,ie=~this.hi>>>0;return X||(ie=ie+1>>>0),-(X+ie*4294967296)}return this.lo+this.hi*4294967296},a.prototype.toLong=function(q){return W.Long?new W.Long(this.lo|0,this.hi|0,Boolean(q)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(q)}};var re=String.prototype.charCodeAt;return a.fromHash=function(q){return q===ne?te:new a((re.call(q,0)|re.call(q,1)<<8|re.call(q,2)<<16|re.call(q,3)<<24)>>>0,(re.call(q,4)|re.call(q,5)<<8|re.call(q,6)<<16|re.call(q,7)<<24)>>>0)},a.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},a.prototype.zzEncode=function(){var q=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^q)>>>0,this.lo=(this.lo<<1^q)>>>0,this},a.prototype.zzDecode=function(){var q=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^q)>>>0,this.hi=(this.hi>>>1^q)>>>0,this},a.prototype.length=function(){var q=this.lo,X=(this.lo>>>28|this.hi<<4)>>>0,ie=this.hi>>>24;return ie===0?X===0?q<16384?q<128?1:2:q<2097152?3:4:X<16384?X<128?5:6:X<2097152?7:8:ie<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(W){var a=W;a.asPromise=requireAspromise(),a.base64=requireBase64(),a.EventEmitter=requireEventemitter(),a.float=requireFloat(),a.inquire=requireInquire(),a.utf8=requireUtf8(),a.pool=requirePool(),a.LongBits=requireLongbits(),a.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),a.global=a.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(Q){return typeof Q=="number"&&isFinite(Q)&&Math.floor(Q)===Q},a.isString=function(Q){return typeof Q=="string"||Q instanceof String},a.isObject=function(Q){return Q&&typeof Q=="object"},a.isset=a.isSet=function(Q,q){var X=Q[q];return X!=null&&Q.hasOwnProperty(q)?typeof X!="object"||(Array.isArray(X)?X.length:Object.keys(X).length)>0:!1},a.Buffer=function(){try{var re=a.inquire("buffer").Buffer;return re.prototype.utf8Write?re:null}catch(Q){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(Q){return typeof Q=="number"?a.Buffer?a._Buffer_allocUnsafe(Q):new a.Array(Q):a.Buffer?a._Buffer_from(Q):typeof Uint8Array=="undefined"?Q:new Uint8Array(Q)},a.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(Q){return Q?a.LongBits.from(Q).toHash():a.LongBits.zeroHash},a.longFromHash=function(Q,q){var X=a.LongBits.fromHash(Q);return a.Long?a.Long.fromBits(X.lo,X.hi,q):X.toNumber(Boolean(q))};function te(re,Q,q){for(var X=Object.keys(Q),ie=0;ie<X.length;++ie)(re[X[ie]]===void 0||!q)&&(re[X[ie]]=Q[X[ie]]);return re}a.merge=te,a.lcFirst=function(Q){return Q.charAt(0).toLowerCase()+Q.substring(1)};function ne(re){function Q(q,X){if(!(this instanceof Q))return new Q(q,X);Object.defineProperty(this,"message",{get:function(){return q}}),Error.captureStackTrace?Error.captureStackTrace(this,Q):Object.defineProperty(this,"stack",{value:new Error().stack||""}),X&&te(this,X)}return(Q.prototype=Object.create(Error.prototype)).constructor=Q,Object.defineProperty(Q.prototype,"name",{get:function(){return re}}),Q.prototype.toString=function(){return this.name+": "+this.message},Q}a.newError=ne,a.ProtocolError=ne("ProtocolError"),a.oneOfGetter=function(Q){for(var q={},X=0;X<Q.length;++X)q[Q[X]]=1;return function(){for(var ie=Object.keys(this),ee=ie.length-1;ee>-1;--ee)if(q[ie[ee]]===1&&this[ie[ee]]!==void 0&&this[ie[ee]]!==null)return ie[ee]}},a.oneOfSetter=function(Q){return function(q){for(var X=0;X<Q.length;++X)Q[X]!==q&&delete this[Q[X]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var re=a.Buffer;if(!re){a._Buffer_from=a._Buffer_allocUnsafe=null;return}a._Buffer_from=re.from!==Uint8Array.from&&re.from||function(q,X){return new re(q,X)},a._Buffer_allocUnsafe=re.allocUnsafe||function(q){return new re(q)}}}(minimal)),minimal}var writer=Writer$1,util$6=requireMinimal(),BufferWriter$1,LongBits$1=util$6.LongBits,base64=util$6.base64,utf8$1=util$6.utf8;function Op(W,a,te){this.fn=W,this.len=a,this.next=void 0,this.val=te}function noop(){}function State(W){this.head=W.head,this.tail=W.tail,this.len=W.len,this.next=W.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function W(){return util$6.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1(),Writer$1.alloc=function W(a){return new util$6.Array(a)},util$6.Array!==Array&&(Writer$1.alloc=util$6.pool(Writer$1.alloc,util$6.Array.prototype.subarray)),Writer$1.prototype._push=function W(a,te,ne){return this.tail=this.tail.next=new Op(a,te,ne),this.len+=te,this};function writeByte(W,a,te){a[te]=W&255}function writeVarint32(W,a,te){for(;W>127;)a[te++]=W&127|128,W>>>=7;a[te]=W}function VarintOp(W,a){this.len=W,this.next=void 0,this.val=a}VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function W(a){return this.len+=(this.tail=this.tail.next=new VarintOp((a=a>>>0)<128?1:a<16384?2:a<2097152?3:a<268435456?4:5,a)).len,this},Writer$1.prototype.int32=function W(a){return a<0?this._push(writeVarint64,10,LongBits$1.fromNumber(a)):this.uint32(a)},Writer$1.prototype.sint32=function W(a){return this.uint32((a<<1^a>>31)>>>0)};function writeVarint64(W,a,te){for(;W.hi;)a[te++]=W.lo&127|128,W.lo=(W.lo>>>7|W.hi<<25)>>>0,W.hi>>>=7;for(;W.lo>127;)a[te++]=W.lo&127|128,W.lo=W.lo>>>7;a[te++]=W.lo}Writer$1.prototype.uint64=function W(a){var te=LongBits$1.from(a);return this._push(writeVarint64,te.length(),te)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function W(a){var te=LongBits$1.from(a).zzEncode();return this._push(writeVarint64,te.length(),te)},Writer$1.prototype.bool=function W(a){return this._push(writeByte,1,a?1:0)};function writeFixed32(W,a,te){a[te]=W&255,a[te+1]=W>>>8&255,a[te+2]=W>>>16&255,a[te+3]=W>>>24}Writer$1.prototype.fixed32=function W(a){return this._push(writeFixed32,4,a>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function W(a){var te=LongBits$1.from(a);return this._push(writeFixed32,4,te.lo)._push(writeFixed32,4,te.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function W(a){return this._push(util$6.float.writeFloatLE,4,a)},Writer$1.prototype.double=function W(a){return this._push(util$6.float.writeDoubleLE,8,a)};var writeBytes=util$6.Array.prototype.set?function W(a,te,ne){te.set(a,ne)}:function W(a,te,ne){for(var re=0;re<a.length;++re)te[ne+re]=a[re]};Writer$1.prototype.bytes=function W(a){var te=a.length>>>0;if(!te)return this._push(writeByte,1,0);if(util$6.isString(a)){var ne=Writer$1.alloc(te=base64.length(a));base64.decode(a,ne,0),a=ne}return this.uint32(te)._push(writeBytes,te,a)},Writer$1.prototype.string=function W(a){var te=utf8$1.length(a);return te?this.uint32(te)._push(utf8$1.write,te,a):this._push(writeByte,1,0)},Writer$1.prototype.fork=function W(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function W(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function W(){var a=this.head,te=this.tail,ne=this.len;return this.reset().uint32(ne),ne&&(this.tail.next=a.next,this.tail=te,this.len+=ne),this},Writer$1.prototype.finish=function W(){for(var a=this.head.next,te=this.constructor.alloc(this.len),ne=0;a;)a.fn(a.val,te,ne),ne+=a.len,a=a.next;return te},Writer$1._configure=function(W){BufferWriter$1=W,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$5=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$5._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$5.Buffer&&util$5.Buffer.prototype instanceof Uint8Array&&util$5.Buffer.prototype.set.name==="set"?function(a,te,ne){te.set(a,ne)}:function(a,te,ne){if(a.copy)a.copy(te,ne,0,a.length);else for(var re=0;re<a.length;)te[ne++]=a[re++]}},BufferWriter.prototype.bytes=function W(a){util$5.isString(a)&&(a=util$5._Buffer_from(a,"base64"));var te=a.length>>>0;return this.uint32(te),te&&this._push(BufferWriter.writeBytesBuffer,te,a),this};function writeStringBuffer(W,a,te){W.length<40?util$5.utf8.write(W,a,te):a.utf8Write?a.utf8Write(W,te):a.write(W,te)}BufferWriter.prototype.string=function W(a){var te=util$5.Buffer.byteLength(a);return this.uint32(te),te&&this._push(writeStringBuffer,te,a),this},BufferWriter._configure();var reader=Reader$1,util$4=requireMinimal(),BufferReader$1,LongBits=util$4.LongBits,utf8=util$4.utf8;function indexOutOfRange(W,a){return RangeError("index out of range: "+W.pos+" + "+(a||1)+" > "+W.len)}function Reader$1(W){this.buf=W,this.pos=0,this.len=W.length}var create_array=typeof Uint8Array!="undefined"?function W(a){if(a instanceof Uint8Array||Array.isArray(a))return new Reader$1(a);throw Error("illegal buffer")}:function W(a){if(Array.isArray(a))return new Reader$1(a);throw Error("illegal buffer")},create=function W(){return util$4.Buffer?function(te){return(Reader$1.create=function(re){return util$4.Buffer.isBuffer(re)?new BufferReader$1(re):create_array(re)})(te)}:create_array};Reader$1.create=create(),Reader$1.prototype._slice=util$4.Array.prototype.subarray||util$4.Array.prototype.slice,Reader$1.prototype.uint32=function W(){var a=4294967295;return function(){if(a=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(a=(a|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return a}}(),Reader$1.prototype.int32=function W(){return this.uint32()|0},Reader$1.prototype.sint32=function W(){var a=this.uint32();return a>>>1^-(a&1)|0};function readLongVarint(){var W=new LongBits(0,0),a=0;if(this.len-this.pos>4){for(;a<4;++a)if(W.lo=(W.lo|(this.buf[this.pos]&127)<<a*7)>>>0,this.buf[this.pos++]<128)return W;if(W.lo=(W.lo|(this.buf[this.pos]&127)<<28)>>>0,W.hi=(W.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return W;a=0}else{for(;a<3;++a){if(this.pos>=this.len)throw indexOutOfRange(this);if(W.lo=(W.lo|(this.buf[this.pos]&127)<<a*7)>>>0,this.buf[this.pos++]<128)return W}return W.lo=(W.lo|(this.buf[this.pos++]&127)<<a*7)>>>0,W}if(this.len-this.pos>4){for(;a<5;++a)if(W.hi=(W.hi|(this.buf[this.pos]&127)<<a*7+3)>>>0,this.buf[this.pos++]<128)return W}else for(;a<5;++a){if(this.pos>=this.len)throw indexOutOfRange(this);if(W.hi=(W.hi|(this.buf[this.pos]&127)<<a*7+3)>>>0,this.buf[this.pos++]<128)return W}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function W(){return this.uint32()!==0};function readFixed32_end(W,a){return(W[a-4]|W[a-3]<<8|W[a-2]<<16|W[a-1]<<24)>>>0}Reader$1.prototype.fixed32=function W(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function W(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function W(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var a=util$4.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},Reader$1.prototype.double=function W(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var a=util$4.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},Reader$1.prototype.bytes=function W(){var a=this.uint32(),te=this.pos,ne=this.pos+a;if(ne>this.len)throw indexOutOfRange(this,a);return this.pos+=a,Array.isArray(this.buf)?this.buf.slice(te,ne):te===ne?new this.buf.constructor(0):this._slice.call(this.buf,te,ne)},Reader$1.prototype.string=function W(){var a=this.bytes();return utf8.read(a,0,a.length)},Reader$1.prototype.skip=function W(a){if(typeof a=="number"){if(this.pos+a>this.len)throw indexOutOfRange(this,a);this.pos+=a}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this},Reader$1.prototype.skipType=function(W){switch(W){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(W=this.uint32()&7)!==4;)this.skipType(W);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+W+" at offset "+this.pos)}return this},Reader$1._configure=function(W){BufferReader$1=W,Reader$1.create=create(),BufferReader$1._configure();var a=util$4.Long?"toLong":"toNumber";util$4.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[a](!1)},uint64:function(){return readLongVarint.call(this)[a](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[a](!1)},fixed64:function(){return readFixed64.call(this)[a](!0)},sfixed64:function(){return readFixed64.call(this)[a](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$3=requireMinimal();function BufferReader(W){Reader.call(this,W)}BufferReader._configure=function(){util$3.Buffer&&(BufferReader.prototype._slice=util$3.Buffer.prototype.slice)},BufferReader.prototype.string=function W(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},BufferReader._configure();var rpc={},service$1=Service,util$2=requireMinimal();(Service.prototype=Object.create(util$2.EventEmitter.prototype)).constructor=Service;function Service(W,a,te){if(typeof W!="function")throw TypeError("rpcImpl must be a function");util$2.EventEmitter.call(this),this.rpcImpl=W,this.requestDelimited=Boolean(a),this.responseDelimited=Boolean(te)}Service.prototype.rpcCall=function W(a,te,ne,re,Q){if(!re)throw TypeError("request must be specified");var q=this;if(!Q)return util$2.asPromise(W,q,a,te,ne,re);if(!q.rpcImpl){setTimeout(function(){Q(Error("already ended"))},0);return}try{return q.rpcImpl(a,te[q.requestDelimited?"encodeDelimited":"encode"](re).finish(),function(ie,ee){if(ie)return q.emit("error",ie,a),Q(ie);if(ee===null){q.end(!0);return}if(!(ee instanceof ne))try{ee=ne[q.responseDelimited?"decodeDelimited":"decode"](ee)}catch(se){return q.emit("error",se,a),Q(se)}return q.emit("data",ee,a),Q(null,ee)})}catch(X){q.emit("error",X,a),setTimeout(function(){Q(X)},0);return}},Service.prototype.end=function W(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(W){var a=W;a.Service=service$1}(rpc);var roots={};(function(W){var a=W;a.build="minimal",a.Writer=writer,a.BufferWriter=writer_buffer,a.Reader=reader,a.BufferReader=reader_buffer,a.util=requireMinimal(),a.rpc=rpc,a.roots=roots,a.configure=te;function te(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}te()})(indexMinimal);var util$1={exports:{}},codegen_1=codegen;function codegen(W,a){typeof W=="string"&&(a=W,W=void 0);var te=[];function ne(Q){if(typeof Q!="string"){var q=re();if(codegen.verbose&&console.log("codegen: "+q),q="return "+q,Q){for(var X=Object.keys(Q),ie=new Array(X.length+1),ee=new Array(X.length),se=0;se<X.length;)ie[se]=X[se],ee[se]=Q[X[se++]];return ie[se]=q,Function.apply(null,ie).apply(null,ee)}return Function(q)()}for(var oe=new Array(arguments.length-1),ue=0;ue<oe.length;)oe[ue]=arguments[++ue];if(ue=0,Q=Q.replace(/%([%dfijs])/g,function(fe,he){var pe=oe[ue++];switch(he){case"d":case"f":return String(Number(pe));case"i":return String(Math.floor(pe));case"j":return JSON.stringify(pe);case"s":return String(pe)}return"%"}),ue!==oe.length)throw Error("parameter count mismatch");return te.push(Q),ne}function re(Q){return"function "+(Q||a||"")+"("+(W&&W.join(",")||"")+`){
  `+te.join(`
  `)+`
}`}return ne.toString=re,ne}codegen.verbose=!1;var fetch_1=fetch,asPromise=requireAspromise(),inquire=requireInquire(),fs=inquire("fs");function fetch(W,a,te){return typeof a=="function"?(te=a,a={}):a||(a={}),te?!a.xhr&&fs&&fs.readFile?fs.readFile(W,function(re,Q){return re&&typeof XMLHttpRequest!="undefined"?fetch.xhr(W,a,te):re?te(re):te(null,a.binary?Q:Q.toString("utf8"))}):fetch.xhr(W,a,te):asPromise(fetch,this,W,a)}fetch.xhr=function W(a,te,ne){var re=new XMLHttpRequest;re.onreadystatechange=function(){if(re.readyState===4){if(re.status!==0&&re.status!==200)return ne(Error("status "+re.status));if(te.binary){var q=re.response;if(!q){q=[];for(var X=0;X<re.responseText.length;++X)q.push(re.responseText.charCodeAt(X)&255)}return ne(null,typeof Uint8Array!="undefined"?new Uint8Array(q):q)}return ne(null,re.responseText)}},te.binary&&("overrideMimeType"in re&&re.overrideMimeType("text/plain; charset=x-user-defined"),re.responseType="arraybuffer"),re.open("GET",a),re.send()};var path={};(function(W){var a=W,te=a.isAbsolute=function(Q){return/^(?:\/|\w+:)/.test(Q)},ne=a.normalize=function(Q){Q=Q.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var q=Q.split("/"),X=te(Q),ie="";X&&(ie=q.shift()+"/");for(var ee=0;ee<q.length;)q[ee]===".."?ee>0&&q[ee-1]!==".."?q.splice(--ee,2):X?q.splice(ee,1):++ee:q[ee]==="."?q.splice(ee,1):++ee;return ie+q.join("/")};a.resolve=function(Q,q,X){return X||(q=ne(q)),te(q)?q:(X||(Q=ne(Q)),(Q=Q.replace(/(?:\/|^)[^/]+$/,"")).length?ne(Q+"/"+q):q)}})(path);var types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(W){var a=W,te=requireUtil(),ne=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function re(Q,q){var X=0,ie={};for(q|=0;X<Q.length;)ie[ne[X+q]]=Q[X++];return ie}a.basic=re([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),a.defaults=re([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",te.emptyArray,null]),a.long=re([0,0,0,1,1],7),a.mapKey=re([0,0,0,5,5,0,0,0,1,1,0,2],2),a.packed=re([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=q;var W=requireObject();((q.prototype=Object.create(W.prototype)).constructor=q).className="Field";var a=require_enum(),te=requireTypes(),ne=requireUtil(),re,Q=/^required|optional|repeated$/;q.fromJSON=function(ie,ee){return new q(ie,ee.id,ee.type,ee.rule,ee.extend,ee.options,ee.comment)};function q(X,ie,ee,se,oe,ue,ae){if(ne.isObject(se)?(ae=oe,ue=se,se=oe=void 0):ne.isObject(oe)&&(ae=ue,ue=oe,oe=void 0),W.call(this,X,ue),!ne.isInteger(ie)||ie<0)throw TypeError("id must be a non-negative integer");if(!ne.isString(ee))throw TypeError("type must be a string");if(se!==void 0&&!Q.test(se=se.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(oe!==void 0&&!ne.isString(oe))throw TypeError("extend must be a string");se==="proto3_optional"&&(se="optional"),this.rule=se&&se!=="optional"?se:void 0,this.type=ee,this.id=ie,this.extend=oe||void 0,this.required=se==="required",this.optional=!this.required,this.repeated=se==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=ne.Long?te.long[ee]!==void 0:!1,this.bytes=ee==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=ae}return Object.defineProperty(q.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),q.prototype.setOption=function(ie,ee,se){return ie==="packed"&&(this._packed=null),W.prototype.setOption.call(this,ie,ee,se)},q.prototype.toJSON=function(ie){var ee=ie?Boolean(ie.keepComments):!1;return ne.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",ee?this.comment:void 0])},q.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=te.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof re?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof a))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ne.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var ie;ne.base64.test(this.typeDefault)?ne.base64.decode(this.typeDefault,ie=ne.newBuffer(ne.base64.length(this.typeDefault)),0):ne.utf8.write(this.typeDefault,ie=ne.newBuffer(ne.utf8.length(this.typeDefault)),0),this.typeDefault=ie}return this.map?this.defaultValue=ne.emptyObject:this.repeated?this.defaultValue=ne.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof re&&(this.parent.ctor.prototype[this.name]=this.defaultValue),W.prototype.resolve.call(this)},q.d=function(ie,ee,se,oe){return typeof ee=="function"?ee=ne.decorateType(ee).name:ee&&typeof ee=="object"&&(ee=ne.decorateEnum(ee).name),function(ae,fe){ne.decorateType(ae.constructor).add(new q(fe,ie,ee,se,{default:oe}))}},q._configure=function(ie){re=ie},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=ne;var W=requireObject();((ne.prototype=Object.create(W.prototype)).constructor=ne).className="OneOf";var a=requireField(),te=requireUtil();function ne(Q,q,X,ie){if(Array.isArray(q)||(X=q,q=void 0),W.call(this,Q,X),!(q===void 0||Array.isArray(q)))throw TypeError("fieldNames must be an Array");this.oneof=q||[],this.fieldsArray=[],this.comment=ie}ne.fromJSON=function(q,X){return new ne(q,X.oneof,X.options,X.comment)},ne.prototype.toJSON=function(q){var X=q?Boolean(q.keepComments):!1;return te.toObject(["options",this.options,"oneof",this.oneof,"comment",X?this.comment:void 0])};function re(Q){if(Q.parent)for(var q=0;q<Q.fieldsArray.length;++q)Q.fieldsArray[q].parent||Q.parent.add(Q.fieldsArray[q])}return ne.prototype.add=function(q){if(!(q instanceof a))throw TypeError("field must be a Field");return q.parent&&q.parent!==this.parent&&q.parent.remove(q),this.oneof.push(q.name),this.fieldsArray.push(q),q.partOf=this,re(this),this},ne.prototype.remove=function(q){if(!(q instanceof a))throw TypeError("field must be a Field");var X=this.fieldsArray.indexOf(q);if(X<0)throw Error(q+" is not a member of "+this);return this.fieldsArray.splice(X,1),X=this.oneof.indexOf(q.name),X>-1&&this.oneof.splice(X,1),q.partOf=null,this},ne.prototype.onAdd=function(q){W.prototype.onAdd.call(this,q);for(var X=this,ie=0;ie<this.oneof.length;++ie){var ee=q.get(this.oneof[ie]);ee&&!ee.partOf&&(ee.partOf=X,X.fieldsArray.push(ee))}re(this)},ne.prototype.onRemove=function(q){for(var X=0,ie;X<this.fieldsArray.length;++X)(ie=this.fieldsArray[X]).parent&&ie.parent.remove(ie);W.prototype.onRemove.call(this,q)},ne.d=function(){for(var q=new Array(arguments.length),X=0;X<arguments.length;)q[X]=arguments[X++];return function(ee,se){te.decorateType(ee.constructor).add(new ne(se,q)),Object.defineProperty(ee,se,{get:te.oneOfGetter(q),set:te.oneOfSetter(q)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=ie;var W=requireObject();((ie.prototype=Object.create(W.prototype)).constructor=ie).className="Namespace";var a=requireField(),te=requireOneof(),ne=requireUtil(),re,Q,q;ie.fromJSON=function(oe,ue){return new ie(oe,ue.options).addJSON(ue.nested)};function X(se,oe){if(!!(se&&se.length)){for(var ue={},ae=0;ae<se.length;++ae)ue[se[ae].name]=se[ae].toJSON(oe);return ue}}ie.arrayToJSON=X,ie.isReservedId=function(oe,ue){if(oe){for(var ae=0;ae<oe.length;++ae)if(typeof oe[ae]!="string"&&oe[ae][0]<=ue&&oe[ae][1]>ue)return!0}return!1},ie.isReservedName=function(oe,ue){if(oe){for(var ae=0;ae<oe.length;++ae)if(oe[ae]===ue)return!0}return!1};function ie(se,oe){W.call(this,se,oe),this.nested=void 0,this._nestedArray=null}function ee(se){return se._nestedArray=null,se}return Object.defineProperty(ie.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=ne.toArray(this.nested))}}),ie.prototype.toJSON=function(oe){return ne.toObject(["options",this.options,"nested",X(this.nestedArray,oe)])},ie.prototype.addJSON=function(oe){var ue=this;if(oe)for(var ae=Object.keys(oe),fe=0,he;fe<ae.length;++fe)he=oe[ae[fe]],ue.add((he.fields!==void 0?re.fromJSON:he.values!==void 0?q.fromJSON:he.methods!==void 0?Q.fromJSON:he.id!==void 0?a.fromJSON:ie.fromJSON)(ae[fe],he));return this},ie.prototype.get=function(oe){return this.nested&&this.nested[oe]||null},ie.prototype.getEnum=function(oe){if(this.nested&&this.nested[oe]instanceof q)return this.nested[oe].values;throw Error("no such enum: "+oe)},ie.prototype.add=function(oe){if(!(oe instanceof a&&oe.extend!==void 0||oe instanceof re||oe instanceof q||oe instanceof Q||oe instanceof ie||oe instanceof te))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var ue=this.get(oe.name);if(ue)if(ue instanceof ie&&oe instanceof ie&&!(ue instanceof re||ue instanceof Q)){for(var ae=ue.nestedArray,fe=0;fe<ae.length;++fe)oe.add(ae[fe]);this.remove(ue),this.nested||(this.nested={}),oe.setOptions(ue.options,!0)}else throw Error("duplicate name '"+oe.name+"' in "+this)}return this.nested[oe.name]=oe,oe.onAdd(this),ee(this)},ie.prototype.remove=function(oe){if(!(oe instanceof W))throw TypeError("object must be a ReflectionObject");if(oe.parent!==this)throw Error(oe+" is not a member of "+this);return delete this.nested[oe.name],Object.keys(this.nested).length||(this.nested=void 0),oe.onRemove(this),ee(this)},ie.prototype.define=function(oe,ue){if(ne.isString(oe))oe=oe.split(".");else if(!Array.isArray(oe))throw TypeError("illegal path");if(oe&&oe.length&&oe[0]==="")throw Error("path must be relative");for(var ae=this;oe.length>0;){var fe=oe.shift();if(ae.nested&&ae.nested[fe]){if(ae=ae.nested[fe],!(ae instanceof ie))throw Error("path conflicts with non-namespace objects")}else ae.add(ae=new ie(fe))}return ue&&ae.addJSON(ue),ae},ie.prototype.resolveAll=function(){for(var oe=this.nestedArray,ue=0;ue<oe.length;)oe[ue]instanceof ie?oe[ue++].resolveAll():oe[ue++].resolve();return this.resolve()},ie.prototype.lookup=function(oe,ue,ae){if(typeof ue=="boolean"?(ae=ue,ue=void 0):ue&&!Array.isArray(ue)&&(ue=[ue]),ne.isString(oe)&&oe.length){if(oe===".")return this.root;oe=oe.split(".")}else if(!oe.length)return this;if(oe[0]==="")return this.root.lookup(oe.slice(1),ue);var fe=this.get(oe[0]);if(fe){if(oe.length===1){if(!ue||ue.indexOf(fe.constructor)>-1)return fe}else if(fe instanceof ie&&(fe=fe.lookup(oe.slice(1),ue,!0)))return fe}else for(var he=0;he<this.nestedArray.length;++he)if(this._nestedArray[he]instanceof ie&&(fe=this._nestedArray[he].lookup(oe,ue,!0)))return fe;return this.parent===null||ae?null:this.parent.lookup(oe,ue)},ie.prototype.lookupType=function(oe){var ue=this.lookup(oe,[re]);if(!ue)throw Error("no such type: "+oe);return ue},ie.prototype.lookupEnum=function(oe){var ue=this.lookup(oe,[q]);if(!ue)throw Error("no such Enum '"+oe+"' in "+this);return ue},ie.prototype.lookupTypeOrEnum=function(oe){var ue=this.lookup(oe,[re,q]);if(!ue)throw Error("no such Type or Enum '"+oe+"' in "+this);return ue},ie.prototype.lookupService=function(oe){var ue=this.lookup(oe,[Q]);if(!ue)throw Error("no such Service '"+oe+"' in "+this);return ue},ie._configure=function(se,oe,ue){re=se,Q=oe,q=ue},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=ne;var W=requireField();((ne.prototype=Object.create(W.prototype)).constructor=ne).className="MapField";var a=requireTypes(),te=requireUtil();function ne(re,Q,q,X,ie,ee){if(W.call(this,re,Q,X,void 0,void 0,ie,ee),!te.isString(q))throw TypeError("keyType must be a string");this.keyType=q,this.resolvedKeyType=null,this.map=!0}return ne.fromJSON=function(Q,q){return new ne(Q,q.id,q.keyType,q.type,q.options,q.comment)},ne.prototype.toJSON=function(Q){var q=Q?Boolean(Q.keepComments):!1;return te.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",q?this.comment:void 0])},ne.prototype.resolve=function(){if(this.resolved)return this;if(a.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return W.prototype.resolve.call(this)},ne.d=function(Q,q,X){return typeof X=="function"?X=te.decorateType(X).name:X&&typeof X=="object"&&(X=te.decorateEnum(X).name),function(ee,se){te.decorateType(ee.constructor).add(new ne(se,Q,q,X))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=te;var W=requireObject();((te.prototype=Object.create(W.prototype)).constructor=te).className="Method";var a=requireUtil();function te(ne,re,Q,q,X,ie,ee,se,oe){if(a.isObject(X)?(ee=X,X=ie=void 0):a.isObject(ie)&&(ee=ie,ie=void 0),!(re===void 0||a.isString(re)))throw TypeError("type must be a string");if(!a.isString(Q))throw TypeError("requestType must be a string");if(!a.isString(q))throw TypeError("responseType must be a string");W.call(this,ne,ee),this.type=re||"rpc",this.requestType=Q,this.requestStream=X?!0:void 0,this.responseType=q,this.responseStream=ie?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=se,this.parsedOptions=oe}return te.fromJSON=function(re,Q){return new te(re,Q.type,Q.requestType,Q.responseType,Q.requestStream,Q.responseStream,Q.options,Q.comment,Q.parsedOptions)},te.prototype.toJSON=function(re){var Q=re?Boolean(re.keepComments):!1;return a.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",Q?this.comment:void 0,"parsedOptions",this.parsedOptions])},te.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),W.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=re;var W=requireNamespace();((re.prototype=Object.create(W.prototype)).constructor=re).className="Service";var a=requireMethod(),te=requireUtil(),ne=rpc;function re(q,X){W.call(this,q,X),this.methods={},this._methodsArray=null}re.fromJSON=function(X,ie){var ee=new re(X,ie.options);if(ie.methods)for(var se=Object.keys(ie.methods),oe=0;oe<se.length;++oe)ee.add(a.fromJSON(se[oe],ie.methods[se[oe]]));return ie.nested&&ee.addJSON(ie.nested),ee.comment=ie.comment,ee},re.prototype.toJSON=function(X){var ie=W.prototype.toJSON.call(this,X),ee=X?Boolean(X.keepComments):!1;return te.toObject(["options",ie&&ie.options||void 0,"methods",W.arrayToJSON(this.methodsArray,X)||{},"nested",ie&&ie.nested||void 0,"comment",ee?this.comment:void 0])},Object.defineProperty(re.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=te.toArray(this.methods))}});function Q(q){return q._methodsArray=null,q}return re.prototype.get=function(X){return this.methods[X]||W.prototype.get.call(this,X)},re.prototype.resolveAll=function(){for(var X=this.methodsArray,ie=0;ie<X.length;++ie)X[ie].resolve();return W.prototype.resolve.call(this)},re.prototype.add=function(X){if(this.get(X.name))throw Error("duplicate name '"+X.name+"' in "+this);return X instanceof a?(this.methods[X.name]=X,X.parent=this,Q(this)):W.prototype.add.call(this,X)},re.prototype.remove=function(X){if(X instanceof a){if(this.methods[X.name]!==X)throw Error(X+" is not a member of "+this);return delete this.methods[X.name],X.parent=null,Q(this)}return W.prototype.remove.call(this,X)},re.prototype.create=function(X,ie,ee){for(var se=new ne.Service(X,ie,ee),oe=0,ue;oe<this.methodsArray.length;++oe){var ae=te.lcFirst((ue=this._methodsArray[oe]).resolve().name).replace(/[^$\w_]/g,"");se[ae]=te.codegen(["r","c"],te.isReserved(ae)?ae+"_":ae)("return this.rpcCall(m,q,s,r,c)")({m:ue,q:ue.resolvedRequestType.ctor,s:ue.resolvedResponseType.ctor})}return se},service}var message=Message,util=requireMinimal();function Message(W){if(W)for(var a=Object.keys(W),te=0;te<a.length;++te)this[a[te]]=W[a[te]]}Message.create=function W(a){return this.$type.create(a)},Message.encode=function W(a,te){return this.$type.encode(a,te)},Message.encodeDelimited=function W(a,te){return this.$type.encodeDelimited(a,te)},Message.decode=function W(a){return this.$type.decode(a)},Message.decodeDelimited=function W(a){return this.$type.decodeDelimited(a)},Message.verify=function W(a){return this.$type.verify(a)},Message.fromObject=function W(a){return this.$type.fromObject(a)},Message.toObject=function W(a,te){return this.$type.toObject(a,te)},Message.prototype.toJSON=function W(){return this.$type.toObject(this,util.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=re;var W=require_enum(),a=requireTypes(),te=requireUtil();function ne(Q){return"missing required '"+Q.name+"'"}function re(Q){var q=te.codegen(["r","l"],Q.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(Q.fieldsArray.filter(function(ue){return ue.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");Q.group&&q("if((t&7)===4)")("break"),q("switch(t>>>3){");for(var X=0;X<Q.fieldsArray.length;++X){var ie=Q._fieldsArray[X].resolve(),ee=ie.resolvedType instanceof W?"int32":ie.type,se="m"+te.safeProp(ie.name);q("case %i:",ie.id),ie.map?(q("if(%s===util.emptyObject)",se)("%s={}",se)("var c2 = r.uint32()+r.pos"),a.defaults[ie.keyType]!==void 0?q("k=%j",a.defaults[ie.keyType]):q("k=null"),a.defaults[ee]!==void 0?q("value=%j",a.defaults[ee]):q("value=null"),q("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",ie.keyType)("case 2:"),a.basic[ee]===void 0?q("value=types[%i].decode(r,r.uint32())",X):q("value=r.%s()",ee),q("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),a.long[ie.keyType]!==void 0?q('%s[typeof k==="object"?util.longToHash(k):k]=value',se):q("%s[k]=value",se)):ie.repeated?(q("if(!(%s&&%s.length))",se,se)("%s=[]",se),a.packed[ee]!==void 0&&q("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",se,ee)("}else"),a.basic[ee]===void 0?q(ie.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",se,X):q("%s.push(r.%s())",se,ee)):a.basic[ee]===void 0?q(ie.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",se,X):q("%s=r.%s()",se,ee),q("break")}for(q("default:")("r.skipType(t&7)")("break")("}")("}"),X=0;X<Q._fieldsArray.length;++X){var oe=Q._fieldsArray[X];oe.required&&q("if(!m.hasOwnProperty(%j))",oe.name)("throw util.ProtocolError(%j,{instance:m})",ne(oe))}return q("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=Q;var W=require_enum(),a=requireUtil();function te(q,X){return q.name+": "+X+(q.repeated&&X!=="array"?"[]":q.map&&X!=="object"?"{k:"+q.keyType+"}":"")+" expected"}function ne(q,X,ie,ee){if(X.resolvedType)if(X.resolvedType instanceof W){q("switch(%s){",ee)("default:")("return%j",te(X,"enum value"));for(var se=Object.keys(X.resolvedType.values),oe=0;oe<se.length;++oe)q("case %i:",X.resolvedType.values[se[oe]]);q("break")("}")}else q("{")("var e=types[%i].verify(%s);",ie,ee)("if(e)")("return%j+e",X.name+".")("}");else switch(X.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":q("if(!util.isInteger(%s))",ee)("return%j",te(X,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":q("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",ee,ee,ee,ee)("return%j",te(X,"integer|Long"));break;case"float":case"double":q('if(typeof %s!=="number")',ee)("return%j",te(X,"number"));break;case"bool":q('if(typeof %s!=="boolean")',ee)("return%j",te(X,"boolean"));break;case"string":q("if(!util.isString(%s))",ee)("return%j",te(X,"string"));break;case"bytes":q('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',ee,ee,ee)("return%j",te(X,"buffer"));break}return q}function re(q,X,ie){switch(X.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":q("if(!util.key32Re.test(%s))",ie)("return%j",te(X,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":q("if(!util.key64Re.test(%s))",ie)("return%j",te(X,"integer|Long key"));break;case"bool":q("if(!util.key2Re.test(%s))",ie)("return%j",te(X,"boolean key"));break}return q}function Q(q){var X=a.codegen(["m"],q.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),ie=q.oneofsArray,ee={};ie.length&&X("var p={}");for(var se=0;se<q.fieldsArray.length;++se){var oe=q._fieldsArray[se].resolve(),ue="m"+a.safeProp(oe.name);if(oe.optional&&X("if(%s!=null&&m.hasOwnProperty(%j)){",ue,oe.name),oe.map)X("if(!util.isObject(%s))",ue)("return%j",te(oe,"object"))("var k=Object.keys(%s)",ue)("for(var i=0;i<k.length;++i){"),re(X,oe,"k[i]"),ne(X,oe,se,ue+"[k[i]]")("}");else if(oe.repeated)X("if(!Array.isArray(%s))",ue)("return%j",te(oe,"array"))("for(var i=0;i<%s.length;++i){",ue),ne(X,oe,se,ue+"[i]")("}");else{if(oe.partOf){var ae=a.safeProp(oe.partOf.name);ee[oe.partOf.name]===1&&X("if(p%s===1)",ae)("return%j",oe.partOf.name+": multiple values"),ee[oe.partOf.name]=1,X("p%s=1",ae)}ne(X,oe,se,ue)}oe.optional&&X("}")}return X("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(W){var a=W,te=require_enum(),ne=requireUtil();function re(q,X,ie,ee){if(X.resolvedType)if(X.resolvedType instanceof te){q("switch(d%s){",ee);for(var se=X.resolvedType.values,oe=Object.keys(se),ue=0;ue<oe.length;++ue)X.repeated&&se[oe[ue]]===X.typeDefault&&q("default:"),q("case%j:",oe[ue])("case %i:",se[oe[ue]])("m%s=%j",ee,se[oe[ue]])("break");q("}")}else q('if(typeof d%s!=="object")',ee)("throw TypeError(%j)",X.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",ee,ie,ee);else{var ae=!1;switch(X.type){case"double":case"float":q("m%s=Number(d%s)",ee,ee);break;case"uint32":case"fixed32":q("m%s=d%s>>>0",ee,ee);break;case"int32":case"sint32":case"sfixed32":q("m%s=d%s|0",ee,ee);break;case"uint64":ae=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":q("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",ee,ee,ae)('else if(typeof d%s==="string")',ee)("m%s=parseInt(d%s,10)",ee,ee)('else if(typeof d%s==="number")',ee)("m%s=d%s",ee,ee)('else if(typeof d%s==="object")',ee)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",ee,ee,ee,ae?"true":"");break;case"bytes":q('if(typeof d%s==="string")',ee)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",ee,ee,ee)("else if(d%s.length)",ee)("m%s=d%s",ee,ee);break;case"string":q("m%s=String(d%s)",ee,ee);break;case"bool":q("m%s=Boolean(d%s)",ee,ee);break}}return q}a.fromObject=function(X){var ie=X.fieldsArray,ee=ne.codegen(["d"],X.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!ie.length)return ee("return new this.ctor");ee("var m=new this.ctor");for(var se=0;se<ie.length;++se){var oe=ie[se].resolve(),ue=ne.safeProp(oe.name);oe.map?(ee("if(d%s){",ue)('if(typeof d%s!=="object")',ue)("throw TypeError(%j)",oe.fullName+": object expected")("m%s={}",ue)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",ue),re(ee,oe,se,ue+"[ks[i]]")("}")("}")):oe.repeated?(ee("if(d%s){",ue)("if(!Array.isArray(d%s))",ue)("throw TypeError(%j)",oe.fullName+": array expected")("m%s=[]",ue)("for(var i=0;i<d%s.length;++i){",ue),re(ee,oe,se,ue+"[i]")("}")("}")):(oe.resolvedType instanceof te||ee("if(d%s!=null){",ue),re(ee,oe,se,ue),oe.resolvedType instanceof te||ee("}"))}return ee("return m")};function Q(q,X,ie,ee){if(X.resolvedType)X.resolvedType instanceof te?q("d%s=o.enums===String?types[%i].values[m%s]:m%s",ee,ie,ee,ee):q("d%s=types[%i].toObject(m%s,o)",ee,ie,ee);else{var se=!1;switch(X.type){case"double":case"float":q("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",ee,ee,ee,ee);break;case"uint64":se=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":q('if(typeof m%s==="number")',ee)("d%s=o.longs===String?String(m%s):m%s",ee,ee,ee)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",ee,ee,ee,ee,se?"true":"",ee);break;case"bytes":q("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",ee,ee,ee,ee,ee);break;default:q("d%s=m%s",ee,ee);break}}return q}a.toObject=function(X){var ie=X.fieldsArray.slice().sort(ne.compareFieldsById);if(!ie.length)return ne.codegen()("return {}");for(var ee=ne.codegen(["m","o"],X.name+"$toObject")("if(!o)")("o={}")("var d={}"),se=[],oe=[],ue=[],ae=0;ae<ie.length;++ae)ie[ae].partOf||(ie[ae].resolve().repeated?se:ie[ae].map?oe:ue).push(ie[ae]);if(se.length){for(ee("if(o.arrays||o.defaults){"),ae=0;ae<se.length;++ae)ee("d%s=[]",ne.safeProp(se[ae].name));ee("}")}if(oe.length){for(ee("if(o.objects||o.defaults){"),ae=0;ae<oe.length;++ae)ee("d%s={}",ne.safeProp(oe[ae].name));ee("}")}if(ue.length){for(ee("if(o.defaults){"),ae=0;ae<ue.length;++ae){var fe=ue[ae],he=ne.safeProp(fe.name);if(fe.resolvedType instanceof te)ee("d%s=o.enums===String?%j:%j",he,fe.resolvedType.valuesById[fe.typeDefault],fe.typeDefault);else if(fe.long)ee("if(util.Long){")("var n=new util.Long(%i,%i,%j)",fe.typeDefault.low,fe.typeDefault.high,fe.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",he)("}else")("d%s=o.longs===String?%j:%i",he,fe.typeDefault.toString(),fe.typeDefault.toNumber());else if(fe.bytes){var pe="["+Array.prototype.slice.call(fe.typeDefault).join(",")+"]";ee("if(o.bytes===String)d%s=%j",he,String.fromCharCode.apply(String,fe.typeDefault))("else{")("d%s=%s",he,pe)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",he,he)("}")}else ee("d%s=%j",he,fe.typeDefault)}ee("}")}var de=!1;for(ae=0;ae<ie.length;++ae){var fe=ie[ae],le=X._fieldsArray.indexOf(fe),he=ne.safeProp(fe.name);fe.map?(de||(de=!0,ee("var ks2")),ee("if(m%s&&(ks2=Object.keys(m%s)).length){",he,he)("d%s={}",he)("for(var j=0;j<ks2.length;++j){"),Q(ee,fe,le,he+"[ks2[j]]")("}")):fe.repeated?(ee("if(m%s&&m%s.length){",he,he)("d%s=[]",he)("for(var j=0;j<m%s.length;++j){",he),Q(ee,fe,le,he+"[j]")("}")):(ee("if(m%s!=null&&m.hasOwnProperty(%j)){",he,fe.name),Q(ee,fe,le,he),fe.partOf&&ee("if(o.oneofs)")("d%s=%j",ne.safeProp(fe.partOf.name),fe.name)),ee("}")}return ee("return d")}}(converter)),converter}var wrappers={};(function(W){var a=W,te=message;a[".google.protobuf.Any"]={fromObject:function(ne){if(ne&&ne["@type"]){var re=ne["@type"].substring(ne["@type"].lastIndexOf("/")+1),Q=this.lookup(re);if(Q){var q=ne["@type"].charAt(0)==="."?ne["@type"].substr(1):ne["@type"];return q.indexOf("/")===-1&&(q="/"+q),this.create({type_url:q,value:Q.encode(Q.fromObject(ne)).finish()})}}return this.fromObject(ne)},toObject:function(ne,re){var Q="type.googleapis.com/",q="",X="";if(re&&re.json&&ne.type_url&&ne.value){X=ne.type_url.substring(ne.type_url.lastIndexOf("/")+1),q=ne.type_url.substring(0,ne.type_url.lastIndexOf("/")+1);var ie=this.lookup(X);ie&&(ne=ie.decode(ne.value))}if(!(ne instanceof this.ctor)&&ne instanceof te){var ee=ne.$type.toObject(ne,re),se=ne.$type.fullName[0]==="."?ne.$type.fullName.substr(1):ne.$type.fullName;return q===""&&(q=Q),X=q+se,ee["@type"]=X,ee}return this.toObject(ne,re)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=he;var W=requireNamespace();((he.prototype=Object.create(W.prototype)).constructor=he).className="Type";var a=require_enum(),te=requireOneof(),ne=requireField(),re=requireMapfield(),Q=requireService(),q=message,X=reader,ie=writer,ee=requireUtil(),se=requireEncoder(),oe=requireDecoder(),ue=requireVerifier(),ae=requireConverter(),fe=wrappers;function he(de,le){W.call(this,de,le),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(he.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var de=Object.keys(this.fields),le=0;le<de.length;++le){var ce=this.fields[de[le]],ge=ce.id;if(this._fieldsById[ge])throw Error("duplicate id "+ge+" in "+this);this._fieldsById[ge]=ce}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=ee.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=ee.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=he.generateConstructor(this)())},set:function(de){var le=de.prototype;le instanceof q||((de.prototype=new q).constructor=de,ee.merge(de.prototype,le)),de.$type=de.prototype.$type=this,ee.merge(de,q,!0),this._ctor=de;for(var ce=0;ce<this.fieldsArray.length;++ce)this._fieldsArray[ce].resolve();var ge={};for(ce=0;ce<this.oneofsArray.length;++ce)ge[this._oneofsArray[ce].resolve().name]={get:ee.oneOfGetter(this._oneofsArray[ce].oneof),set:ee.oneOfSetter(this._oneofsArray[ce].oneof)};ce&&Object.defineProperties(de.prototype,ge)}}}),he.generateConstructor=function(le){for(var ce=ee.codegen(["p"],le.name),ge=0,me;ge<le.fieldsArray.length;++ge)(me=le._fieldsArray[ge]).map?ce("this%s={}",ee.safeProp(me.name)):me.repeated&&ce("this%s=[]",ee.safeProp(me.name));return ce("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function pe(de){return de._fieldsById=de._fieldsArray=de._oneofsArray=null,delete de.encode,delete de.decode,delete de.verify,de}return he.fromJSON=function(le,ce){var ge=new he(le,ce.options);ge.extensions=ce.extensions,ge.reserved=ce.reserved;for(var me=Object.keys(ce.fields),ye=0;ye<me.length;++ye)ge.add((typeof ce.fields[me[ye]].keyType!="undefined"?re.fromJSON:ne.fromJSON)(me[ye],ce.fields[me[ye]]));if(ce.oneofs)for(me=Object.keys(ce.oneofs),ye=0;ye<me.length;++ye)ge.add(te.fromJSON(me[ye],ce.oneofs[me[ye]]));if(ce.nested)for(me=Object.keys(ce.nested),ye=0;ye<me.length;++ye){var ke=ce.nested[me[ye]];ge.add((ke.id!==void 0?ne.fromJSON:ke.fields!==void 0?he.fromJSON:ke.values!==void 0?a.fromJSON:ke.methods!==void 0?Q.fromJSON:W.fromJSON)(me[ye],ke))}return ce.extensions&&ce.extensions.length&&(ge.extensions=ce.extensions),ce.reserved&&ce.reserved.length&&(ge.reserved=ce.reserved),ce.group&&(ge.group=!0),ce.comment&&(ge.comment=ce.comment),ge},he.prototype.toJSON=function(le){var ce=W.prototype.toJSON.call(this,le),ge=le?Boolean(le.keepComments):!1;return ee.toObject(["options",ce&&ce.options||void 0,"oneofs",W.arrayToJSON(this.oneofsArray,le),"fields",W.arrayToJSON(this.fieldsArray.filter(function(me){return!me.declaringField}),le)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",ce&&ce.nested||void 0,"comment",ge?this.comment:void 0])},he.prototype.resolveAll=function(){for(var le=this.fieldsArray,ce=0;ce<le.length;)le[ce++].resolve();var ge=this.oneofsArray;for(ce=0;ce<ge.length;)ge[ce++].resolve();return W.prototype.resolveAll.call(this)},he.prototype.get=function(le){return this.fields[le]||this.oneofs&&this.oneofs[le]||this.nested&&this.nested[le]||null},he.prototype.add=function(le){if(this.get(le.name))throw Error("duplicate name '"+le.name+"' in "+this);if(le instanceof ne&&le.extend===void 0){if(this._fieldsById?this._fieldsById[le.id]:this.fieldsById[le.id])throw Error("duplicate id "+le.id+" in "+this);if(this.isReservedId(le.id))throw Error("id "+le.id+" is reserved in "+this);if(this.isReservedName(le.name))throw Error("name '"+le.name+"' is reserved in "+this);return le.parent&&le.parent.remove(le),this.fields[le.name]=le,le.message=this,le.onAdd(this),pe(this)}return le instanceof te?(this.oneofs||(this.oneofs={}),this.oneofs[le.name]=le,le.onAdd(this),pe(this)):W.prototype.add.call(this,le)},he.prototype.remove=function(le){if(le instanceof ne&&le.extend===void 0){if(!this.fields||this.fields[le.name]!==le)throw Error(le+" is not a member of "+this);return delete this.fields[le.name],le.parent=null,le.onRemove(this),pe(this)}if(le instanceof te){if(!this.oneofs||this.oneofs[le.name]!==le)throw Error(le+" is not a member of "+this);return delete this.oneofs[le.name],le.parent=null,le.onRemove(this),pe(this)}return W.prototype.remove.call(this,le)},he.prototype.isReservedId=function(le){return W.isReservedId(this.reserved,le)},he.prototype.isReservedName=function(le){return W.isReservedName(this.reserved,le)},he.prototype.create=function(le){return new this.ctor(le)},he.prototype.setup=function(){for(var le=this.fullName,ce=[],ge=0;ge<this.fieldsArray.length;++ge)ce.push(this._fieldsArray[ge].resolve().resolvedType);this.encode=se(this)({Writer:ie,types:ce,util:ee}),this.decode=oe(this)({Reader:X,types:ce,util:ee}),this.verify=ue(this)({types:ce,util:ee}),this.fromObject=ae.fromObject(this)({types:ce,util:ee}),this.toObject=ae.toObject(this)({types:ce,util:ee});var me=fe[le];if(me){var ye=Object.create(this);ye.fromObject=this.fromObject,this.fromObject=me.fromObject.bind(ye),ye.toObject=this.toObject,this.toObject=me.toObject.bind(ye)}return this},he.prototype.encode=function(le,ce){return this.setup().encode(le,ce)},he.prototype.encodeDelimited=function(le,ce){return this.encode(le,ce&&ce.len?ce.fork():ce).ldelim()},he.prototype.decode=function(le,ce){return this.setup().decode(le,ce)},he.prototype.decodeDelimited=function(le){return le instanceof X||(le=X.create(le)),this.decode(le,le.uint32())},he.prototype.verify=function(le){return this.setup().verify(le)},he.prototype.fromObject=function(le){return this.setup().fromObject(le)},he.prototype.toObject=function(le,ce){return this.setup().toObject(le,ce)},he.d=function(le){return function(ge){ee.decorateType(ge,le)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=ie;var W=requireNamespace();((ie.prototype=Object.create(W.prototype)).constructor=ie).className="Root";var a=requireField(),te=require_enum(),ne=requireOneof(),re=requireUtil(),Q,q,X;function ie(ue){W.call(this,"",ue),this.deferred=[],this.files=[]}ie.fromJSON=function(ae,fe){return fe||(fe=new ie),ae.options&&fe.setOptions(ae.options),fe.addJSON(ae.nested)},ie.prototype.resolvePath=re.path.resolve,ie.prototype.fetch=re.fetch;function ee(){}ie.prototype.load=function ue(ae,fe,he){typeof fe=="function"&&(he=fe,fe=void 0);var pe=this;if(!he)return re.asPromise(ue,pe,ae,fe);var de=he===ee;function le(ve,we){if(!!he){var Oe=he;if(he=null,de)throw ve;Oe(ve,we)}}function ce(ve){var we=ve.lastIndexOf("google/protobuf/");if(we>-1){var Oe=ve.substring(we);if(Oe in X)return Oe}return null}function ge(ve,we){try{if(re.isString(we)&&we.charAt(0)==="{"&&(we=JSON.parse(we)),!re.isString(we))pe.setOptions(we.options).addJSON(we.nested);else{q.filename=ve;var Oe=q(we,pe,fe),be,_e=0;if(Oe.imports)for(;_e<Oe.imports.length;++_e)(be=ce(Oe.imports[_e])||pe.resolvePath(ve,Oe.imports[_e]))&&me(be);if(Oe.weakImports)for(_e=0;_e<Oe.weakImports.length;++_e)(be=ce(Oe.weakImports[_e])||pe.resolvePath(ve,Oe.weakImports[_e]))&&me(be,!0)}}catch(Re){le(Re)}!de&&!ye&&le(null,pe)}function me(ve,we){if(!(pe.files.indexOf(ve)>-1)){if(pe.files.push(ve),ve in X){de?ge(ve,X[ve]):(++ye,setTimeout(function(){--ye,ge(ve,X[ve])}));return}if(de){var Oe;try{Oe=re.fs.readFileSync(ve).toString("utf8")}catch(be){we||le(be);return}ge(ve,Oe)}else++ye,pe.fetch(ve,function(be,_e){if(--ye,!!he){if(be){we?ye||le(null,pe):le(be);return}ge(ve,_e)}})}}var ye=0;re.isString(ae)&&(ae=[ae]);for(var ke=0,Be;ke<ae.length;++ke)(Be=pe.resolvePath("",ae[ke]))&&me(Be);if(de)return pe;ye||le(null,pe)},ie.prototype.loadSync=function(ae,fe){if(!re.isNode)throw Error("not supported");return this.load(ae,fe,ee)},ie.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(ae){return"'extend "+ae.extend+"' in "+ae.parent.fullName}).join(", "));return W.prototype.resolveAll.call(this)};var se=/^[A-Z]/;function oe(ue,ae){var fe=ae.parent.lookup(ae.extend);if(fe){var he=new a(ae.fullName,ae.id,ae.type,ae.rule,void 0,ae.options);return he.declaringField=ae,ae.extensionField=he,fe.add(he),!0}return!1}return ie.prototype._handleAdd=function(ae){if(ae instanceof a)ae.extend!==void 0&&!ae.extensionField&&(oe(this,ae)||this.deferred.push(ae));else if(ae instanceof te)se.test(ae.name)&&(ae.parent[ae.name]=ae.values);else if(!(ae instanceof ne)){if(ae instanceof Q)for(var fe=0;fe<this.deferred.length;)oe(this,this.deferred[fe])?this.deferred.splice(fe,1):++fe;for(var he=0;he<ae.nestedArray.length;++he)this._handleAdd(ae._nestedArray[he]);se.test(ae.name)&&(ae.parent[ae.name]=ae)}},ie.prototype._handleRemove=function(ae){if(ae instanceof a){if(ae.extend!==void 0)if(ae.extensionField)ae.extensionField.parent.remove(ae.extensionField),ae.extensionField=null;else{var fe=this.deferred.indexOf(ae);fe>-1&&this.deferred.splice(fe,1)}}else if(ae instanceof te)se.test(ae.name)&&delete ae.parent[ae.name];else if(ae instanceof W){for(var he=0;he<ae.nestedArray.length;++he)this._handleRemove(ae._nestedArray[he]);se.test(ae.name)&&delete ae.parent[ae.name]}},ie._configure=function(ue,ae,fe){Q=ue,q=ae,X=fe},root}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(W){var a=W.exports=requireMinimal(),te=roots,ne,re;a.codegen=codegen_1,a.fetch=fetch_1,a.path=path,a.fs=a.inquire("fs"),a.toArray=function(se){if(se){for(var oe=Object.keys(se),ue=new Array(oe.length),ae=0;ae<oe.length;)ue[ae]=se[oe[ae++]];return ue}return[]},a.toObject=function(se){for(var oe={},ue=0;ue<se.length;){var ae=se[ue++],fe=se[ue++];fe!==void 0&&(oe[ae]=fe)}return oe};var Q=/\\/g,q=/"/g;a.isReserved=function(se){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(se)},a.safeProp=function(se){return!/^[$\w_]+$/.test(se)||a.isReserved(se)?'["'+se.replace(Q,"\\\\").replace(q,'\\"')+'"]':"."+se},a.ucFirst=function(se){return se.charAt(0).toUpperCase()+se.substring(1)};var X=/_([a-z])/g;a.camelCase=function(se){return se.substring(0,1)+se.substring(1).replace(X,function(oe,ue){return ue.toUpperCase()})},a.compareFieldsById=function(se,oe){return se.id-oe.id},a.decorateType=function(se,oe){if(se.$type)return oe&&se.$type.name!==oe&&(a.decorateRoot.remove(se.$type),se.$type.name=oe,a.decorateRoot.add(se.$type)),se.$type;ne||(ne=requireType());var ue=new ne(oe||se.name);return a.decorateRoot.add(ue),ue.ctor=se,Object.defineProperty(se,"$type",{value:ue,enumerable:!1}),Object.defineProperty(se.prototype,"$type",{value:ue,enumerable:!1}),ue};var ie=0;a.decorateEnum=function(se){if(se.$type)return se.$type;re||(re=require_enum());var oe=new re("Enum"+ie++,se);return a.decorateRoot.add(oe),Object.defineProperty(se,"$type",{value:oe,enumerable:!1}),oe},a.setProperty=function(se,oe,ue){function ae(fe,he,pe){var de=he.shift();if(he.length>0)fe[de]=ae(fe[de]||{},he,pe);else{var le=fe[de];le&&(pe=[].concat(le).concat(pe)),fe[de]=pe}return fe}if(typeof se!="object")throw TypeError("dst must be an object");if(!oe)throw TypeError("path must be specified");return oe=oe.split("."),ae(se,oe,ue)},Object.defineProperty(a,"decorateRoot",{get:function(){return te.decorated||(te.decorated=new(requireRoot()))}})}(util$1)),util$1.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=te,te.className="ReflectionObject";var W=requireUtil(),a;function te(ne,re){if(!W.isString(ne))throw TypeError("name must be a string");if(re&&!W.isObject(re))throw TypeError("options must be an object");this.options=re,this.parsedOptions=null,this.name=ne,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(te.prototype,{root:{get:function(){for(var ne=this;ne.parent!==null;)ne=ne.parent;return ne}},fullName:{get:function(){for(var ne=[this.name],re=this.parent;re;)ne.unshift(re.name),re=re.parent;return ne.join(".")}}}),te.prototype.toJSON=function(){throw Error()},te.prototype.onAdd=function(re){this.parent&&this.parent!==re&&this.parent.remove(this),this.parent=re,this.resolved=!1;var Q=re.root;Q instanceof a&&Q._handleAdd(this)},te.prototype.onRemove=function(re){var Q=re.root;Q instanceof a&&Q._handleRemove(this),this.parent=null,this.resolved=!1},te.prototype.resolve=function(){return this.resolved?this:(this.root instanceof a&&(this.resolved=!0),this)},te.prototype.getOption=function(re){if(this.options)return this.options[re]},te.prototype.setOption=function(re,Q,q){return(!q||!this.options||this.options[re]===void 0)&&((this.options||(this.options={}))[re]=Q),this},te.prototype.setParsedOption=function(re,Q,q){this.parsedOptions||(this.parsedOptions=[]);var X=this.parsedOptions;if(q){var ie=X.find(function(oe){return Object.prototype.hasOwnProperty.call(oe,re)});if(ie){var ee=ie[re];W.setProperty(ee,q,Q)}else ie={},ie[re]=W.setProperty({},q,Q),X.push(ie)}else{var se={};se[re]=Q,X.push(se)}return this},te.prototype.setOptions=function(re,Q){if(re)for(var q=Object.keys(re),X=0;X<q.length;++X)this.setOption(q[X],re[q[X]],Q);return this},te.prototype.toString=function(){var re=this.constructor.className,Q=this.fullName;return Q.length?re+" "+Q:re},te._configure=function(ne){a=ne},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=ne;var W=requireObject();((ne.prototype=Object.create(W.prototype)).constructor=ne).className="Enum";var a=requireNamespace(),te=requireUtil();function ne(re,Q,q,X,ie){if(W.call(this,re,q),Q&&typeof Q!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=X,this.comments=ie||{},this.reserved=void 0,Q)for(var ee=Object.keys(Q),se=0;se<ee.length;++se)typeof Q[ee[se]]=="number"&&(this.valuesById[this.values[ee[se]]=Q[ee[se]]]=ee[se])}return ne.fromJSON=function(Q,q){var X=new ne(Q,q.values,q.options,q.comment,q.comments);return X.reserved=q.reserved,X},ne.prototype.toJSON=function(Q){var q=Q?Boolean(Q.keepComments):!1;return te.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",q?this.comment:void 0,"comments",q?this.comments:void 0])},ne.prototype.add=function(Q,q,X){if(!te.isString(Q))throw TypeError("name must be a string");if(!te.isInteger(q))throw TypeError("id must be an integer");if(this.values[Q]!==void 0)throw Error("duplicate name '"+Q+"' in "+this);if(this.isReservedId(q))throw Error("id "+q+" is reserved in "+this);if(this.isReservedName(Q))throw Error("name '"+Q+"' is reserved in "+this);if(this.valuesById[q]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+q+" in "+this);this.values[Q]=q}else this.valuesById[this.values[Q]=q]=Q;return this.comments[Q]=X||null,this},ne.prototype.remove=function(Q){if(!te.isString(Q))throw TypeError("name must be a string");var q=this.values[Q];if(q==null)throw Error("name '"+Q+"' does not exist in "+this);return delete this.valuesById[q],delete this.values[Q],delete this.comments[Q],this},ne.prototype.isReservedId=function(Q){return a.isReservedId(this.reserved,Q)},ne.prototype.isReservedName=function(Q){return a.isReservedName(this.reserved,Q)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=re;var W=require_enum(),a=requireTypes(),te=requireUtil();function ne(Q,q,X,ie){return q.resolvedType.group?Q("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",X,ie,(q.id<<3|3)>>>0,(q.id<<3|4)>>>0):Q("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",X,ie,(q.id<<3|2)>>>0)}function re(Q){for(var q=te.codegen(["m","w"],Q.name+"$encode")("if(!w)")("w=Writer.create()"),X,ie,ee=Q.fieldsArray.slice().sort(te.compareFieldsById),X=0;X<ee.length;++X){var se=ee[X].resolve(),oe=Q._fieldsArray.indexOf(se),ue=se.resolvedType instanceof W?"int32":se.type,ae=a.basic[ue];ie="m"+te.safeProp(se.name),se.map?(q("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",ie,se.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",ie)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(se.id<<3|2)>>>0,8|a.mapKey[se.keyType],se.keyType),ae===void 0?q("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",oe,ie):q(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|ae,ue,ie),q("}")("}")):se.repeated?(q("if(%s!=null&&%s.length){",ie,ie),se.packed&&a.packed[ue]!==void 0?q("w.uint32(%i).fork()",(se.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",ie)("w.%s(%s[i])",ue,ie)("w.ldelim()"):(q("for(var i=0;i<%s.length;++i)",ie),ae===void 0?ne(q,se,oe,ie+"[i]"):q("w.uint32(%i).%s(%s[i])",(se.id<<3|ae)>>>0,ue,ie)),q("}")):(se.optional&&q("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",ie,se.name),ae===void 0?ne(q,se,oe,ie):q("w.uint32(%i).%s(%s)",(se.id<<3|ae)>>>0,ue,ie))}return q("return w")}return encoder_1}(function(W){var a=W.exports=indexMinimal;a.build="light";function te(re,Q,q){return typeof Q=="function"?(q=Q,Q=new a.Root):Q||(Q=new a.Root),Q.load(re,q)}a.load=te;function ne(re,Q){return Q||(Q=new a.Root),Q.loadSync(re)}a.loadSync=ne,a.encoder=requireEncoder(),a.decoder=requireDecoder(),a.verifier=requireVerifier(),a.converter=requireConverter(),a.ReflectionObject=requireObject(),a.Namespace=requireNamespace(),a.Root=requireRoot(),a.Enum=require_enum(),a.Type=requireType(),a.Field=requireField(),a.OneOf=requireOneof(),a.MapField=requireMapfield(),a.Service=requireService(),a.Method=requireMethod(),a.Message=message,a.wrappers=wrappers,a.types=requireTypes(),a.util=requireUtil(),a.ReflectionObject._configure(a.Root),a.Namespace._configure(a.Type,a.Service,a.Enum),a.Root._configure(a.Type),a.Field._configure(a.Type)})(indexLight),function(W){W.exports=indexLight.exports}(light);var x=getDefaultExportFromCjs(light.exports);/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(W){}function Long(W,a,te){this.low=W|0,this.high=a|0,this.unsigned=!!te}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(W){return(W&&W.__isLong__)===!0}function ctz32(W){var a=Math.clz32(W&-W);return W?31-a:a}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(W,a){var te,ne,re;return a?(W>>>=0,(re=0<=W&&W<256)&&(ne=UINT_CACHE[W],ne)?ne:(te=fromBits(W,0,!0),re&&(UINT_CACHE[W]=te),te)):(W|=0,(re=-128<=W&&W<128)&&(ne=INT_CACHE[W],ne)?ne:(te=fromBits(W,W<0?-1:0,!1),re&&(INT_CACHE[W]=te),te))}Long.fromInt=fromInt;function fromNumber(W,a){if(isNaN(W))return a?UZERO:ZERO;if(a){if(W<0)return UZERO;if(W>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(W<=-TWO_PWR_63_DBL)return MIN_VALUE;if(W+1>=TWO_PWR_63_DBL)return MAX_VALUE}return W<0?fromNumber(-W,a).neg():fromBits(W%TWO_PWR_32_DBL|0,W/TWO_PWR_32_DBL|0,a)}Long.fromNumber=fromNumber;function fromBits(W,a,te){return new Long(W,a,te)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(W,a,te){if(W.length===0)throw Error("empty string");if(typeof a=="number"?(te=a,a=!1):a=!!a,W==="NaN"||W==="Infinity"||W==="+Infinity"||W==="-Infinity")return a?UZERO:ZERO;if(te=te||10,te<2||36<te)throw RangeError("radix");var ne;if((ne=W.indexOf("-"))>0)throw Error("interior hyphen");if(ne===0)return fromString(W.substring(1),a,te).neg();for(var re=fromNumber(pow_dbl(te,8)),Q=ZERO,q=0;q<W.length;q+=8){var X=Math.min(8,W.length-q),ie=parseInt(W.substring(q,q+X),te);if(X<8){var ee=fromNumber(pow_dbl(te,X));Q=Q.mul(ee).add(fromNumber(ie))}else Q=Q.mul(re),Q=Q.add(fromNumber(ie))}return Q.unsigned=a,Q}Long.fromString=fromString;function fromValue(W,a){return typeof W=="number"?fromNumber(W,a):typeof W=="string"?fromString(W,a):fromBits(W.low,W.high,typeof a=="boolean"?a:W.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function W(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function W(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function W(a){if(a=a||10,a<2||36<a)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var te=fromNumber(a),ne=this.div(te),re=ne.mul(te).sub(this);return ne.toString(a)+re.toInt().toString(a)}else return"-"+this.neg().toString(a);for(var Q=fromNumber(pow_dbl(a,6),this.unsigned),q=this,X="";;){var ie=q.div(Q),ee=q.sub(ie.mul(Q)).toInt()>>>0,se=ee.toString(a);if(q=ie,q.isZero())return se+X;for(;se.length<6;)se="0"+se;X=""+se+X}},LongPrototype.getHighBits=function W(){return this.high},LongPrototype.getHighBitsUnsigned=function W(){return this.high>>>0},LongPrototype.getLowBits=function W(){return this.low},LongPrototype.getLowBitsUnsigned=function W(){return this.low>>>0},LongPrototype.getNumBitsAbs=function W(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var a=this.high!=0?this.high:this.low,te=31;te>0&&(a&1<<te)==0;te--);return this.high!=0?te+33:te+1},LongPrototype.isZero=function W(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function W(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function W(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function W(){return(this.low&1)===1},LongPrototype.isEven=function W(){return(this.low&1)===0},LongPrototype.equals=function W(a){return isLong(a)||(a=fromValue(a)),this.unsigned!==a.unsigned&&this.high>>>31===1&&a.high>>>31===1?!1:this.high===a.high&&this.low===a.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function W(a){return!this.eq(a)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function W(a){return this.comp(a)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function W(a){return this.comp(a)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function W(a){return this.comp(a)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function W(a){return this.comp(a)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function W(a){if(isLong(a)||(a=fromValue(a)),this.eq(a))return 0;var te=this.isNegative(),ne=a.isNegative();return te&&!ne?-1:!te&&ne?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1:this.sub(a).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function W(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function W(a){isLong(a)||(a=fromValue(a));var te=this.high>>>16,ne=this.high&65535,re=this.low>>>16,Q=this.low&65535,q=a.high>>>16,X=a.high&65535,ie=a.low>>>16,ee=a.low&65535,se=0,oe=0,ue=0,ae=0;return ae+=Q+ee,ue+=ae>>>16,ae&=65535,ue+=re+ie,oe+=ue>>>16,ue&=65535,oe+=ne+X,se+=oe>>>16,oe&=65535,se+=te+q,se&=65535,fromBits(ue<<16|ae,se<<16|oe,this.unsigned)},LongPrototype.subtract=function W(a){return isLong(a)||(a=fromValue(a)),this.add(a.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function W(a){if(this.isZero())return this;if(isLong(a)||(a=fromValue(a)),wasm){var te=wasm.mul(this.low,this.high,a.low,a.high);return fromBits(te,wasm.get_high(),this.unsigned)}if(a.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return a.isOdd()?MIN_VALUE:ZERO;if(a.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return a.isNegative()?this.neg().mul(a.neg()):this.neg().mul(a).neg();if(a.isNegative())return this.mul(a.neg()).neg();if(this.lt(TWO_PWR_24)&&a.lt(TWO_PWR_24))return fromNumber(this.toNumber()*a.toNumber(),this.unsigned);var ne=this.high>>>16,re=this.high&65535,Q=this.low>>>16,q=this.low&65535,X=a.high>>>16,ie=a.high&65535,ee=a.low>>>16,se=a.low&65535,oe=0,ue=0,ae=0,fe=0;return fe+=q*se,ae+=fe>>>16,fe&=65535,ae+=Q*se,ue+=ae>>>16,ae&=65535,ae+=q*ee,ue+=ae>>>16,ae&=65535,ue+=re*se,oe+=ue>>>16,ue&=65535,ue+=Q*ee,oe+=ue>>>16,ue&=65535,ue+=q*ie,oe+=ue>>>16,ue&=65535,oe+=ne*se+re*ee+Q*ie+q*X,oe&=65535,fromBits(ae<<16|fe,oe<<16|ue,this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function W(a){if(isLong(a)||(a=fromValue(a)),a.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&a.low===-1&&a.high===-1)return this;var te=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,a.low,a.high);return fromBits(te,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var ne,re,Q;if(this.unsigned){if(a.unsigned||(a=a.toUnsigned()),a.gt(this))return UZERO;if(a.gt(this.shru(1)))return UONE;Q=UZERO}else{if(this.eq(MIN_VALUE)){if(a.eq(ONE)||a.eq(NEG_ONE))return MIN_VALUE;if(a.eq(MIN_VALUE))return ONE;var q=this.shr(1);return ne=q.div(a).shl(1),ne.eq(ZERO)?a.isNegative()?ONE:NEG_ONE:(re=this.sub(a.mul(ne)),Q=ne.add(re.div(a)),Q)}else if(a.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return a.isNegative()?this.neg().div(a.neg()):this.neg().div(a).neg();if(a.isNegative())return this.div(a.neg()).neg();Q=ZERO}for(re=this;re.gte(a);){ne=Math.max(1,Math.floor(re.toNumber()/a.toNumber()));for(var X=Math.ceil(Math.log(ne)/Math.LN2),ie=X<=48?1:pow_dbl(2,X-48),ee=fromNumber(ne),se=ee.mul(a);se.isNegative()||se.gt(re);)ne-=ie,ee=fromNumber(ne,this.unsigned),se=ee.mul(a);ee.isZero()&&(ee=ONE),Q=Q.add(ee),re=re.sub(se)}return Q},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function W(a){if(isLong(a)||(a=fromValue(a)),wasm){var te=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,a.low,a.high);return fromBits(te,wasm.get_high(),this.unsigned)}return this.sub(this.div(a).mul(a))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function W(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function W(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function W(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function W(a){return isLong(a)||(a=fromValue(a)),fromBits(this.low&a.low,this.high&a.high,this.unsigned)},LongPrototype.or=function W(a){return isLong(a)||(a=fromValue(a)),fromBits(this.low|a.low,this.high|a.high,this.unsigned)},LongPrototype.xor=function W(a){return isLong(a)||(a=fromValue(a)),fromBits(this.low^a.low,this.high^a.high,this.unsigned)},LongPrototype.shiftLeft=function W(a){return isLong(a)&&(a=a.toInt()),(a&=63)===0?this:a<32?fromBits(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):fromBits(0,this.low<<a-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function W(a){return isLong(a)&&(a=a.toInt()),(a&=63)===0?this:a<32?fromBits(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):fromBits(this.high>>a-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function W(a){return isLong(a)&&(a=a.toInt()),(a&=63)===0?this:a<32?fromBits(this.low>>>a|this.high<<32-a,this.high>>>a,this.unsigned):a===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>a-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function W(a){var te;return isLong(a)&&(a=a.toInt()),(a&=63)===0?this:a===32?fromBits(this.high,this.low,this.unsigned):a<32?(te=32-a,fromBits(this.low<<a|this.high>>>te,this.high<<a|this.low>>>te,this.unsigned)):(a-=32,te=32-a,fromBits(this.high<<a|this.low>>>te,this.low<<a|this.high>>>te,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function W(a){var te;return isLong(a)&&(a=a.toInt()),(a&=63)===0?this:a===32?fromBits(this.high,this.low,this.unsigned):a<32?(te=32-a,fromBits(this.high<<te|this.low>>>a,this.low<<te|this.high>>>a,this.unsigned)):(a-=32,te=32-a,fromBits(this.low<<te|this.high>>>a,this.high<<te|this.low>>>a,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function W(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function W(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function W(a){return a?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function W(){var a=this.high,te=this.low;return[te&255,te>>>8&255,te>>>16&255,te>>>24,a&255,a>>>8&255,a>>>16&255,a>>>24]},LongPrototype.toBytesBE=function W(){var a=this.high,te=this.low;return[a>>>24,a>>>16&255,a>>>8&255,a&255,te>>>24,te>>>16&255,te>>>8&255,te&255]},Long.fromBytes=function W(a,te,ne){return ne?Long.fromBytesLE(a,te):Long.fromBytesBE(a,te)},Long.fromBytesLE=function W(a,te){return new Long(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24,te)},Long.fromBytesBE=function W(a,te){return new Long(a[4]<<24|a[5]<<16|a[6]<<8|a[7],a[0]<<24|a[1]<<16|a[2]<<8|a[3],te)};var g=Object.defineProperty,m$1=Object.getOwnPropertyDescriptor,i=(W,a,te,ne)=>{for(var re=ne>1?void 0:ne?m$1(a,te):a,Q=W.length-1,q;Q>=0;Q--)(q=W[Q])&&(re=(ne?q(a,te,re):q(re))||re);return ne&&re&&g(a,te,re),re};const{Message:d,Field:e,Type:n}=x;let BrokenBackupHistory=class extends d{};i([e.d(0,"string","required")],BrokenBackupHistory.prototype,"url",2),i([e.d(1,"int64","required")],BrokenBackupHistory.prototype,"lastRead",2),BrokenBackupHistory=i([n.d()],BrokenBackupHistory);let BackupHistory=class extends d{};i([e.d(1,"string","required")],BackupHistory.prototype,"url",2),i([e.d(2,"int64","required")],BackupHistory.prototype,"lastRead",2),BackupHistory=i([n.d()],BackupHistory);let BrokenBackupSource=class extends d{};i([e.d(0,"string","required")],BrokenBackupSource.prototype,"name",2),i([e.d(1,"int64","required")],BrokenBackupSource.prototype,"sourceId",2),BrokenBackupSource=i([n.d()],BrokenBackupSource);let BackupSource=class extends d{};i([e.d(1,"string","required")],BackupSource.prototype,"name",2),i([e.d(2,"int64","required")],BackupSource.prototype,"sourceId",2),BackupSource=i([n.d()],BackupSource);let BackupCategory=class extends d{constructor(){super(...arguments),this.order=new Long(0),this.flags=new Long(0)}};i([e.d(1,"string","required")],BackupCategory.prototype,"name",2),i([e.d(2,"int64","optional")],BackupCategory.prototype,"order",2),i([e.d(100,"int64","optional")],BackupCategory.prototype,"flags",2),BackupCategory=i([n.d()],BackupCategory);let BackupChapter=class extends d{constructor(){super(...arguments),this.read=!1,this.bookmark=!1,this.lastPageRead=0,this.dateFetch=new Long(0),this.dateUpload=new Long(0),this.chapterNumber=0,this.sourceOrder=0}};i([e.d(1,"string","required")],BackupChapter.prototype,"url",2),i([e.d(2,"string","required")],BackupChapter.prototype,"name",2),i([e.d(3,"string","optional")],BackupChapter.prototype,"scanlator",2),i([e.d(4,"bool","optional")],BackupChapter.prototype,"read",2),i([e.d(5,"bool","optional")],BackupChapter.prototype,"bookmark",2),i([e.d(6,"int32","optional")],BackupChapter.prototype,"lastPageRead",2),i([e.d(7,"int64","optional")],BackupChapter.prototype,"dateFetch",2),i([e.d(8,"int64","optional")],BackupChapter.prototype,"dateUpload",2),i([e.d(9,"float","optional")],BackupChapter.prototype,"chapterNumber",2),i([e.d(10,"int32","optional")],BackupChapter.prototype,"sourceOrder",2),BackupChapter=i([n.d()],BackupChapter);let BackupTracking=class extends d{constructor(){super(...arguments),this.mediaIdInt=0,this.trackingUrl="",this.title="",this.lastChapterRead=0,this.totalChapters=0,this.score=0,this.status=0,this.startedReadingDate=new Long(0),this.finishedReadingDate=new Long(0),this.mediaId=new Long(0)}};i([e.d(1,"int32","required")],BackupTracking.prototype,"syncId",2),i([e.d(2,"int64","required")],BackupTracking.prototype,"libraryId",2),i([e.d(3,"int32","optional")],BackupTracking.prototype,"mediaIdInt",2),i([e.d(4,"string","optional")],BackupTracking.prototype,"trackingUrl",2),i([e.d(5,"string","optional")],BackupTracking.prototype,"title",2),i([e.d(6,"float","optional")],BackupTracking.prototype,"lastChapterRead",2),i([e.d(7,"int32","optional")],BackupTracking.prototype,"totalChapters",2),i([e.d(8,"float","optional")],BackupTracking.prototype,"score",2),i([e.d(9,"int32","optional")],BackupTracking.prototype,"status",2),i([e.d(10,"int64","optional")],BackupTracking.prototype,"startedReadingDate",2),i([e.d(11,"int64","optional")],BackupTracking.prototype,"finishedReadingDate",2),i([e.d(100,"int64","optional")],BackupTracking.prototype,"mediaId",2),BackupTracking=i([n.d()],BackupTracking);let BackupManga=class extends d{constructor(){super(...arguments),this.title="",this.genre=[],this.status=0,this.dateAdded=new Long(0),this.viewer=0,this.chapters=[],this.categories=[],this.tracking=[],this.favorite=!1,this.chapterFlags=0,this.brokenHistory=[],this.history=[]}};i([e.d(1,"int64","required")],BackupManga.prototype,"source",2),i([e.d(2,"string","required")],BackupManga.prototype,"url",2),i([e.d(3,"string","optional")],BackupManga.prototype,"title",2),i([e.d(4,"string","optional")],BackupManga.prototype,"artist",2),i([e.d(5,"string","optional")],BackupManga.prototype,"author",2),i([e.d(6,"string","optional")],BackupManga.prototype,"description",2),i([e.d(7,"string","repeated")],BackupManga.prototype,"genre",2),i([e.d(8,"int32","optional")],BackupManga.prototype,"status",2),i([e.d(9,"string","optional")],BackupManga.prototype,"thumbnailUrl",2),i([e.d(13,"int64","optional")],BackupManga.prototype,"dateAdded",2),i([e.d(14,"int32","optional")],BackupManga.prototype,"viewer",2),i([e.d(16,BackupChapter,"repeated")],BackupManga.prototype,"chapters",2),i([e.d(17,"int64","repeated")],BackupManga.prototype,"categories",2),i([e.d(18,BackupTracking,"repeated")],BackupManga.prototype,"tracking",2),i([e.d(100,"bool","optional")],BackupManga.prototype,"favorite",2),i([e.d(101,"int32","optional")],BackupManga.prototype,"chapterFlags",2),i([e.d(102,BrokenBackupHistory,"repeated")],BackupManga.prototype,"brokenHistory",2),i([e.d(103,"int32","optional")],BackupManga.prototype,"viewerFlags",2),i([e.d(104,BackupHistory,"repeated")],BackupManga.prototype,"history",2),BackupManga=i([n.d()],BackupManga);let Backup=class extends d{constructor(){super(...arguments),this.backupManga=[],this.backupCategories=[],this.backupBrokenSources=[],this.backupSources=[]}};i([e.d(1,BackupManga,"repeated")],Backup.prototype,"backupManga",2),i([e.d(2,BackupCategory,"repeated")],Backup.prototype,"backupCategories",2),i([e.d(100,BrokenBackupSource,"repeated")],Backup.prototype,"backupBrokenSources",2),i([e.d(101,BackupSource,"repeated")],Backup.prototype,"backupSources",2),Backup=i([n.d()],Backup);const m={1:"myanimelist",2:"anilist"};function toAidoku(W){const a=new Date(Date.now()).toISOString().split("T")[0],te=Backup.decode(W),ne=Object.fromEntries(te.backupCategories.map(q=>[q.order.toString(),q.name])),re={library:[],history:[],sources:[],manga:[],chapters:[],trackItems:[],categories:te.backupCategories.map(q=>q.name),date:Math.floor(Date.now()/1e3),name:`Converted Tachiyomi Backup ${a}`,version:"0.0.1"},Q=[];return te.backupManga.forEach(q=>{const X=f.find(ie=>ie.tachiyomiSourceId===q.source.toString());if(!X)Q.includes(q.source.toString())||Q.push(q.source.toString());else{re.sources.includes(X.aidokuSourceId)||re.sources.push(X.aidokuSourceId);const ie=X.parseMangaObject(q);re.manga.push(ie),re.library.push({mangaId:ie.id,lastUpdated:0,categories:q.categories.map(ee=>ne[ee.toString()]).filter(ee=>ee!==void 0),dateAdded:Math.floor(q.dateAdded.divide(1e3).toNumber()),sourceId:X.aidokuSourceId,lastOpened:0}),q.chapters.forEach(ee=>{var se,oe,ue;const ae=X.parseChapterObject(q,ee);re.chapters.push(ae),re.history.push({progress:ee.lastPageRead,mangaId:ie.id,chapterId:ae.id,completed:ee.read,sourceId:X.aidokuSourceId,dateRead:Math.floor((ue=(oe=(se=q.history.find(fe=>fe.url===ee.url))==null?void 0:se.lastRead)==null?void 0:oe.divide(1e3).toNumber())!=null?ue:0)})}),re.trackItems.push(...q.tracking.filter(ee=>ee.syncId<=2).map(ee=>({id:ee.trackingUrl.split("/")[4],trackerId:m[ee.syncId],mangaId:ie.id,sourceId:X.aidokuSourceId,title:ie.title})))}}),Q.length>0&&console.log(`Could not find converters for ${Q.length} sources. Your library may not be complete.
- ${Q.join(`
- `)}`),{backup:re,dateString:a}}return exports.toAidoku=toAidoku,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});
