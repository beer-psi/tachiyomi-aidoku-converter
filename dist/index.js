var Tachidoku=function(exports){"use strict";var MangaViewer=(X=>(X[X.Default=0]="Default",X[X.RTL=1]="RTL",X[X.LTR=2]="LTR",X[X.Vertical=3]="Vertical",X[X.Scroll=4]="Scroll",X))(MangaViewer||{}),MangaStatus=(X=>(X[X.Unknown=0]="Unknown",X[X.Ongoing=1]="Ongoing",X[X.Completed=2]="Completed",X[X.Cancelled=3]="Cancelled",X[X.Hiatus=4]="Hiatus",X))(MangaStatus||{});class Converter{constructor(){this.mangaViewer={1:MangaViewer.LTR,2:MangaViewer.RTL,3:MangaViewer.Vertical,4:MangaViewer.Scroll,5:MangaViewer.Scroll},this.mangaStatus={0:MangaStatus.Unknown,1:MangaStatus.Ongoing,2:MangaStatus.Completed,3:MangaStatus.Unknown,4:MangaStatus.Completed,5:MangaStatus.Cancelled,6:MangaStatus.Hiatus}}parseMangaUrl($){return`${this.baseUrl}${$}`}toAidokuManga($){var re,se,ne,te,W;return{id:this.parseMangaId($.url),lastUpdate:0,author:(re=$.author)!=null?re:"",url:this.parseMangaUrl($.url),nsfw:0,tags:$.genre,title:$.title,sourceId:this.aidokuSourceId,desc:(se=$.description)!=null?se:"",cover:(ne=$.thumbnailUrl)!=null?ne:"",viewer:(te=this.mangaViewer[$.viewer])!=null?te:MangaViewer.Default,status:(W=this.mangaStatus[$.status])!=null?W:MangaStatus.Unknown}}toAidokuChapter($,re){var se;return{sourceId:this.aidokuSourceId,mangaId:this.parseMangaId($.url),lang:this.lang,id:this.parseChapterId(re.url),scanlator:(se=re.scanlator)!=null?se:"",dateUploaded:re.dateUpload.divide(1e3).toNumber(),chapter:re.chapterNumber,sourceOrder:re.sourceOrder}}}class e$3 extends Converter{constructor($,re){super(),this.tachiyomiSourceId=$,this.lang=re,this.aidokuSourceId="multi.mangadex",this.baseUrl="https://mangadex.org"}parseMangaId($){return $.replace("/manga/","")}parseChapterId($){return $.replace("/chapter/","")}toAidokuManga($){var re;let se=super.toAidokuManga($);return se.tags=(re=se.tags)==null?void 0:re.map(ne=>{var te,W;return(W=(te=ne.split(":")[1])==null?void 0:te.trim())!=null?W:ne}),se}}const c=new e$3("2499283573021220255","en"),M=new e$3("3339599426223341161","ar"),v=new e$3("4150470519566206911","bn"),x$1=new e$3("5463447640980279236","bg"),C=new e$3("1347402746269051958","my"),D=new e$3("5860541308324630662","ca"),w=new e$3("5148895169070562838","zh-Hans"),i$4=new e$3("1493666528525752601","zh-Hant"),p$1=new e$3("3578612018159256808","cs"),u=new e$3("425785191804166217","da"),d$1=new e$3("6750440049024086587","nl"),l=new e$3("8578871918181236609","fil"),m$2=new e$3("8254121249433835847","fi"),h=new e$3("4505830566611664829","fr"),H=new e$3("5098537545549490547","de"),A=new e$3("3260701926561129943","el"),I=new e$3("1424273154577029558","he"),S$1=new e$3("6840513937945146538","hi"),f$2=new e$3("4284949320785450865","hu"),k=new e$3("3807502156582598786","id"),N=new e$3("1952071260038453057","it"),E=new e$3("1411768577036936240","ja"),R=new e$3("3285208643537017688","ko"),T=new e$3("764587568075398530","la"),B=new e$3("737986167355114438","lt"),L=new e$3("1471784905273036181","ms"),b=new e$3("5967745367608513818","mn"),F=new e$3("954368055061084457","ne"),U=new e$3("4872213291993424667","no"),_=new e$3("3781216447842245147","fa"),O=new e$3("8033579885162383068","pl"),P=new e$3("2655149515337070132","pt-BR"),y=new e$3("5189216366882819742","pt"),z=new e$3("4774459486579224459","ro"),K=new e$3("2098905203823335614","ru"),V=new e$3("4710920497926776490","sh"),Z=new e$3("4938773340256184018","es-419"),j=new e$3("6400665728063187402","es"),G=new e$3("1145824452519314725","sv"),J=new e$3("1713554459881080228","th"),Y=new e$3("3846770256925560569","tr"),q=new e$3("5779037855201976894","uk"),Q=new e$3("9194073792736219759","vi");var r$2=[c,M,v,x$1,C,D,w,i$4,p$1,u,d$1,l,m$2,h,H,A,I,S$1,f$2,k,N,E,R,T,B,L,b,F,U,_,O,P,y,z,K,V,Z,j,G,J,Y,q,Q];class r$1 extends Converter{constructor($,re){super(),this.baseUrl=$,this.tachiyomiSourceId=re,this.aidokuSourceId="en.nepnep",this.lang="en"}parseMangaId($){return $.replace("/manga/","")}parseChapterId($){return $.replace("/read-online/","")}parseMangaUrl($){return`${this.baseUrl}${$}`}}var o$2=[new r$1("https://mangasee123.com","9"),new r$1("https://manga4life.com","7798162483793432927")];class t$2 extends Converter{parseMangaId($){return this.parseMangaUrl($)}parseChapterId($){return this.parseMangaUrl($)}}class s$1 extends t$2{constructor(){super(...arguments),this.baseUrl="https://m.mangabat.com",this.tachiyomiSourceId="4215511432986138970",this.aidokuSourceId="en.mangabat",this.lang="en"}parseMangaUrl($){return $.replace("https://readmangabat.com","https://m.mangabat.com")}}class o$1 extends t$2{constructor(){super(...arguments),this.baseUrl="https://manganato.com",this.tachiyomiSourceId="1024627298672457456",this.aidokuSourceId="en.manganato",this.lang="en"}parseMangaUrl($){return $.replace("https://readmanganato.com","https://manganato.com")}}var e$2=[new o$1,new s$1];class e$1 extends Converter{constructor($,re,se,ne){super(),this.baseUrl=$,this.lang=re,this.tachiyomiSourceId=se,this.aidokuSourceId=ne}parseMangaId($){return this.parseMangaUrl($)}parseChapterId($){return this.parseMangaUrl($)}parseMangaUrl($){return`${this.baseUrl}${$}`}}class n$2 extends Converter{constructor($,re,se,ne){super(),this.baseUrl=$,this.lang=re,this.tachiyomiSourceId=se,this.aidokuSourceId=ne}parseMangaId($){return $}parseChapterId($){return $}}var t$1=[new e$1("https://readkomik.com","en","4894958130777364576","en.readkomik"),new e$1("https://alpha-scans.org","en","4142958065526725213","en.alphascans"),new e$1("https://kumascans.com","en","4949888651444819799","en.kumascans"),new e$1("https://www.asurascans.com","en","6247824327199706550","multi.asurascans"),new e$1("https://www.asurascans.com","tr","7963074674054946733","multi.asurascans"),new e$1("https://xoxocomics.com","en","2385956107618754468","en.xoxocomics"),new e$1("https://www.nettruyenco.com","vi","5198966899163361086","vi.nettruyen"),new e$1("http://truyenqqpro.com","vi","2553532324170433933","vi.truyenqq"),new n$2("https://www.mangapill.com","en","8448310129093543312","en.mangapill"),new n$2("https://readm.org","en","1622954192645289673","en.readm"),new n$2("https://onepiecechapters.com","en","1435116756378369709","en.tcbscans"),new n$2("https://truyentranhlh.net","vi","7969606392351831672","vi.truyentranhlh"),new n$2("https://blogtruyen.vn","vi","7328966691702591431","vi.blogtruyen")];class e extends Converter{constructor($,re,se,ne,te="manga"){super(),this.baseUrl=$,this.lang=re,this.tachiyomiSourceId=se,this.aidokuSourceId=ne,this.sourcePath=te}parseMangaId($){return $.replace(`/${this.sourcePath}/`,"").replace(/\/$/,"")}parseChapterId($){const re=$.replace(`/${this.sourcePath}/`,"").split("/");return`${re[0]}/${re[1]}/`}}var m$1=[new e("https://coloredmanga.com","en","8808685646100968349","en.coloredmanga"),new e("https://hentaicb.top","vi","823638192569572166","vi.hentaicube"),new e("https://lilymanga.com","en","4480996639887718467","en.lilymanga","ys"),new e("https://mangatx.com","en","3274683761704614629","en.mangatx"),new e("https://manhuaplus.com","en","9030178752551947945","en.manhuaplus"),new e("https://reaperscans.com","en","5177220001642863679","en.reaperscans","series"),new e("https://reset-scans.com","en","8894279497795073184","en.resetscans"),new e("https://toonily.com","en","5190569675461947007","en.toonily","webtoon")];class r extends Converter{constructor($,re){super(),this.lang=$,this.tachiyomiSourceId=re,this.aidokuSourceId="multi.nhentai",this.baseUrl="https://nhentai.net"}parseMangaId($){return $.replace("/g/","").replace(/\/$/,"")}parseChapterId($){return this.parseMangaId($)}}var n$1=[new r("en","3122156392225024195"),new r("ja","4726175775739752699"),new r("zh","2203215402871965477"),new r("","7309872737163460316")];class s extends Converter{constructor($){super(),this.tachiyomiSourceId=$,this.aidokuSourceId="en.dynastyscans",this.baseUrl="https://dynasty-scans.com",this.lang="en"}parseMangaId($){return $.replace(/^\//,"")}parseChapterId($){return $.replace("/chapters/","")}}var i$3=["738706855355689486","6243685045159195166","669095474988166464"].map(X=>new s(X));class i$2 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId="4413681066613655890",this.aidokuSourceId="vi.yurianeko",this.lang="vi",this.baseUrl="https://yurineko.net"}parseMangaId($){return $.replace("/manga/","")}parseChapterId($){return $.replace("/read/","")}}var p=[new i$2];class i$1 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId="6560768551969686205",this.aidokuSourceId="vi.hentaivn",this.baseUrl="https://hentaivn.moe",this.lang="vi"}parseMangaId($){return $.replace(/^\//,"")}parseChapterId($){return this.parseMangaUrl($)}}var a=[new i$1];class o extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId="3888499300158886492",this.aidokuSourceId="en.koushoku",this.lang="en",this.baseUrl="https://koushoku.org"}parseMangaId($){return $.split("/")[2]}parseChapterId($){return $.split("/")[2]}}var f$1=[new o],f=[...r$2,...o$2,...e$2,...t$1,...m$1,...n$1,...i$3,...p,...a,...f$1],commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}var light={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=X;function X($,re){for(var se=new Array(arguments.length-1),ne=0,te=2,W=!0;te<arguments.length;)se[ne++]=arguments[te++];return new Promise(function(oe,ie){se[ne]=function(ue){if(W)if(W=!1,ue)ie(ue);else{for(var he=new Array(arguments.length-1),fe=0;fe<he.length;)he[fe++]=arguments[fe];oe.apply(null,he)}};try{$.apply(re||null,se)}catch(ae){W&&(W=!1,ie(ae))}})}return aspromise}var base64$1={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(X){var $=X;$.length=function(ee){var oe=ee.length;if(!oe)return 0;for(var ie=0;--oe%4>1&&ee.charAt(oe)==="=";)++ie;return Math.ceil(ee.length*3)/4-ie};for(var re=new Array(64),se=new Array(123),ne=0;ne<64;)se[re[ne]=ne<26?ne+65:ne<52?ne+71:ne<62?ne-4:ne-59|43]=ne++;$.encode=function(ee,oe,ie){for(var ae=null,ue=[],he=0,fe=0,le;oe<ie;){var ce=ee[oe++];switch(fe){case 0:ue[he++]=re[ce>>2],le=(ce&3)<<4,fe=1;break;case 1:ue[he++]=re[le|ce>>4],le=(ce&15)<<2,fe=2;break;case 2:ue[he++]=re[le|ce>>6],ue[he++]=re[ce&63],fe=0;break}he>8191&&((ae||(ae=[])).push(String.fromCharCode.apply(String,ue)),he=0)}return fe&&(ue[he++]=re[le],ue[he++]=61,fe===1&&(ue[he++]=61)),ae?(he&&ae.push(String.fromCharCode.apply(String,ue.slice(0,he))),ae.join("")):String.fromCharCode.apply(String,ue.slice(0,he))};var te="invalid encoding";$.decode=function(ee,oe,ie){for(var ae=ie,ue=0,he,fe=0;fe<ee.length;){var le=ee.charCodeAt(fe++);if(le===61&&ue>1)break;if((le=se[le])===void 0)throw Error(te);switch(ue){case 0:he=le,ue=1;break;case 1:oe[ie++]=he<<2|(le&48)>>4,he=le,ue=2;break;case 2:oe[ie++]=(he&15)<<4|(le&60)>>2,he=le,ue=3;break;case 3:oe[ie++]=(he&3)<<6|le,ue=0;break}}if(ue===1)throw Error(te);return ie-ae},$.test=function(ee){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ee)}}(base64$1)),base64$1}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=X;function X(){this._listeners={}}return X.prototype.on=function(re,se,ne){return(this._listeners[re]||(this._listeners[re]=[])).push({fn:se,ctx:ne||this}),this},X.prototype.off=function(re,se){if(re===void 0)this._listeners={};else if(se===void 0)this._listeners[re]=[];else for(var ne=this._listeners[re],te=0;te<ne.length;)ne[te].fn===se?ne.splice(te,1):++te;return this},X.prototype.emit=function(re){var se=this._listeners[re];if(se){for(var ne=[],te=1;te<arguments.length;)ne.push(arguments[te++]);for(te=0;te<se.length;)se[te].fn.apply(se[te++].ctx,ne)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=X(X);function X(te){return typeof Float32Array!="undefined"?function(){var W=new Float32Array([-0]),ee=new Uint8Array(W.buffer),oe=ee[3]===128;function ie(fe,le,ce){W[0]=fe,le[ce]=ee[0],le[ce+1]=ee[1],le[ce+2]=ee[2],le[ce+3]=ee[3]}function ae(fe,le,ce){W[0]=fe,le[ce]=ee[3],le[ce+1]=ee[2],le[ce+2]=ee[1],le[ce+3]=ee[0]}te.writeFloatLE=oe?ie:ae,te.writeFloatBE=oe?ae:ie;function ue(fe,le){return ee[0]=fe[le],ee[1]=fe[le+1],ee[2]=fe[le+2],ee[3]=fe[le+3],W[0]}function he(fe,le){return ee[3]=fe[le],ee[2]=fe[le+1],ee[1]=fe[le+2],ee[0]=fe[le+3],W[0]}te.readFloatLE=oe?ue:he,te.readFloatBE=oe?he:ue}():function(){function W(oe,ie,ae,ue){var he=ie<0?1:0;if(he&&(ie=-ie),ie===0)oe(1/ie>0?0:2147483648,ae,ue);else if(isNaN(ie))oe(2143289344,ae,ue);else if(ie>34028234663852886e22)oe((he<<31|2139095040)>>>0,ae,ue);else if(ie<11754943508222875e-54)oe((he<<31|Math.round(ie/1401298464324817e-60))>>>0,ae,ue);else{var fe=Math.floor(Math.log(ie)/Math.LN2),le=Math.round(ie*Math.pow(2,-fe)*8388608)&8388607;oe((he<<31|fe+127<<23|le)>>>0,ae,ue)}}te.writeFloatLE=W.bind(null,$),te.writeFloatBE=W.bind(null,re);function ee(oe,ie,ae){var ue=oe(ie,ae),he=(ue>>31)*2+1,fe=ue>>>23&255,le=ue&8388607;return fe===255?le?NaN:he*(1/0):fe===0?he*1401298464324817e-60*le:he*Math.pow(2,fe-150)*(le+8388608)}te.readFloatLE=ee.bind(null,se),te.readFloatBE=ee.bind(null,ne)}(),typeof Float64Array!="undefined"?function(){var W=new Float64Array([-0]),ee=new Uint8Array(W.buffer),oe=ee[7]===128;function ie(fe,le,ce){W[0]=fe,le[ce]=ee[0],le[ce+1]=ee[1],le[ce+2]=ee[2],le[ce+3]=ee[3],le[ce+4]=ee[4],le[ce+5]=ee[5],le[ce+6]=ee[6],le[ce+7]=ee[7]}function ae(fe,le,ce){W[0]=fe,le[ce]=ee[7],le[ce+1]=ee[6],le[ce+2]=ee[5],le[ce+3]=ee[4],le[ce+4]=ee[3],le[ce+5]=ee[2],le[ce+6]=ee[1],le[ce+7]=ee[0]}te.writeDoubleLE=oe?ie:ae,te.writeDoubleBE=oe?ae:ie;function ue(fe,le){return ee[0]=fe[le],ee[1]=fe[le+1],ee[2]=fe[le+2],ee[3]=fe[le+3],ee[4]=fe[le+4],ee[5]=fe[le+5],ee[6]=fe[le+6],ee[7]=fe[le+7],W[0]}function he(fe,le){return ee[7]=fe[le],ee[6]=fe[le+1],ee[5]=fe[le+2],ee[4]=fe[le+3],ee[3]=fe[le+4],ee[2]=fe[le+5],ee[1]=fe[le+6],ee[0]=fe[le+7],W[0]}te.readDoubleLE=oe?ue:he,te.readDoubleBE=oe?he:ue}():function(){function W(oe,ie,ae,ue,he,fe){var le=ue<0?1:0;if(le&&(ue=-ue),ue===0)oe(0,he,fe+ie),oe(1/ue>0?0:2147483648,he,fe+ae);else if(isNaN(ue))oe(0,he,fe+ie),oe(2146959360,he,fe+ae);else if(ue>17976931348623157e292)oe(0,he,fe+ie),oe((le<<31|2146435072)>>>0,he,fe+ae);else{var ce;if(ue<22250738585072014e-324)ce=ue/5e-324,oe(ce>>>0,he,fe+ie),oe((le<<31|ce/4294967296)>>>0,he,fe+ae);else{var ye=Math.floor(Math.log(ue)/Math.LN2);ye===1024&&(ye=1023),ce=ue*Math.pow(2,-ye),oe(ce*4503599627370496>>>0,he,fe+ie),oe((le<<31|ye+1023<<20|ce*1048576&1048575)>>>0,he,fe+ae)}}}te.writeDoubleLE=W.bind(null,$,0,4),te.writeDoubleBE=W.bind(null,re,4,0);function ee(oe,ie,ae,ue,he){var fe=oe(ue,he+ie),le=oe(ue,he+ae),ce=(le>>31)*2+1,ye=le>>>20&2047,ge=4294967296*(le&1048575)+fe;return ye===2047?ge?NaN:ce*(1/0):ye===0?ce*5e-324*ge:ce*Math.pow(2,ye-1075)*(ge+4503599627370496)}te.readDoubleLE=ee.bind(null,se,0,4),te.readDoubleBE=ee.bind(null,ne,4,0)}(),te}function $(te,W,ee){W[ee]=te&255,W[ee+1]=te>>>8&255,W[ee+2]=te>>>16&255,W[ee+3]=te>>>24}function re(te,W,ee){W[ee]=te>>>24,W[ee+1]=te>>>16&255,W[ee+2]=te>>>8&255,W[ee+3]=te&255}function se(te,W){return(te[W]|te[W+1]<<8|te[W+2]<<16|te[W+3]<<24)>>>0}function ne(te,W){return(te[W]<<24|te[W+1]<<16|te[W+2]<<8|te[W+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(X){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(X){var $=X;$.length=function(se){for(var ne=0,te=0,W=0;W<se.length;++W)te=se.charCodeAt(W),te<128?ne+=1:te<2048?ne+=2:(te&64512)===55296&&(se.charCodeAt(W+1)&64512)===56320?(++W,ne+=4):ne+=3;return ne},$.read=function(se,ne,te){var W=te-ne;if(W<1)return"";for(var ee=null,oe=[],ie=0,ae;ne<te;)ae=se[ne++],ae<128?oe[ie++]=ae:ae>191&&ae<224?oe[ie++]=(ae&31)<<6|se[ne++]&63:ae>239&&ae<365?(ae=((ae&7)<<18|(se[ne++]&63)<<12|(se[ne++]&63)<<6|se[ne++]&63)-65536,oe[ie++]=55296+(ae>>10),oe[ie++]=56320+(ae&1023)):oe[ie++]=(ae&15)<<12|(se[ne++]&63)<<6|se[ne++]&63,ie>8191&&((ee||(ee=[])).push(String.fromCharCode.apply(String,oe)),ie=0);return ee?(ie&&ee.push(String.fromCharCode.apply(String,oe.slice(0,ie))),ee.join("")):String.fromCharCode.apply(String,oe.slice(0,ie))},$.write=function(se,ne,te){for(var W=te,ee,oe,ie=0;ie<se.length;++ie)ee=se.charCodeAt(ie),ee<128?ne[te++]=ee:ee<2048?(ne[te++]=ee>>6|192,ne[te++]=ee&63|128):(ee&64512)===55296&&((oe=se.charCodeAt(ie+1))&64512)===56320?(ee=65536+((ee&1023)<<10)+(oe&1023),++ie,ne[te++]=ee>>18|240,ne[te++]=ee>>12&63|128,ne[te++]=ee>>6&63|128,ne[te++]=ee&63|128):(ne[te++]=ee>>12|224,ne[te++]=ee>>6&63|128,ne[te++]=ee&63|128);return te-W}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=X;function X($,re,se){var ne=se||8192,te=ne>>>1,W=null,ee=ne;return function(ie){if(ie<1||ie>te)return $(ie);ee+ie>ne&&(W=$(ne),ee=0);var ae=re.call(W,ee,ee+=ie);return ee&7&&(ee=(ee|7)+1),ae}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=$;var X=requireMinimal();function $(te,W){this.lo=te>>>0,this.hi=W>>>0}var re=$.zero=new $(0,0);re.toNumber=function(){return 0},re.zzEncode=re.zzDecode=function(){return this},re.length=function(){return 1};var se=$.zeroHash="\0\0\0\0\0\0\0\0";$.fromNumber=function(W){if(W===0)return re;var ee=W<0;ee&&(W=-W);var oe=W>>>0,ie=(W-oe)/4294967296>>>0;return ee&&(ie=~ie>>>0,oe=~oe>>>0,++oe>4294967295&&(oe=0,++ie>4294967295&&(ie=0))),new $(oe,ie)},$.from=function(W){if(typeof W=="number")return $.fromNumber(W);if(X.isString(W))if(X.Long)W=X.Long.fromString(W);else return $.fromNumber(parseInt(W,10));return W.low||W.high?new $(W.low>>>0,W.high>>>0):re},$.prototype.toNumber=function(W){if(!W&&this.hi>>>31){var ee=~this.lo+1>>>0,oe=~this.hi>>>0;return ee||(oe=oe+1>>>0),-(ee+oe*4294967296)}return this.lo+this.hi*4294967296},$.prototype.toLong=function(W){return X.Long?new X.Long(this.lo|0,this.hi|0,Boolean(W)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(W)}};var ne=String.prototype.charCodeAt;return $.fromHash=function(W){return W===se?re:new $((ne.call(W,0)|ne.call(W,1)<<8|ne.call(W,2)<<16|ne.call(W,3)<<24)>>>0,(ne.call(W,4)|ne.call(W,5)<<8|ne.call(W,6)<<16|ne.call(W,7)<<24)>>>0)},$.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},$.prototype.zzEncode=function(){var W=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^W)>>>0,this.lo=(this.lo<<1^W)>>>0,this},$.prototype.zzDecode=function(){var W=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^W)>>>0,this.hi=(this.hi>>>1^W)>>>0,this},$.prototype.length=function(){var W=this.lo,ee=(this.lo>>>28|this.hi<<4)>>>0,oe=this.hi>>>24;return oe===0?ee===0?W<16384?W<128?1:2:W<2097152?3:4:ee<16384?ee<128?5:6:ee<2097152?7:8:oe<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(X){var $=X;$.asPromise=requireAspromise(),$.base64=requireBase64(),$.EventEmitter=requireEventemitter(),$.float=requireFloat(),$.inquire=requireInquire(),$.utf8=requireUtf8(),$.pool=requirePool(),$.LongBits=requireLongbits(),$.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),$.global=$.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,$.emptyArray=Object.freeze?Object.freeze([]):[],$.emptyObject=Object.freeze?Object.freeze({}):{},$.isInteger=Number.isInteger||function(te){return typeof te=="number"&&isFinite(te)&&Math.floor(te)===te},$.isString=function(te){return typeof te=="string"||te instanceof String},$.isObject=function(te){return te&&typeof te=="object"},$.isset=$.isSet=function(te,W){var ee=te[W];return ee!=null&&te.hasOwnProperty(W)?typeof ee!="object"||(Array.isArray(ee)?ee.length:Object.keys(ee).length)>0:!1},$.Buffer=function(){try{var ne=$.inquire("buffer").Buffer;return ne.prototype.utf8Write?ne:null}catch(te){return null}}(),$._Buffer_from=null,$._Buffer_allocUnsafe=null,$.newBuffer=function(te){return typeof te=="number"?$.Buffer?$._Buffer_allocUnsafe(te):new $.Array(te):$.Buffer?$._Buffer_from(te):typeof Uint8Array=="undefined"?te:new Uint8Array(te)},$.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,$.Long=$.global.dcodeIO&&$.global.dcodeIO.Long||$.global.Long||$.inquire("long"),$.key2Re=/^true|false|0|1$/,$.key32Re=/^-?(?:0|[1-9][0-9]*)$/,$.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,$.longToHash=function(te){return te?$.LongBits.from(te).toHash():$.LongBits.zeroHash},$.longFromHash=function(te,W){var ee=$.LongBits.fromHash(te);return $.Long?$.Long.fromBits(ee.lo,ee.hi,W):ee.toNumber(Boolean(W))};function re(ne,te,W){for(var ee=Object.keys(te),oe=0;oe<ee.length;++oe)(ne[ee[oe]]===void 0||!W)&&(ne[ee[oe]]=te[ee[oe]]);return ne}$.merge=re,$.lcFirst=function(te){return te.charAt(0).toLowerCase()+te.substring(1)};function se(ne){function te(W,ee){if(!(this instanceof te))return new te(W,ee);Object.defineProperty(this,"message",{get:function(){return W}}),Error.captureStackTrace?Error.captureStackTrace(this,te):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ee&&re(this,ee)}return(te.prototype=Object.create(Error.prototype)).constructor=te,Object.defineProperty(te.prototype,"name",{get:function(){return ne}}),te.prototype.toString=function(){return this.name+": "+this.message},te}$.newError=se,$.ProtocolError=se("ProtocolError"),$.oneOfGetter=function(te){for(var W={},ee=0;ee<te.length;++ee)W[te[ee]]=1;return function(){for(var oe=Object.keys(this),ie=oe.length-1;ie>-1;--ie)if(W[oe[ie]]===1&&this[oe[ie]]!==void 0&&this[oe[ie]]!==null)return oe[ie]}},$.oneOfSetter=function(te){return function(W){for(var ee=0;ee<te.length;++ee)te[ee]!==W&&delete this[te[ee]]}},$.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},$._configure=function(){var ne=$.Buffer;if(!ne){$._Buffer_from=$._Buffer_allocUnsafe=null;return}$._Buffer_from=ne.from!==Uint8Array.from&&ne.from||function(W,ee){return new ne(W,ee)},$._Buffer_allocUnsafe=ne.allocUnsafe||function(W){return new ne(W)}}}(minimal)),minimal}var writer=Writer$1,util$6=requireMinimal(),BufferWriter$1,LongBits$1=util$6.LongBits,base64=util$6.base64,utf8$1=util$6.utf8;function Op(X,$,re){this.fn=X,this.len=$,this.next=void 0,this.val=re}function noop(){}function State(X){this.head=X.head,this.tail=X.tail,this.len=X.len,this.next=X.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function X(){return util$6.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1(),Writer$1.alloc=function X($){return new util$6.Array($)},util$6.Array!==Array&&(Writer$1.alloc=util$6.pool(Writer$1.alloc,util$6.Array.prototype.subarray)),Writer$1.prototype._push=function X($,re,se){return this.tail=this.tail.next=new Op($,re,se),this.len+=re,this};function writeByte(X,$,re){$[re]=X&255}function writeVarint32(X,$,re){for(;X>127;)$[re++]=X&127|128,X>>>=7;$[re]=X}function VarintOp(X,$){this.len=X,this.next=void 0,this.val=$}VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function X($){return this.len+=(this.tail=this.tail.next=new VarintOp(($=$>>>0)<128?1:$<16384?2:$<2097152?3:$<268435456?4:5,$)).len,this},Writer$1.prototype.int32=function X($){return $<0?this._push(writeVarint64,10,LongBits$1.fromNumber($)):this.uint32($)},Writer$1.prototype.sint32=function X($){return this.uint32(($<<1^$>>31)>>>0)};function writeVarint64(X,$,re){for(;X.hi;)$[re++]=X.lo&127|128,X.lo=(X.lo>>>7|X.hi<<25)>>>0,X.hi>>>=7;for(;X.lo>127;)$[re++]=X.lo&127|128,X.lo=X.lo>>>7;$[re++]=X.lo}Writer$1.prototype.uint64=function X($){var re=LongBits$1.from($);return this._push(writeVarint64,re.length(),re)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function X($){var re=LongBits$1.from($).zzEncode();return this._push(writeVarint64,re.length(),re)},Writer$1.prototype.bool=function X($){return this._push(writeByte,1,$?1:0)};function writeFixed32(X,$,re){$[re]=X&255,$[re+1]=X>>>8&255,$[re+2]=X>>>16&255,$[re+3]=X>>>24}Writer$1.prototype.fixed32=function X($){return this._push(writeFixed32,4,$>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function X($){var re=LongBits$1.from($);return this._push(writeFixed32,4,re.lo)._push(writeFixed32,4,re.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function X($){return this._push(util$6.float.writeFloatLE,4,$)},Writer$1.prototype.double=function X($){return this._push(util$6.float.writeDoubleLE,8,$)};var writeBytes=util$6.Array.prototype.set?function X($,re,se){re.set($,se)}:function X($,re,se){for(var ne=0;ne<$.length;++ne)re[se+ne]=$[ne]};Writer$1.prototype.bytes=function X($){var re=$.length>>>0;if(!re)return this._push(writeByte,1,0);if(util$6.isString($)){var se=Writer$1.alloc(re=base64.length($));base64.decode($,se,0),$=se}return this.uint32(re)._push(writeBytes,re,$)},Writer$1.prototype.string=function X($){var re=utf8$1.length($);return re?this.uint32(re)._push(utf8$1.write,re,$):this._push(writeByte,1,0)},Writer$1.prototype.fork=function X(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function X(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function X(){var $=this.head,re=this.tail,se=this.len;return this.reset().uint32(se),se&&(this.tail.next=$.next,this.tail=re,this.len+=se),this},Writer$1.prototype.finish=function X(){for(var $=this.head.next,re=this.constructor.alloc(this.len),se=0;$;)$.fn($.val,re,se),se+=$.len,$=$.next;return re},Writer$1._configure=function(X){BufferWriter$1=X,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$5=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$5._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$5.Buffer&&util$5.Buffer.prototype instanceof Uint8Array&&util$5.Buffer.prototype.set.name==="set"?function($,re,se){re.set($,se)}:function($,re,se){if($.copy)$.copy(re,se,0,$.length);else for(var ne=0;ne<$.length;)re[se++]=$[ne++]}},BufferWriter.prototype.bytes=function X($){util$5.isString($)&&($=util$5._Buffer_from($,"base64"));var re=$.length>>>0;return this.uint32(re),re&&this._push(BufferWriter.writeBytesBuffer,re,$),this};function writeStringBuffer(X,$,re){X.length<40?util$5.utf8.write(X,$,re):$.utf8Write?$.utf8Write(X,re):$.write(X,re)}BufferWriter.prototype.string=function X($){var re=util$5.Buffer.byteLength($);return this.uint32(re),re&&this._push(writeStringBuffer,re,$),this},BufferWriter._configure();var reader=Reader$1,util$4=requireMinimal(),BufferReader$1,LongBits=util$4.LongBits,utf8=util$4.utf8;function indexOutOfRange(X,$){return RangeError("index out of range: "+X.pos+" + "+($||1)+" > "+X.len)}function Reader$1(X){this.buf=X,this.pos=0,this.len=X.length}var create_array=typeof Uint8Array!="undefined"?function X($){if($ instanceof Uint8Array||Array.isArray($))return new Reader$1($);throw Error("illegal buffer")}:function X($){if(Array.isArray($))return new Reader$1($);throw Error("illegal buffer")},create=function X(){return util$4.Buffer?function(re){return(Reader$1.create=function(ne){return util$4.Buffer.isBuffer(ne)?new BufferReader$1(ne):create_array(ne)})(re)}:create_array};Reader$1.create=create(),Reader$1.prototype._slice=util$4.Array.prototype.subarray||util$4.Array.prototype.slice,Reader$1.prototype.uint32=function X(){var $=4294967295;return function(){if($=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||($=($|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||($=($|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||($=($|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||($=($|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return $;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return $}}(),Reader$1.prototype.int32=function X(){return this.uint32()|0},Reader$1.prototype.sint32=function X(){var $=this.uint32();return $>>>1^-($&1)|0};function readLongVarint(){var X=new LongBits(0,0),$=0;if(this.len-this.pos>4){for(;$<4;++$)if(X.lo=(X.lo|(this.buf[this.pos]&127)<<$*7)>>>0,this.buf[this.pos++]<128)return X;if(X.lo=(X.lo|(this.buf[this.pos]&127)<<28)>>>0,X.hi=(X.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return X;$=0}else{for(;$<3;++$){if(this.pos>=this.len)throw indexOutOfRange(this);if(X.lo=(X.lo|(this.buf[this.pos]&127)<<$*7)>>>0,this.buf[this.pos++]<128)return X}return X.lo=(X.lo|(this.buf[this.pos++]&127)<<$*7)>>>0,X}if(this.len-this.pos>4){for(;$<5;++$)if(X.hi=(X.hi|(this.buf[this.pos]&127)<<$*7+3)>>>0,this.buf[this.pos++]<128)return X}else for(;$<5;++$){if(this.pos>=this.len)throw indexOutOfRange(this);if(X.hi=(X.hi|(this.buf[this.pos]&127)<<$*7+3)>>>0,this.buf[this.pos++]<128)return X}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function X(){return this.uint32()!==0};function readFixed32_end(X,$){return(X[$-4]|X[$-3]<<8|X[$-2]<<16|X[$-1]<<24)>>>0}Reader$1.prototype.fixed32=function X(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function X(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function X(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var $=util$4.float.readFloatLE(this.buf,this.pos);return this.pos+=4,$},Reader$1.prototype.double=function X(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var $=util$4.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,$},Reader$1.prototype.bytes=function X(){var $=this.uint32(),re=this.pos,se=this.pos+$;if(se>this.len)throw indexOutOfRange(this,$);return this.pos+=$,Array.isArray(this.buf)?this.buf.slice(re,se):re===se?new this.buf.constructor(0):this._slice.call(this.buf,re,se)},Reader$1.prototype.string=function X(){var $=this.bytes();return utf8.read($,0,$.length)},Reader$1.prototype.skip=function X($){if(typeof $=="number"){if(this.pos+$>this.len)throw indexOutOfRange(this,$);this.pos+=$}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this},Reader$1.prototype.skipType=function(X){switch(X){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(X=this.uint32()&7)!==4;)this.skipType(X);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+X+" at offset "+this.pos)}return this},Reader$1._configure=function(X){BufferReader$1=X,Reader$1.create=create(),BufferReader$1._configure();var $=util$4.Long?"toLong":"toNumber";util$4.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[$](!1)},uint64:function(){return readLongVarint.call(this)[$](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[$](!1)},fixed64:function(){return readFixed64.call(this)[$](!0)},sfixed64:function(){return readFixed64.call(this)[$](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$3=requireMinimal();function BufferReader(X){Reader.call(this,X)}BufferReader._configure=function(){util$3.Buffer&&(BufferReader.prototype._slice=util$3.Buffer.prototype.slice)},BufferReader.prototype.string=function X(){var $=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+$,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+$,this.len))},BufferReader._configure();var rpc={},service$1=Service,util$2=requireMinimal();(Service.prototype=Object.create(util$2.EventEmitter.prototype)).constructor=Service;function Service(X,$,re){if(typeof X!="function")throw TypeError("rpcImpl must be a function");util$2.EventEmitter.call(this),this.rpcImpl=X,this.requestDelimited=Boolean($),this.responseDelimited=Boolean(re)}Service.prototype.rpcCall=function X($,re,se,ne,te){if(!ne)throw TypeError("request must be specified");var W=this;if(!te)return util$2.asPromise(X,W,$,re,se,ne);if(!W.rpcImpl){setTimeout(function(){te(Error("already ended"))},0);return}try{return W.rpcImpl($,re[W.requestDelimited?"encodeDelimited":"encode"](ne).finish(),function(oe,ie){if(oe)return W.emit("error",oe,$),te(oe);if(ie===null){W.end(!0);return}if(!(ie instanceof se))try{ie=se[W.responseDelimited?"decodeDelimited":"decode"](ie)}catch(ae){return W.emit("error",ae,$),te(ae)}return W.emit("data",ie,$),te(null,ie)})}catch(ee){W.emit("error",ee,$),setTimeout(function(){te(ee)},0);return}},Service.prototype.end=function X($){return this.rpcImpl&&($||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(X){var $=X;$.Service=service$1}(rpc);var roots={};(function(X){var $=X;$.build="minimal",$.Writer=writer,$.BufferWriter=writer_buffer,$.Reader=reader,$.BufferReader=reader_buffer,$.util=requireMinimal(),$.rpc=rpc,$.roots=roots,$.configure=re;function re(){$.util._configure(),$.Writer._configure($.BufferWriter),$.Reader._configure($.BufferReader)}re()})(indexMinimal);var util$1={exports:{}},codegen_1=codegen;function codegen(X,$){typeof X=="string"&&($=X,X=void 0);var re=[];function se(te){if(typeof te!="string"){var W=ne();if(codegen.verbose&&console.log("codegen: "+W),W="return "+W,te){for(var ee=Object.keys(te),oe=new Array(ee.length+1),ie=new Array(ee.length),ae=0;ae<ee.length;)oe[ae]=ee[ae],ie[ae]=te[ee[ae++]];return oe[ae]=W,Function.apply(null,oe).apply(null,ie)}return Function(W)()}for(var ue=new Array(arguments.length-1),he=0;he<ue.length;)ue[he]=arguments[++he];if(he=0,te=te.replace(/%([%dfijs])/g,function(le,ce){var ye=ue[he++];switch(ce){case"d":case"f":return String(Number(ye));case"i":return String(Math.floor(ye));case"j":return JSON.stringify(ye);case"s":return String(ye)}return"%"}),he!==ue.length)throw Error("parameter count mismatch");return re.push(te),se}function ne(te){return"function "+(te||$||"")+"("+(X&&X.join(",")||"")+`){
  `+re.join(`
  `)+`
}`}return se.toString=ne,se}codegen.verbose=!1;var fetch_1=fetch,asPromise=requireAspromise(),inquire=requireInquire(),fs=inquire("fs");function fetch(X,$,re){return typeof $=="function"?(re=$,$={}):$||($={}),re?!$.xhr&&fs&&fs.readFile?fs.readFile(X,function(ne,te){return ne&&typeof XMLHttpRequest!="undefined"?fetch.xhr(X,$,re):ne?re(ne):re(null,$.binary?te:te.toString("utf8"))}):fetch.xhr(X,$,re):asPromise(fetch,this,X,$)}fetch.xhr=function X($,re,se){var ne=new XMLHttpRequest;ne.onreadystatechange=function(){if(ne.readyState===4){if(ne.status!==0&&ne.status!==200)return se(Error("status "+ne.status));if(re.binary){var W=ne.response;if(!W){W=[];for(var ee=0;ee<ne.responseText.length;++ee)W.push(ne.responseText.charCodeAt(ee)&255)}return se(null,typeof Uint8Array!="undefined"?new Uint8Array(W):W)}return se(null,ne.responseText)}},re.binary&&("overrideMimeType"in ne&&ne.overrideMimeType("text/plain; charset=x-user-defined"),ne.responseType="arraybuffer"),ne.open("GET",$),ne.send()};var path={};(function(X){var $=X,re=$.isAbsolute=function(te){return/^(?:\/|\w+:)/.test(te)},se=$.normalize=function(te){te=te.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var W=te.split("/"),ee=re(te),oe="";ee&&(oe=W.shift()+"/");for(var ie=0;ie<W.length;)W[ie]===".."?ie>0&&W[ie-1]!==".."?W.splice(--ie,2):ee?W.splice(ie,1):++ie:W[ie]==="."?W.splice(ie,1):++ie;return oe+W.join("/")};$.resolve=function(te,W,ee){return ee||(W=se(W)),re(W)?W:(ee||(te=se(te)),(te=te.replace(/(?:\/|^)[^/]+$/,"")).length?se(te+"/"+W):W)}})(path);var types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(X){var $=X,re=requireUtil(),se=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function ne(te,W){var ee=0,oe={};for(W|=0;ee<te.length;)oe[se[ee+W]]=te[ee++];return oe}$.basic=ne([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),$.defaults=ne([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",re.emptyArray,null]),$.long=ne([0,0,0,1,1],7),$.mapKey=ne([0,0,0,5,5,0,0,0,1,1,0,2],2),$.packed=ne([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=W;var X=requireObject();((W.prototype=Object.create(X.prototype)).constructor=W).className="Field";var $=require_enum(),re=requireTypes(),se=requireUtil(),ne,te=/^required|optional|repeated$/;W.fromJSON=function(oe,ie){return new W(oe,ie.id,ie.type,ie.rule,ie.extend,ie.options,ie.comment)};function W(ee,oe,ie,ae,ue,he,fe){if(se.isObject(ae)?(fe=ue,he=ae,ae=ue=void 0):se.isObject(ue)&&(fe=he,he=ue,ue=void 0),X.call(this,ee,he),!se.isInteger(oe)||oe<0)throw TypeError("id must be a non-negative integer");if(!se.isString(ie))throw TypeError("type must be a string");if(ae!==void 0&&!te.test(ae=ae.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(ue!==void 0&&!se.isString(ue))throw TypeError("extend must be a string");ae==="proto3_optional"&&(ae="optional"),this.rule=ae&&ae!=="optional"?ae:void 0,this.type=ie,this.id=oe,this.extend=ue||void 0,this.required=ae==="required",this.optional=!this.required,this.repeated=ae==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=se.Long?re.long[ie]!==void 0:!1,this.bytes=ie==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=fe}return Object.defineProperty(W.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),W.prototype.setOption=function(oe,ie,ae){return oe==="packed"&&(this._packed=null),X.prototype.setOption.call(this,oe,ie,ae)},W.prototype.toJSON=function(oe){var ie=oe?Boolean(oe.keepComments):!1;return se.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",ie?this.comment:void 0])},W.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=re.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof ne?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof $&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof $))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=se.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var oe;se.base64.test(this.typeDefault)?se.base64.decode(this.typeDefault,oe=se.newBuffer(se.base64.length(this.typeDefault)),0):se.utf8.write(this.typeDefault,oe=se.newBuffer(se.utf8.length(this.typeDefault)),0),this.typeDefault=oe}return this.map?this.defaultValue=se.emptyObject:this.repeated?this.defaultValue=se.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof ne&&(this.parent.ctor.prototype[this.name]=this.defaultValue),X.prototype.resolve.call(this)},W.d=function(oe,ie,ae,ue){return typeof ie=="function"?ie=se.decorateType(ie).name:ie&&typeof ie=="object"&&(ie=se.decorateEnum(ie).name),function(fe,le){se.decorateType(fe.constructor).add(new W(le,oe,ie,ae,{default:ue}))}},W._configure=function(oe){ne=oe},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=se;var X=requireObject();((se.prototype=Object.create(X.prototype)).constructor=se).className="OneOf";var $=requireField(),re=requireUtil();function se(te,W,ee,oe){if(Array.isArray(W)||(ee=W,W=void 0),X.call(this,te,ee),!(W===void 0||Array.isArray(W)))throw TypeError("fieldNames must be an Array");this.oneof=W||[],this.fieldsArray=[],this.comment=oe}se.fromJSON=function(W,ee){return new se(W,ee.oneof,ee.options,ee.comment)},se.prototype.toJSON=function(W){var ee=W?Boolean(W.keepComments):!1;return re.toObject(["options",this.options,"oneof",this.oneof,"comment",ee?this.comment:void 0])};function ne(te){if(te.parent)for(var W=0;W<te.fieldsArray.length;++W)te.fieldsArray[W].parent||te.parent.add(te.fieldsArray[W])}return se.prototype.add=function(W){if(!(W instanceof $))throw TypeError("field must be a Field");return W.parent&&W.parent!==this.parent&&W.parent.remove(W),this.oneof.push(W.name),this.fieldsArray.push(W),W.partOf=this,ne(this),this},se.prototype.remove=function(W){if(!(W instanceof $))throw TypeError("field must be a Field");var ee=this.fieldsArray.indexOf(W);if(ee<0)throw Error(W+" is not a member of "+this);return this.fieldsArray.splice(ee,1),ee=this.oneof.indexOf(W.name),ee>-1&&this.oneof.splice(ee,1),W.partOf=null,this},se.prototype.onAdd=function(W){X.prototype.onAdd.call(this,W);for(var ee=this,oe=0;oe<this.oneof.length;++oe){var ie=W.get(this.oneof[oe]);ie&&!ie.partOf&&(ie.partOf=ee,ee.fieldsArray.push(ie))}ne(this)},se.prototype.onRemove=function(W){for(var ee=0,oe;ee<this.fieldsArray.length;++ee)(oe=this.fieldsArray[ee]).parent&&oe.parent.remove(oe);X.prototype.onRemove.call(this,W)},se.d=function(){for(var W=new Array(arguments.length),ee=0;ee<arguments.length;)W[ee]=arguments[ee++];return function(ie,ae){re.decorateType(ie.constructor).add(new se(ae,W)),Object.defineProperty(ie,ae,{get:re.oneOfGetter(W),set:re.oneOfSetter(W)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=oe;var X=requireObject();((oe.prototype=Object.create(X.prototype)).constructor=oe).className="Namespace";var $=requireField(),re=requireOneof(),se=requireUtil(),ne,te,W;oe.fromJSON=function(ue,he){return new oe(ue,he.options).addJSON(he.nested)};function ee(ae,ue){if(!!(ae&&ae.length)){for(var he={},fe=0;fe<ae.length;++fe)he[ae[fe].name]=ae[fe].toJSON(ue);return he}}oe.arrayToJSON=ee,oe.isReservedId=function(ue,he){if(ue){for(var fe=0;fe<ue.length;++fe)if(typeof ue[fe]!="string"&&ue[fe][0]<=he&&ue[fe][1]>he)return!0}return!1},oe.isReservedName=function(ue,he){if(ue){for(var fe=0;fe<ue.length;++fe)if(ue[fe]===he)return!0}return!1};function oe(ae,ue){X.call(this,ae,ue),this.nested=void 0,this._nestedArray=null}function ie(ae){return ae._nestedArray=null,ae}return Object.defineProperty(oe.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=se.toArray(this.nested))}}),oe.prototype.toJSON=function(ue){return se.toObject(["options",this.options,"nested",ee(this.nestedArray,ue)])},oe.prototype.addJSON=function(ue){var he=this;if(ue)for(var fe=Object.keys(ue),le=0,ce;le<fe.length;++le)ce=ue[fe[le]],he.add((ce.fields!==void 0?ne.fromJSON:ce.values!==void 0?W.fromJSON:ce.methods!==void 0?te.fromJSON:ce.id!==void 0?$.fromJSON:oe.fromJSON)(fe[le],ce));return this},oe.prototype.get=function(ue){return this.nested&&this.nested[ue]||null},oe.prototype.getEnum=function(ue){if(this.nested&&this.nested[ue]instanceof W)return this.nested[ue].values;throw Error("no such enum: "+ue)},oe.prototype.add=function(ue){if(!(ue instanceof $&&ue.extend!==void 0||ue instanceof ne||ue instanceof W||ue instanceof te||ue instanceof oe||ue instanceof re))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var he=this.get(ue.name);if(he)if(he instanceof oe&&ue instanceof oe&&!(he instanceof ne||he instanceof te)){for(var fe=he.nestedArray,le=0;le<fe.length;++le)ue.add(fe[le]);this.remove(he),this.nested||(this.nested={}),ue.setOptions(he.options,!0)}else throw Error("duplicate name '"+ue.name+"' in "+this)}return this.nested[ue.name]=ue,ue.onAdd(this),ie(this)},oe.prototype.remove=function(ue){if(!(ue instanceof X))throw TypeError("object must be a ReflectionObject");if(ue.parent!==this)throw Error(ue+" is not a member of "+this);return delete this.nested[ue.name],Object.keys(this.nested).length||(this.nested=void 0),ue.onRemove(this),ie(this)},oe.prototype.define=function(ue,he){if(se.isString(ue))ue=ue.split(".");else if(!Array.isArray(ue))throw TypeError("illegal path");if(ue&&ue.length&&ue[0]==="")throw Error("path must be relative");for(var fe=this;ue.length>0;){var le=ue.shift();if(fe.nested&&fe.nested[le]){if(fe=fe.nested[le],!(fe instanceof oe))throw Error("path conflicts with non-namespace objects")}else fe.add(fe=new oe(le))}return he&&fe.addJSON(he),fe},oe.prototype.resolveAll=function(){for(var ue=this.nestedArray,he=0;he<ue.length;)ue[he]instanceof oe?ue[he++].resolveAll():ue[he++].resolve();return this.resolve()},oe.prototype.lookup=function(ue,he,fe){if(typeof he=="boolean"?(fe=he,he=void 0):he&&!Array.isArray(he)&&(he=[he]),se.isString(ue)&&ue.length){if(ue===".")return this.root;ue=ue.split(".")}else if(!ue.length)return this;if(ue[0]==="")return this.root.lookup(ue.slice(1),he);var le=this.get(ue[0]);if(le){if(ue.length===1){if(!he||he.indexOf(le.constructor)>-1)return le}else if(le instanceof oe&&(le=le.lookup(ue.slice(1),he,!0)))return le}else for(var ce=0;ce<this.nestedArray.length;++ce)if(this._nestedArray[ce]instanceof oe&&(le=this._nestedArray[ce].lookup(ue,he,!0)))return le;return this.parent===null||fe?null:this.parent.lookup(ue,he)},oe.prototype.lookupType=function(ue){var he=this.lookup(ue,[ne]);if(!he)throw Error("no such type: "+ue);return he},oe.prototype.lookupEnum=function(ue){var he=this.lookup(ue,[W]);if(!he)throw Error("no such Enum '"+ue+"' in "+this);return he},oe.prototype.lookupTypeOrEnum=function(ue){var he=this.lookup(ue,[ne,W]);if(!he)throw Error("no such Type or Enum '"+ue+"' in "+this);return he},oe.prototype.lookupService=function(ue){var he=this.lookup(ue,[te]);if(!he)throw Error("no such Service '"+ue+"' in "+this);return he},oe._configure=function(ae,ue,he){ne=ae,te=ue,W=he},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=se;var X=requireField();((se.prototype=Object.create(X.prototype)).constructor=se).className="MapField";var $=requireTypes(),re=requireUtil();function se(ne,te,W,ee,oe,ie){if(X.call(this,ne,te,ee,void 0,void 0,oe,ie),!re.isString(W))throw TypeError("keyType must be a string");this.keyType=W,this.resolvedKeyType=null,this.map=!0}return se.fromJSON=function(te,W){return new se(te,W.id,W.keyType,W.type,W.options,W.comment)},se.prototype.toJSON=function(te){var W=te?Boolean(te.keepComments):!1;return re.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",W?this.comment:void 0])},se.prototype.resolve=function(){if(this.resolved)return this;if($.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return X.prototype.resolve.call(this)},se.d=function(te,W,ee){return typeof ee=="function"?ee=re.decorateType(ee).name:ee&&typeof ee=="object"&&(ee=re.decorateEnum(ee).name),function(ie,ae){re.decorateType(ie.constructor).add(new se(ae,te,W,ee))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=re;var X=requireObject();((re.prototype=Object.create(X.prototype)).constructor=re).className="Method";var $=requireUtil();function re(se,ne,te,W,ee,oe,ie,ae,ue){if($.isObject(ee)?(ie=ee,ee=oe=void 0):$.isObject(oe)&&(ie=oe,oe=void 0),!(ne===void 0||$.isString(ne)))throw TypeError("type must be a string");if(!$.isString(te))throw TypeError("requestType must be a string");if(!$.isString(W))throw TypeError("responseType must be a string");X.call(this,se,ie),this.type=ne||"rpc",this.requestType=te,this.requestStream=ee?!0:void 0,this.responseType=W,this.responseStream=oe?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=ae,this.parsedOptions=ue}return re.fromJSON=function(ne,te){return new re(ne,te.type,te.requestType,te.responseType,te.requestStream,te.responseStream,te.options,te.comment,te.parsedOptions)},re.prototype.toJSON=function(ne){var te=ne?Boolean(ne.keepComments):!1;return $.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",te?this.comment:void 0,"parsedOptions",this.parsedOptions])},re.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),X.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=ne;var X=requireNamespace();((ne.prototype=Object.create(X.prototype)).constructor=ne).className="Service";var $=requireMethod(),re=requireUtil(),se=rpc;function ne(W,ee){X.call(this,W,ee),this.methods={},this._methodsArray=null}ne.fromJSON=function(ee,oe){var ie=new ne(ee,oe.options);if(oe.methods)for(var ae=Object.keys(oe.methods),ue=0;ue<ae.length;++ue)ie.add($.fromJSON(ae[ue],oe.methods[ae[ue]]));return oe.nested&&ie.addJSON(oe.nested),ie.comment=oe.comment,ie},ne.prototype.toJSON=function(ee){var oe=X.prototype.toJSON.call(this,ee),ie=ee?Boolean(ee.keepComments):!1;return re.toObject(["options",oe&&oe.options||void 0,"methods",X.arrayToJSON(this.methodsArray,ee)||{},"nested",oe&&oe.nested||void 0,"comment",ie?this.comment:void 0])},Object.defineProperty(ne.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=re.toArray(this.methods))}});function te(W){return W._methodsArray=null,W}return ne.prototype.get=function(ee){return this.methods[ee]||X.prototype.get.call(this,ee)},ne.prototype.resolveAll=function(){for(var ee=this.methodsArray,oe=0;oe<ee.length;++oe)ee[oe].resolve();return X.prototype.resolve.call(this)},ne.prototype.add=function(ee){if(this.get(ee.name))throw Error("duplicate name '"+ee.name+"' in "+this);return ee instanceof $?(this.methods[ee.name]=ee,ee.parent=this,te(this)):X.prototype.add.call(this,ee)},ne.prototype.remove=function(ee){if(ee instanceof $){if(this.methods[ee.name]!==ee)throw Error(ee+" is not a member of "+this);return delete this.methods[ee.name],ee.parent=null,te(this)}return X.prototype.remove.call(this,ee)},ne.prototype.create=function(ee,oe,ie){for(var ae=new se.Service(ee,oe,ie),ue=0,he;ue<this.methodsArray.length;++ue){var fe=re.lcFirst((he=this._methodsArray[ue]).resolve().name).replace(/[^$\w_]/g,"");ae[fe]=re.codegen(["r","c"],re.isReserved(fe)?fe+"_":fe)("return this.rpcCall(m,q,s,r,c)")({m:he,q:he.resolvedRequestType.ctor,s:he.resolvedResponseType.ctor})}return ae},service}var message=Message,util=requireMinimal();function Message(X){if(X)for(var $=Object.keys(X),re=0;re<$.length;++re)this[$[re]]=X[$[re]]}Message.create=function X($){return this.$type.create($)},Message.encode=function X($,re){return this.$type.encode($,re)},Message.encodeDelimited=function X($,re){return this.$type.encodeDelimited($,re)},Message.decode=function X($){return this.$type.decode($)},Message.decodeDelimited=function X($){return this.$type.decodeDelimited($)},Message.verify=function X($){return this.$type.verify($)},Message.fromObject=function X($){return this.$type.fromObject($)},Message.toObject=function X($,re){return this.$type.toObject($,re)},Message.prototype.toJSON=function X(){return this.$type.toObject(this,util.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=ne;var X=require_enum(),$=requireTypes(),re=requireUtil();function se(te){return"missing required '"+te.name+"'"}function ne(te){var W=re.codegen(["r","l"],te.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(te.fieldsArray.filter(function(he){return he.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");te.group&&W("if((t&7)===4)")("break"),W("switch(t>>>3){");for(var ee=0;ee<te.fieldsArray.length;++ee){var oe=te._fieldsArray[ee].resolve(),ie=oe.resolvedType instanceof X?"int32":oe.type,ae="m"+re.safeProp(oe.name);W("case %i:",oe.id),oe.map?(W("if(%s===util.emptyObject)",ae)("%s={}",ae)("var c2 = r.uint32()+r.pos"),$.defaults[oe.keyType]!==void 0?W("k=%j",$.defaults[oe.keyType]):W("k=null"),$.defaults[ie]!==void 0?W("value=%j",$.defaults[ie]):W("value=null"),W("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",oe.keyType)("case 2:"),$.basic[ie]===void 0?W("value=types[%i].decode(r,r.uint32())",ee):W("value=r.%s()",ie),W("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),$.long[oe.keyType]!==void 0?W('%s[typeof k==="object"?util.longToHash(k):k]=value',ae):W("%s[k]=value",ae)):oe.repeated?(W("if(!(%s&&%s.length))",ae,ae)("%s=[]",ae),$.packed[ie]!==void 0&&W("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",ae,ie)("}else"),$.basic[ie]===void 0?W(oe.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",ae,ee):W("%s.push(r.%s())",ae,ie)):$.basic[ie]===void 0?W(oe.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",ae,ee):W("%s=r.%s()",ae,ie),W("break")}for(W("default:")("r.skipType(t&7)")("break")("}")("}"),ee=0;ee<te._fieldsArray.length;++ee){var ue=te._fieldsArray[ee];ue.required&&W("if(!m.hasOwnProperty(%j))",ue.name)("throw util.ProtocolError(%j,{instance:m})",se(ue))}return W("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=te;var X=require_enum(),$=requireUtil();function re(W,ee){return W.name+": "+ee+(W.repeated&&ee!=="array"?"[]":W.map&&ee!=="object"?"{k:"+W.keyType+"}":"")+" expected"}function se(W,ee,oe,ie){if(ee.resolvedType)if(ee.resolvedType instanceof X){W("switch(%s){",ie)("default:")("return%j",re(ee,"enum value"));for(var ae=Object.keys(ee.resolvedType.values),ue=0;ue<ae.length;++ue)W("case %i:",ee.resolvedType.values[ae[ue]]);W("break")("}")}else W("{")("var e=types[%i].verify(%s);",oe,ie)("if(e)")("return%j+e",ee.name+".")("}");else switch(ee.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":W("if(!util.isInteger(%s))",ie)("return%j",re(ee,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":W("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",ie,ie,ie,ie)("return%j",re(ee,"integer|Long"));break;case"float":case"double":W('if(typeof %s!=="number")',ie)("return%j",re(ee,"number"));break;case"bool":W('if(typeof %s!=="boolean")',ie)("return%j",re(ee,"boolean"));break;case"string":W("if(!util.isString(%s))",ie)("return%j",re(ee,"string"));break;case"bytes":W('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',ie,ie,ie)("return%j",re(ee,"buffer"));break}return W}function ne(W,ee,oe){switch(ee.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":W("if(!util.key32Re.test(%s))",oe)("return%j",re(ee,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":W("if(!util.key64Re.test(%s))",oe)("return%j",re(ee,"integer|Long key"));break;case"bool":W("if(!util.key2Re.test(%s))",oe)("return%j",re(ee,"boolean key"));break}return W}function te(W){var ee=$.codegen(["m"],W.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),oe=W.oneofsArray,ie={};oe.length&&ee("var p={}");for(var ae=0;ae<W.fieldsArray.length;++ae){var ue=W._fieldsArray[ae].resolve(),he="m"+$.safeProp(ue.name);if(ue.optional&&ee("if(%s!=null&&m.hasOwnProperty(%j)){",he,ue.name),ue.map)ee("if(!util.isObject(%s))",he)("return%j",re(ue,"object"))("var k=Object.keys(%s)",he)("for(var i=0;i<k.length;++i){"),ne(ee,ue,"k[i]"),se(ee,ue,ae,he+"[k[i]]")("}");else if(ue.repeated)ee("if(!Array.isArray(%s))",he)("return%j",re(ue,"array"))("for(var i=0;i<%s.length;++i){",he),se(ee,ue,ae,he+"[i]")("}");else{if(ue.partOf){var fe=$.safeProp(ue.partOf.name);ie[ue.partOf.name]===1&&ee("if(p%s===1)",fe)("return%j",ue.partOf.name+": multiple values"),ie[ue.partOf.name]=1,ee("p%s=1",fe)}se(ee,ue,ae,he)}ue.optional&&ee("}")}return ee("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(X){var $=X,re=require_enum(),se=requireUtil();function ne(W,ee,oe,ie){if(ee.resolvedType)if(ee.resolvedType instanceof re){W("switch(d%s){",ie);for(var ae=ee.resolvedType.values,ue=Object.keys(ae),he=0;he<ue.length;++he)ee.repeated&&ae[ue[he]]===ee.typeDefault&&W("default:"),W("case%j:",ue[he])("case %i:",ae[ue[he]])("m%s=%j",ie,ae[ue[he]])("break");W("}")}else W('if(typeof d%s!=="object")',ie)("throw TypeError(%j)",ee.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",ie,oe,ie);else{var fe=!1;switch(ee.type){case"double":case"float":W("m%s=Number(d%s)",ie,ie);break;case"uint32":case"fixed32":W("m%s=d%s>>>0",ie,ie);break;case"int32":case"sint32":case"sfixed32":W("m%s=d%s|0",ie,ie);break;case"uint64":fe=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":W("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",ie,ie,fe)('else if(typeof d%s==="string")',ie)("m%s=parseInt(d%s,10)",ie,ie)('else if(typeof d%s==="number")',ie)("m%s=d%s",ie,ie)('else if(typeof d%s==="object")',ie)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",ie,ie,ie,fe?"true":"");break;case"bytes":W('if(typeof d%s==="string")',ie)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",ie,ie,ie)("else if(d%s.length)",ie)("m%s=d%s",ie,ie);break;case"string":W("m%s=String(d%s)",ie,ie);break;case"bool":W("m%s=Boolean(d%s)",ie,ie);break}}return W}$.fromObject=function(ee){var oe=ee.fieldsArray,ie=se.codegen(["d"],ee.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!oe.length)return ie("return new this.ctor");ie("var m=new this.ctor");for(var ae=0;ae<oe.length;++ae){var ue=oe[ae].resolve(),he=se.safeProp(ue.name);ue.map?(ie("if(d%s){",he)('if(typeof d%s!=="object")',he)("throw TypeError(%j)",ue.fullName+": object expected")("m%s={}",he)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",he),ne(ie,ue,ae,he+"[ks[i]]")("}")("}")):ue.repeated?(ie("if(d%s){",he)("if(!Array.isArray(d%s))",he)("throw TypeError(%j)",ue.fullName+": array expected")("m%s=[]",he)("for(var i=0;i<d%s.length;++i){",he),ne(ie,ue,ae,he+"[i]")("}")("}")):(ue.resolvedType instanceof re||ie("if(d%s!=null){",he),ne(ie,ue,ae,he),ue.resolvedType instanceof re||ie("}"))}return ie("return m")};function te(W,ee,oe,ie){if(ee.resolvedType)ee.resolvedType instanceof re?W("d%s=o.enums===String?types[%i].values[m%s]:m%s",ie,oe,ie,ie):W("d%s=types[%i].toObject(m%s,o)",ie,oe,ie);else{var ae=!1;switch(ee.type){case"double":case"float":W("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",ie,ie,ie,ie);break;case"uint64":ae=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":W('if(typeof m%s==="number")',ie)("d%s=o.longs===String?String(m%s):m%s",ie,ie,ie)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",ie,ie,ie,ie,ae?"true":"",ie);break;case"bytes":W("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",ie,ie,ie,ie,ie);break;default:W("d%s=m%s",ie,ie);break}}return W}$.toObject=function(ee){var oe=ee.fieldsArray.slice().sort(se.compareFieldsById);if(!oe.length)return se.codegen()("return {}");for(var ie=se.codegen(["m","o"],ee.name+"$toObject")("if(!o)")("o={}")("var d={}"),ae=[],ue=[],he=[],fe=0;fe<oe.length;++fe)oe[fe].partOf||(oe[fe].resolve().repeated?ae:oe[fe].map?ue:he).push(oe[fe]);if(ae.length){for(ie("if(o.arrays||o.defaults){"),fe=0;fe<ae.length;++fe)ie("d%s=[]",se.safeProp(ae[fe].name));ie("}")}if(ue.length){for(ie("if(o.objects||o.defaults){"),fe=0;fe<ue.length;++fe)ie("d%s={}",se.safeProp(ue[fe].name));ie("}")}if(he.length){for(ie("if(o.defaults){"),fe=0;fe<he.length;++fe){var le=he[fe],ce=se.safeProp(le.name);if(le.resolvedType instanceof re)ie("d%s=o.enums===String?%j:%j",ce,le.resolvedType.valuesById[le.typeDefault],le.typeDefault);else if(le.long)ie("if(util.Long){")("var n=new util.Long(%i,%i,%j)",le.typeDefault.low,le.typeDefault.high,le.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",ce)("}else")("d%s=o.longs===String?%j:%i",ce,le.typeDefault.toString(),le.typeDefault.toNumber());else if(le.bytes){var ye="["+Array.prototype.slice.call(le.typeDefault).join(",")+"]";ie("if(o.bytes===String)d%s=%j",ce,String.fromCharCode.apply(String,le.typeDefault))("else{")("d%s=%s",ce,ye)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",ce,ce)("}")}else ie("d%s=%j",ce,le.typeDefault)}ie("}")}var ge=!1;for(fe=0;fe<oe.length;++fe){var le=oe[fe],de=ee._fieldsArray.indexOf(le),ce=se.safeProp(le.name);le.map?(ge||(ge=!0,ie("var ks2")),ie("if(m%s&&(ks2=Object.keys(m%s)).length){",ce,ce)("d%s={}",ce)("for(var j=0;j<ks2.length;++j){"),te(ie,le,de,ce+"[ks2[j]]")("}")):le.repeated?(ie("if(m%s&&m%s.length){",ce,ce)("d%s=[]",ce)("for(var j=0;j<m%s.length;++j){",ce),te(ie,le,de,ce+"[j]")("}")):(ie("if(m%s!=null&&m.hasOwnProperty(%j)){",ce,le.name),te(ie,le,de,ce),le.partOf&&ie("if(o.oneofs)")("d%s=%j",se.safeProp(le.partOf.name),le.name)),ie("}")}return ie("return d")}}(converter)),converter}var wrappers={};(function(X){var $=X,re=message;$[".google.protobuf.Any"]={fromObject:function(se){if(se&&se["@type"]){var ne=se["@type"].substring(se["@type"].lastIndexOf("/")+1),te=this.lookup(ne);if(te){var W=se["@type"].charAt(0)==="."?se["@type"].substr(1):se["@type"];return W.indexOf("/")===-1&&(W="/"+W),this.create({type_url:W,value:te.encode(te.fromObject(se)).finish()})}}return this.fromObject(se)},toObject:function(se,ne){var te="type.googleapis.com/",W="",ee="";if(ne&&ne.json&&se.type_url&&se.value){ee=se.type_url.substring(se.type_url.lastIndexOf("/")+1),W=se.type_url.substring(0,se.type_url.lastIndexOf("/")+1);var oe=this.lookup(ee);oe&&(se=oe.decode(se.value))}if(!(se instanceof this.ctor)&&se instanceof re){var ie=se.$type.toObject(se,ne),ae=se.$type.fullName[0]==="."?se.$type.fullName.substr(1):se.$type.fullName;return W===""&&(W=te),ee=W+ae,ie["@type"]=ee,ie}return this.toObject(se,ne)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=ce;var X=requireNamespace();((ce.prototype=Object.create(X.prototype)).constructor=ce).className="Type";var $=require_enum(),re=requireOneof(),se=requireField(),ne=requireMapfield(),te=requireService(),W=message,ee=reader,oe=writer,ie=requireUtil(),ae=requireEncoder(),ue=requireDecoder(),he=requireVerifier(),fe=requireConverter(),le=wrappers;function ce(ge,de){X.call(this,ge,de),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(ce.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var ge=Object.keys(this.fields),de=0;de<ge.length;++de){var pe=this.fields[ge[de]],me=pe.id;if(this._fieldsById[me])throw Error("duplicate id "+me+" in "+this);this._fieldsById[me]=pe}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=ie.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=ie.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=ce.generateConstructor(this)())},set:function(ge){var de=ge.prototype;de instanceof W||((ge.prototype=new W).constructor=ge,ie.merge(ge.prototype,de)),ge.$type=ge.prototype.$type=this,ie.merge(ge,W,!0),this._ctor=ge;for(var pe=0;pe<this.fieldsArray.length;++pe)this._fieldsArray[pe].resolve();var me={};for(pe=0;pe<this.oneofsArray.length;++pe)me[this._oneofsArray[pe].resolve().name]={get:ie.oneOfGetter(this._oneofsArray[pe].oneof),set:ie.oneOfSetter(this._oneofsArray[pe].oneof)};pe&&Object.defineProperties(ge.prototype,me)}}}),ce.generateConstructor=function(de){for(var pe=ie.codegen(["p"],de.name),me=0,we;me<de.fieldsArray.length;++me)(we=de._fieldsArray[me]).map?pe("this%s={}",ie.safeProp(we.name)):we.repeated&&pe("this%s=[]",ie.safeProp(we.name));return pe("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function ye(ge){return ge._fieldsById=ge._fieldsArray=ge._oneofsArray=null,delete ge.encode,delete ge.decode,delete ge.verify,ge}return ce.fromJSON=function(de,pe){var me=new ce(de,pe.options);me.extensions=pe.extensions,me.reserved=pe.reserved;for(var we=Object.keys(pe.fields),ve=0;ve<we.length;++ve)me.add((typeof pe.fields[we[ve]].keyType!="undefined"?ne.fromJSON:se.fromJSON)(we[ve],pe.fields[we[ve]]));if(pe.oneofs)for(we=Object.keys(pe.oneofs),ve=0;ve<we.length;++ve)me.add(re.fromJSON(we[ve],pe.oneofs[we[ve]]));if(pe.nested)for(we=Object.keys(pe.nested),ve=0;ve<we.length;++ve){var Be=pe.nested[we[ve]];me.add((Be.id!==void 0?se.fromJSON:Be.fields!==void 0?ce.fromJSON:Be.values!==void 0?$.fromJSON:Be.methods!==void 0?te.fromJSON:X.fromJSON)(we[ve],Be))}return pe.extensions&&pe.extensions.length&&(me.extensions=pe.extensions),pe.reserved&&pe.reserved.length&&(me.reserved=pe.reserved),pe.group&&(me.group=!0),pe.comment&&(me.comment=pe.comment),me},ce.prototype.toJSON=function(de){var pe=X.prototype.toJSON.call(this,de),me=de?Boolean(de.keepComments):!1;return ie.toObject(["options",pe&&pe.options||void 0,"oneofs",X.arrayToJSON(this.oneofsArray,de),"fields",X.arrayToJSON(this.fieldsArray.filter(function(we){return!we.declaringField}),de)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",pe&&pe.nested||void 0,"comment",me?this.comment:void 0])},ce.prototype.resolveAll=function(){for(var de=this.fieldsArray,pe=0;pe<de.length;)de[pe++].resolve();var me=this.oneofsArray;for(pe=0;pe<me.length;)me[pe++].resolve();return X.prototype.resolveAll.call(this)},ce.prototype.get=function(de){return this.fields[de]||this.oneofs&&this.oneofs[de]||this.nested&&this.nested[de]||null},ce.prototype.add=function(de){if(this.get(de.name))throw Error("duplicate name '"+de.name+"' in "+this);if(de instanceof se&&de.extend===void 0){if(this._fieldsById?this._fieldsById[de.id]:this.fieldsById[de.id])throw Error("duplicate id "+de.id+" in "+this);if(this.isReservedId(de.id))throw Error("id "+de.id+" is reserved in "+this);if(this.isReservedName(de.name))throw Error("name '"+de.name+"' is reserved in "+this);return de.parent&&de.parent.remove(de),this.fields[de.name]=de,de.message=this,de.onAdd(this),ye(this)}return de instanceof re?(this.oneofs||(this.oneofs={}),this.oneofs[de.name]=de,de.onAdd(this),ye(this)):X.prototype.add.call(this,de)},ce.prototype.remove=function(de){if(de instanceof se&&de.extend===void 0){if(!this.fields||this.fields[de.name]!==de)throw Error(de+" is not a member of "+this);return delete this.fields[de.name],de.parent=null,de.onRemove(this),ye(this)}if(de instanceof re){if(!this.oneofs||this.oneofs[de.name]!==de)throw Error(de+" is not a member of "+this);return delete this.oneofs[de.name],de.parent=null,de.onRemove(this),ye(this)}return X.prototype.remove.call(this,de)},ce.prototype.isReservedId=function(de){return X.isReservedId(this.reserved,de)},ce.prototype.isReservedName=function(de){return X.isReservedName(this.reserved,de)},ce.prototype.create=function(de){return new this.ctor(de)},ce.prototype.setup=function(){for(var de=this.fullName,pe=[],me=0;me<this.fieldsArray.length;++me)pe.push(this._fieldsArray[me].resolve().resolvedType);this.encode=ae(this)({Writer:oe,types:pe,util:ie}),this.decode=ue(this)({Reader:ee,types:pe,util:ie}),this.verify=he(this)({types:pe,util:ie}),this.fromObject=fe.fromObject(this)({types:pe,util:ie}),this.toObject=fe.toObject(this)({types:pe,util:ie});var we=le[de];if(we){var ve=Object.create(this);ve.fromObject=this.fromObject,this.fromObject=we.fromObject.bind(ve),ve.toObject=this.toObject,this.toObject=we.toObject.bind(ve)}return this},ce.prototype.encode=function(de,pe){return this.setup().encode(de,pe)},ce.prototype.encodeDelimited=function(de,pe){return this.encode(de,pe&&pe.len?pe.fork():pe).ldelim()},ce.prototype.decode=function(de,pe){return this.setup().decode(de,pe)},ce.prototype.decodeDelimited=function(de){return de instanceof ee||(de=ee.create(de)),this.decode(de,de.uint32())},ce.prototype.verify=function(de){return this.setup().verify(de)},ce.prototype.fromObject=function(de){return this.setup().fromObject(de)},ce.prototype.toObject=function(de,pe){return this.setup().toObject(de,pe)},ce.d=function(de){return function(me){ie.decorateType(me,de)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=oe;var X=requireNamespace();((oe.prototype=Object.create(X.prototype)).constructor=oe).className="Root";var $=requireField(),re=require_enum(),se=requireOneof(),ne=requireUtil(),te,W,ee;function oe(he){X.call(this,"",he),this.deferred=[],this.files=[]}oe.fromJSON=function(fe,le){return le||(le=new oe),fe.options&&le.setOptions(fe.options),le.addJSON(fe.nested)},oe.prototype.resolvePath=ne.path.resolve,oe.prototype.fetch=ne.fetch;function ie(){}oe.prototype.load=function he(fe,le,ce){typeof le=="function"&&(ce=le,le=void 0);var ye=this;if(!ce)return ne.asPromise(he,ye,fe,le);var ge=ce===ie;function de(Oe,_e){if(!!ce){var ke=ce;if(ce=null,ge)throw Oe;ke(Oe,_e)}}function pe(Oe){var _e=Oe.lastIndexOf("google/protobuf/");if(_e>-1){var ke=Oe.substring(_e);if(ke in ee)return ke}return null}function me(Oe,_e){try{if(ne.isString(_e)&&_e.charAt(0)==="{"&&(_e=JSON.parse(_e)),!ne.isString(_e))ye.setOptions(_e.options).addJSON(_e.nested);else{W.filename=Oe;var ke=W(_e,ye,le),$e,be=0;if(ke.imports)for(;be<ke.imports.length;++be)($e=pe(ke.imports[be])||ye.resolvePath(Oe,ke.imports[be]))&&we($e);if(ke.weakImports)for(be=0;be<ke.weakImports.length;++be)($e=pe(ke.weakImports[be])||ye.resolvePath(Oe,ke.weakImports[be]))&&we($e,!0)}}catch(Le){de(Le)}!ge&&!ve&&de(null,ye)}function we(Oe,_e){if(!(ye.files.indexOf(Oe)>-1)){if(ye.files.push(Oe),Oe in ee){ge?me(Oe,ee[Oe]):(++ve,setTimeout(function(){--ve,me(Oe,ee[Oe])}));return}if(ge){var ke;try{ke=ne.fs.readFileSync(Oe).toString("utf8")}catch($e){_e||de($e);return}me(Oe,ke)}else++ve,ye.fetch(Oe,function($e,be){if(--ve,!!ce){if($e){_e?ve||de(null,ye):de($e);return}me(Oe,be)}})}}var ve=0;ne.isString(fe)&&(fe=[fe]);for(var Be=0,Re;Be<fe.length;++Be)(Re=ye.resolvePath("",fe[Be]))&&we(Re);if(ge)return ye;ve||de(null,ye)},oe.prototype.loadSync=function(fe,le){if(!ne.isNode)throw Error("not supported");return this.load(fe,le,ie)},oe.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(fe){return"'extend "+fe.extend+"' in "+fe.parent.fullName}).join(", "));return X.prototype.resolveAll.call(this)};var ae=/^[A-Z]/;function ue(he,fe){var le=fe.parent.lookup(fe.extend);if(le){var ce=new $(fe.fullName,fe.id,fe.type,fe.rule,void 0,fe.options);return ce.declaringField=fe,fe.extensionField=ce,le.add(ce),!0}return!1}return oe.prototype._handleAdd=function(fe){if(fe instanceof $)fe.extend!==void 0&&!fe.extensionField&&(ue(this,fe)||this.deferred.push(fe));else if(fe instanceof re)ae.test(fe.name)&&(fe.parent[fe.name]=fe.values);else if(!(fe instanceof se)){if(fe instanceof te)for(var le=0;le<this.deferred.length;)ue(this,this.deferred[le])?this.deferred.splice(le,1):++le;for(var ce=0;ce<fe.nestedArray.length;++ce)this._handleAdd(fe._nestedArray[ce]);ae.test(fe.name)&&(fe.parent[fe.name]=fe)}},oe.prototype._handleRemove=function(fe){if(fe instanceof $){if(fe.extend!==void 0)if(fe.extensionField)fe.extensionField.parent.remove(fe.extensionField),fe.extensionField=null;else{var le=this.deferred.indexOf(fe);le>-1&&this.deferred.splice(le,1)}}else if(fe instanceof re)ae.test(fe.name)&&delete fe.parent[fe.name];else if(fe instanceof X){for(var ce=0;ce<fe.nestedArray.length;++ce)this._handleRemove(fe._nestedArray[ce]);ae.test(fe.name)&&delete fe.parent[fe.name]}},oe._configure=function(he,fe,le){te=he,W=fe,ee=le},root}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(X){var $=X.exports=requireMinimal(),re=roots,se,ne;$.codegen=codegen_1,$.fetch=fetch_1,$.path=path,$.fs=$.inquire("fs"),$.toArray=function(ae){if(ae){for(var ue=Object.keys(ae),he=new Array(ue.length),fe=0;fe<ue.length;)he[fe]=ae[ue[fe++]];return he}return[]},$.toObject=function(ae){for(var ue={},he=0;he<ae.length;){var fe=ae[he++],le=ae[he++];le!==void 0&&(ue[fe]=le)}return ue};var te=/\\/g,W=/"/g;$.isReserved=function(ae){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(ae)},$.safeProp=function(ae){return!/^[$\w_]+$/.test(ae)||$.isReserved(ae)?'["'+ae.replace(te,"\\\\").replace(W,'\\"')+'"]':"."+ae},$.ucFirst=function(ae){return ae.charAt(0).toUpperCase()+ae.substring(1)};var ee=/_([a-z])/g;$.camelCase=function(ae){return ae.substring(0,1)+ae.substring(1).replace(ee,function(ue,he){return he.toUpperCase()})},$.compareFieldsById=function(ae,ue){return ae.id-ue.id},$.decorateType=function(ae,ue){if(ae.$type)return ue&&ae.$type.name!==ue&&($.decorateRoot.remove(ae.$type),ae.$type.name=ue,$.decorateRoot.add(ae.$type)),ae.$type;se||(se=requireType());var he=new se(ue||ae.name);return $.decorateRoot.add(he),he.ctor=ae,Object.defineProperty(ae,"$type",{value:he,enumerable:!1}),Object.defineProperty(ae.prototype,"$type",{value:he,enumerable:!1}),he};var oe=0;$.decorateEnum=function(ae){if(ae.$type)return ae.$type;ne||(ne=require_enum());var ue=new ne("Enum"+oe++,ae);return $.decorateRoot.add(ue),Object.defineProperty(ae,"$type",{value:ue,enumerable:!1}),ue},$.setProperty=function(ae,ue,he){function fe(le,ce,ye){var ge=ce.shift();if(ce.length>0)le[ge]=fe(le[ge]||{},ce,ye);else{var de=le[ge];de&&(ye=[].concat(de).concat(ye)),le[ge]=ye}return le}if(typeof ae!="object")throw TypeError("dst must be an object");if(!ue)throw TypeError("path must be specified");return ue=ue.split("."),fe(ae,ue,he)},Object.defineProperty($,"decorateRoot",{get:function(){return re.decorated||(re.decorated=new(requireRoot()))}})}(util$1)),util$1.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=re,re.className="ReflectionObject";var X=requireUtil(),$;function re(se,ne){if(!X.isString(se))throw TypeError("name must be a string");if(ne&&!X.isObject(ne))throw TypeError("options must be an object");this.options=ne,this.parsedOptions=null,this.name=se,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(re.prototype,{root:{get:function(){for(var se=this;se.parent!==null;)se=se.parent;return se}},fullName:{get:function(){for(var se=[this.name],ne=this.parent;ne;)se.unshift(ne.name),ne=ne.parent;return se.join(".")}}}),re.prototype.toJSON=function(){throw Error()},re.prototype.onAdd=function(ne){this.parent&&this.parent!==ne&&this.parent.remove(this),this.parent=ne,this.resolved=!1;var te=ne.root;te instanceof $&&te._handleAdd(this)},re.prototype.onRemove=function(ne){var te=ne.root;te instanceof $&&te._handleRemove(this),this.parent=null,this.resolved=!1},re.prototype.resolve=function(){return this.resolved?this:(this.root instanceof $&&(this.resolved=!0),this)},re.prototype.getOption=function(ne){if(this.options)return this.options[ne]},re.prototype.setOption=function(ne,te,W){return(!W||!this.options||this.options[ne]===void 0)&&((this.options||(this.options={}))[ne]=te),this},re.prototype.setParsedOption=function(ne,te,W){this.parsedOptions||(this.parsedOptions=[]);var ee=this.parsedOptions;if(W){var oe=ee.find(function(ue){return Object.prototype.hasOwnProperty.call(ue,ne)});if(oe){var ie=oe[ne];X.setProperty(ie,W,te)}else oe={},oe[ne]=X.setProperty({},W,te),ee.push(oe)}else{var ae={};ae[ne]=te,ee.push(ae)}return this},re.prototype.setOptions=function(ne,te){if(ne)for(var W=Object.keys(ne),ee=0;ee<W.length;++ee)this.setOption(W[ee],ne[W[ee]],te);return this},re.prototype.toString=function(){var ne=this.constructor.className,te=this.fullName;return te.length?ne+" "+te:ne},re._configure=function(se){$=se},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=se;var X=requireObject();((se.prototype=Object.create(X.prototype)).constructor=se).className="Enum";var $=requireNamespace(),re=requireUtil();function se(ne,te,W,ee,oe){if(X.call(this,ne,W),te&&typeof te!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=ee,this.comments=oe||{},this.reserved=void 0,te)for(var ie=Object.keys(te),ae=0;ae<ie.length;++ae)typeof te[ie[ae]]=="number"&&(this.valuesById[this.values[ie[ae]]=te[ie[ae]]]=ie[ae])}return se.fromJSON=function(te,W){var ee=new se(te,W.values,W.options,W.comment,W.comments);return ee.reserved=W.reserved,ee},se.prototype.toJSON=function(te){var W=te?Boolean(te.keepComments):!1;return re.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",W?this.comment:void 0,"comments",W?this.comments:void 0])},se.prototype.add=function(te,W,ee){if(!re.isString(te))throw TypeError("name must be a string");if(!re.isInteger(W))throw TypeError("id must be an integer");if(this.values[te]!==void 0)throw Error("duplicate name '"+te+"' in "+this);if(this.isReservedId(W))throw Error("id "+W+" is reserved in "+this);if(this.isReservedName(te))throw Error("name '"+te+"' is reserved in "+this);if(this.valuesById[W]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+W+" in "+this);this.values[te]=W}else this.valuesById[this.values[te]=W]=te;return this.comments[te]=ee||null,this},se.prototype.remove=function(te){if(!re.isString(te))throw TypeError("name must be a string");var W=this.values[te];if(W==null)throw Error("name '"+te+"' does not exist in "+this);return delete this.valuesById[W],delete this.values[te],delete this.comments[te],this},se.prototype.isReservedId=function(te){return $.isReservedId(this.reserved,te)},se.prototype.isReservedName=function(te){return $.isReservedName(this.reserved,te)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=ne;var X=require_enum(),$=requireTypes(),re=requireUtil();function se(te,W,ee,oe){return W.resolvedType.group?te("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",ee,oe,(W.id<<3|3)>>>0,(W.id<<3|4)>>>0):te("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",ee,oe,(W.id<<3|2)>>>0)}function ne(te){for(var W=re.codegen(["m","w"],te.name+"$encode")("if(!w)")("w=Writer.create()"),ee,oe,ie=te.fieldsArray.slice().sort(re.compareFieldsById),ee=0;ee<ie.length;++ee){var ae=ie[ee].resolve(),ue=te._fieldsArray.indexOf(ae),he=ae.resolvedType instanceof X?"int32":ae.type,fe=$.basic[he];oe="m"+re.safeProp(ae.name),ae.map?(W("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",oe,ae.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",oe)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(ae.id<<3|2)>>>0,8|$.mapKey[ae.keyType],ae.keyType),fe===void 0?W("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",ue,oe):W(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|fe,he,oe),W("}")("}")):ae.repeated?(W("if(%s!=null&&%s.length){",oe,oe),ae.packed&&$.packed[he]!==void 0?W("w.uint32(%i).fork()",(ae.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",oe)("w.%s(%s[i])",he,oe)("w.ldelim()"):(W("for(var i=0;i<%s.length;++i)",oe),fe===void 0?se(W,ae,ue,oe+"[i]"):W("w.uint32(%i).%s(%s[i])",(ae.id<<3|fe)>>>0,he,oe)),W("}")):(ae.optional&&W("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",oe,ae.name),fe===void 0?se(W,ae,ue,oe):W("w.uint32(%i).%s(%s)",(ae.id<<3|fe)>>>0,he,oe))}return W("return w")}return encoder_1}(function(X){var $=X.exports=indexMinimal;$.build="light";function re(ne,te,W){return typeof te=="function"?(W=te,te=new $.Root):te||(te=new $.Root),te.load(ne,W)}$.load=re;function se(ne,te){return te||(te=new $.Root),te.loadSync(ne)}$.loadSync=se,$.encoder=requireEncoder(),$.decoder=requireDecoder(),$.verifier=requireVerifier(),$.converter=requireConverter(),$.ReflectionObject=requireObject(),$.Namespace=requireNamespace(),$.Root=requireRoot(),$.Enum=require_enum(),$.Type=requireType(),$.Field=requireField(),$.OneOf=requireOneof(),$.MapField=requireMapfield(),$.Service=requireService(),$.Method=requireMethod(),$.Message=message,$.wrappers=wrappers,$.types=requireTypes(),$.util=requireUtil(),$.ReflectionObject._configure($.Root),$.Namespace._configure($.Type,$.Service,$.Enum),$.Root._configure($.Type),$.Field._configure($.Type)})(indexLight),function(X){X.exports=indexLight.exports}(light);var x=getDefaultExportFromCjs(light.exports);/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(X){}function Long(X,$,re){this.low=X|0,this.high=$|0,this.unsigned=!!re}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(X){return(X&&X.__isLong__)===!0}function ctz32(X){var $=Math.clz32(X&-X);return X?31-$:$}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(X,$){var re,se,ne;return $?(X>>>=0,(ne=0<=X&&X<256)&&(se=UINT_CACHE[X],se)?se:(re=fromBits(X,0,!0),ne&&(UINT_CACHE[X]=re),re)):(X|=0,(ne=-128<=X&&X<128)&&(se=INT_CACHE[X],se)?se:(re=fromBits(X,X<0?-1:0,!1),ne&&(INT_CACHE[X]=re),re))}Long.fromInt=fromInt;function fromNumber(X,$){if(isNaN(X))return $?UZERO:ZERO;if($){if(X<0)return UZERO;if(X>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(X<=-TWO_PWR_63_DBL)return MIN_VALUE;if(X+1>=TWO_PWR_63_DBL)return MAX_VALUE}return X<0?fromNumber(-X,$).neg():fromBits(X%TWO_PWR_32_DBL|0,X/TWO_PWR_32_DBL|0,$)}Long.fromNumber=fromNumber;function fromBits(X,$,re){return new Long(X,$,re)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(X,$,re){if(X.length===0)throw Error("empty string");if(typeof $=="number"?(re=$,$=!1):$=!!$,X==="NaN"||X==="Infinity"||X==="+Infinity"||X==="-Infinity")return $?UZERO:ZERO;if(re=re||10,re<2||36<re)throw RangeError("radix");var se;if((se=X.indexOf("-"))>0)throw Error("interior hyphen");if(se===0)return fromString(X.substring(1),$,re).neg();for(var ne=fromNumber(pow_dbl(re,8)),te=ZERO,W=0;W<X.length;W+=8){var ee=Math.min(8,X.length-W),oe=parseInt(X.substring(W,W+ee),re);if(ee<8){var ie=fromNumber(pow_dbl(re,ee));te=te.mul(ie).add(fromNumber(oe))}else te=te.mul(ne),te=te.add(fromNumber(oe))}return te.unsigned=$,te}Long.fromString=fromString;function fromValue(X,$){return typeof X=="number"?fromNumber(X,$):typeof X=="string"?fromString(X,$):fromBits(X.low,X.high,typeof $=="boolean"?$:X.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function X(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function X(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function X($){if($=$||10,$<2||36<$)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var re=fromNumber($),se=this.div(re),ne=se.mul(re).sub(this);return se.toString($)+ne.toInt().toString($)}else return"-"+this.neg().toString($);for(var te=fromNumber(pow_dbl($,6),this.unsigned),W=this,ee="";;){var oe=W.div(te),ie=W.sub(oe.mul(te)).toInt()>>>0,ae=ie.toString($);if(W=oe,W.isZero())return ae+ee;for(;ae.length<6;)ae="0"+ae;ee=""+ae+ee}},LongPrototype.getHighBits=function X(){return this.high},LongPrototype.getHighBitsUnsigned=function X(){return this.high>>>0},LongPrototype.getLowBits=function X(){return this.low},LongPrototype.getLowBitsUnsigned=function X(){return this.low>>>0},LongPrototype.getNumBitsAbs=function X(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var $=this.high!=0?this.high:this.low,re=31;re>0&&($&1<<re)==0;re--);return this.high!=0?re+33:re+1},LongPrototype.isZero=function X(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function X(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function X(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function X(){return(this.low&1)===1},LongPrototype.isEven=function X(){return(this.low&1)===0},LongPrototype.equals=function X($){return isLong($)||($=fromValue($)),this.unsigned!==$.unsigned&&this.high>>>31===1&&$.high>>>31===1?!1:this.high===$.high&&this.low===$.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function X($){return!this.eq($)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function X($){return this.comp($)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function X($){return this.comp($)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function X($){return this.comp($)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function X($){return this.comp($)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function X($){if(isLong($)||($=fromValue($)),this.eq($))return 0;var re=this.isNegative(),se=$.isNegative();return re&&!se?-1:!re&&se?1:this.unsigned?$.high>>>0>this.high>>>0||$.high===this.high&&$.low>>>0>this.low>>>0?-1:1:this.sub($).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function X(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function X($){isLong($)||($=fromValue($));var re=this.high>>>16,se=this.high&65535,ne=this.low>>>16,te=this.low&65535,W=$.high>>>16,ee=$.high&65535,oe=$.low>>>16,ie=$.low&65535,ae=0,ue=0,he=0,fe=0;return fe+=te+ie,he+=fe>>>16,fe&=65535,he+=ne+oe,ue+=he>>>16,he&=65535,ue+=se+ee,ae+=ue>>>16,ue&=65535,ae+=re+W,ae&=65535,fromBits(he<<16|fe,ae<<16|ue,this.unsigned)},LongPrototype.subtract=function X($){return isLong($)||($=fromValue($)),this.add($.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function X($){if(this.isZero())return this;if(isLong($)||($=fromValue($)),wasm){var re=wasm.mul(this.low,this.high,$.low,$.high);return fromBits(re,wasm.get_high(),this.unsigned)}if($.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return $.isOdd()?MIN_VALUE:ZERO;if($.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return $.isNegative()?this.neg().mul($.neg()):this.neg().mul($).neg();if($.isNegative())return this.mul($.neg()).neg();if(this.lt(TWO_PWR_24)&&$.lt(TWO_PWR_24))return fromNumber(this.toNumber()*$.toNumber(),this.unsigned);var se=this.high>>>16,ne=this.high&65535,te=this.low>>>16,W=this.low&65535,ee=$.high>>>16,oe=$.high&65535,ie=$.low>>>16,ae=$.low&65535,ue=0,he=0,fe=0,le=0;return le+=W*ae,fe+=le>>>16,le&=65535,fe+=te*ae,he+=fe>>>16,fe&=65535,fe+=W*ie,he+=fe>>>16,fe&=65535,he+=ne*ae,ue+=he>>>16,he&=65535,he+=te*ie,ue+=he>>>16,he&=65535,he+=W*oe,ue+=he>>>16,he&=65535,ue+=se*ae+ne*ie+te*oe+W*ee,ue&=65535,fromBits(fe<<16|le,ue<<16|he,this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function X($){if(isLong($)||($=fromValue($)),$.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&$.low===-1&&$.high===-1)return this;var re=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,$.low,$.high);return fromBits(re,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var se,ne,te;if(this.unsigned){if($.unsigned||($=$.toUnsigned()),$.gt(this))return UZERO;if($.gt(this.shru(1)))return UONE;te=UZERO}else{if(this.eq(MIN_VALUE)){if($.eq(ONE)||$.eq(NEG_ONE))return MIN_VALUE;if($.eq(MIN_VALUE))return ONE;var W=this.shr(1);return se=W.div($).shl(1),se.eq(ZERO)?$.isNegative()?ONE:NEG_ONE:(ne=this.sub($.mul(se)),te=se.add(ne.div($)),te)}else if($.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return $.isNegative()?this.neg().div($.neg()):this.neg().div($).neg();if($.isNegative())return this.div($.neg()).neg();te=ZERO}for(ne=this;ne.gte($);){se=Math.max(1,Math.floor(ne.toNumber()/$.toNumber()));for(var ee=Math.ceil(Math.log(se)/Math.LN2),oe=ee<=48?1:pow_dbl(2,ee-48),ie=fromNumber(se),ae=ie.mul($);ae.isNegative()||ae.gt(ne);)se-=oe,ie=fromNumber(se,this.unsigned),ae=ie.mul($);ie.isZero()&&(ie=ONE),te=te.add(ie),ne=ne.sub(ae)}return te},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function X($){if(isLong($)||($=fromValue($)),wasm){var re=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,$.low,$.high);return fromBits(re,wasm.get_high(),this.unsigned)}return this.sub(this.div($).mul($))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function X(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function X(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function X(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function X($){return isLong($)||($=fromValue($)),fromBits(this.low&$.low,this.high&$.high,this.unsigned)},LongPrototype.or=function X($){return isLong($)||($=fromValue($)),fromBits(this.low|$.low,this.high|$.high,this.unsigned)},LongPrototype.xor=function X($){return isLong($)||($=fromValue($)),fromBits(this.low^$.low,this.high^$.high,this.unsigned)},LongPrototype.shiftLeft=function X($){return isLong($)&&($=$.toInt()),($&=63)===0?this:$<32?fromBits(this.low<<$,this.high<<$|this.low>>>32-$,this.unsigned):fromBits(0,this.low<<$-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function X($){return isLong($)&&($=$.toInt()),($&=63)===0?this:$<32?fromBits(this.low>>>$|this.high<<32-$,this.high>>$,this.unsigned):fromBits(this.high>>$-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function X($){return isLong($)&&($=$.toInt()),($&=63)===0?this:$<32?fromBits(this.low>>>$|this.high<<32-$,this.high>>>$,this.unsigned):$===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>$-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function X($){var re;return isLong($)&&($=$.toInt()),($&=63)===0?this:$===32?fromBits(this.high,this.low,this.unsigned):$<32?(re=32-$,fromBits(this.low<<$|this.high>>>re,this.high<<$|this.low>>>re,this.unsigned)):($-=32,re=32-$,fromBits(this.high<<$|this.low>>>re,this.low<<$|this.high>>>re,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function X($){var re;return isLong($)&&($=$.toInt()),($&=63)===0?this:$===32?fromBits(this.high,this.low,this.unsigned):$<32?(re=32-$,fromBits(this.high<<re|this.low>>>$,this.low<<re|this.high>>>$,this.unsigned)):($-=32,re=32-$,fromBits(this.low<<re|this.high>>>$,this.high<<re|this.low>>>$,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function X(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function X(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function X($){return $?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function X(){var $=this.high,re=this.low;return[re&255,re>>>8&255,re>>>16&255,re>>>24,$&255,$>>>8&255,$>>>16&255,$>>>24]},LongPrototype.toBytesBE=function X(){var $=this.high,re=this.low;return[$>>>24,$>>>16&255,$>>>8&255,$&255,re>>>24,re>>>16&255,re>>>8&255,re&255]},Long.fromBytes=function X($,re,se){return se?Long.fromBytesLE($,re):Long.fromBytesBE($,re)},Long.fromBytesLE=function X($,re){return new Long($[0]|$[1]<<8|$[2]<<16|$[3]<<24,$[4]|$[5]<<8|$[6]<<16|$[7]<<24,re)},Long.fromBytesBE=function X($,re){return new Long($[4]<<24|$[5]<<16|$[6]<<8|$[7],$[0]<<24|$[1]<<16|$[2]<<8|$[3],re)};var g=Object.defineProperty,m=Object.getOwnPropertyDescriptor,i=(X,$,re,se)=>{for(var ne=se>1?void 0:se?m($,re):$,te=X.length-1,W;te>=0;te--)(W=X[te])&&(ne=(se?W($,re,ne):W(ne))||ne);return se&&ne&&g($,re,ne),ne};const{Message:d,Field:t,Type:n}=x;let BrokenBackupHistory=class extends d{};i([t.d(0,"string","required")],BrokenBackupHistory.prototype,"url",2),i([t.d(1,"int64","required")],BrokenBackupHistory.prototype,"lastRead",2),BrokenBackupHistory=i([n.d()],BrokenBackupHistory);let BackupHistory=class extends d{};i([t.d(1,"string","required")],BackupHistory.prototype,"url",2),i([t.d(2,"int64","required")],BackupHistory.prototype,"lastRead",2),BackupHistory=i([n.d()],BackupHistory);let BrokenBackupSource=class extends d{constructor(){super(...arguments),this.name=""}};i([t.d(0,"string","optional")],BrokenBackupSource.prototype,"name",2),i([t.d(1,"int64","required")],BrokenBackupSource.prototype,"sourceId",2),BrokenBackupSource=i([n.d()],BrokenBackupSource);let BackupSource=class extends d{constructor(){super(...arguments),this.name=""}};i([t.d(1,"string","optional")],BackupSource.prototype,"name",2),i([t.d(2,"int64","required")],BackupSource.prototype,"sourceId",2),BackupSource=i([n.d()],BackupSource);let BackupCategory=class extends d{constructor(){super(...arguments),this.order=new Long(0),this.flags=new Long(0)}};i([t.d(1,"string","required")],BackupCategory.prototype,"name",2),i([t.d(2,"int64","optional")],BackupCategory.prototype,"order",2),i([t.d(100,"int64","optional")],BackupCategory.prototype,"flags",2),BackupCategory=i([n.d()],BackupCategory);let BackupChapter=class extends d{constructor(){super(...arguments),this.read=!1,this.bookmark=!1,this.lastPageRead=0,this.dateFetch=new Long(0),this.dateUpload=new Long(0),this.chapterNumber=0,this.sourceOrder=0}};i([t.d(1,"string","required")],BackupChapter.prototype,"url",2),i([t.d(2,"string","required")],BackupChapter.prototype,"name",2),i([t.d(3,"string","optional")],BackupChapter.prototype,"scanlator",2),i([t.d(4,"bool","optional")],BackupChapter.prototype,"read",2),i([t.d(5,"bool","optional")],BackupChapter.prototype,"bookmark",2),i([t.d(6,"int32","optional")],BackupChapter.prototype,"lastPageRead",2),i([t.d(7,"int64","optional")],BackupChapter.prototype,"dateFetch",2),i([t.d(8,"int64","optional")],BackupChapter.prototype,"dateUpload",2),i([t.d(9,"float","optional")],BackupChapter.prototype,"chapterNumber",2),i([t.d(10,"int32","optional")],BackupChapter.prototype,"sourceOrder",2),BackupChapter=i([n.d()],BackupChapter);let BackupTracking=class extends d{constructor(){super(...arguments),this.mediaIdInt=0,this.trackingUrl="",this.title="",this.lastChapterRead=0,this.totalChapters=0,this.score=0,this.status=0,this.startedReadingDate=new Long(0),this.finishedReadingDate=new Long(0),this.mediaId=new Long(0)}};i([t.d(1,"int32","required")],BackupTracking.prototype,"syncId",2),i([t.d(2,"int64","required")],BackupTracking.prototype,"libraryId",2),i([t.d(3,"int32","optional")],BackupTracking.prototype,"mediaIdInt",2),i([t.d(4,"string","optional")],BackupTracking.prototype,"trackingUrl",2),i([t.d(5,"string","optional")],BackupTracking.prototype,"title",2),i([t.d(6,"float","optional")],BackupTracking.prototype,"lastChapterRead",2),i([t.d(7,"int32","optional")],BackupTracking.prototype,"totalChapters",2),i([t.d(8,"float","optional")],BackupTracking.prototype,"score",2),i([t.d(9,"int32","optional")],BackupTracking.prototype,"status",2),i([t.d(10,"int64","optional")],BackupTracking.prototype,"startedReadingDate",2),i([t.d(11,"int64","optional")],BackupTracking.prototype,"finishedReadingDate",2),i([t.d(100,"int64","optional")],BackupTracking.prototype,"mediaId",2),BackupTracking=i([n.d()],BackupTracking);let BackupManga=class extends d{constructor(){super(...arguments),this.title="",this.genre=[],this.status=0,this.dateAdded=new Long(0),this.viewer=0,this.chapters=[],this.categories=[],this.tracking=[],this.favorite=!1,this.chapterFlags=0,this.brokenHistory=[],this.history=[]}};i([t.d(1,"int64","required")],BackupManga.prototype,"source",2),i([t.d(2,"string","required")],BackupManga.prototype,"url",2),i([t.d(3,"string","optional")],BackupManga.prototype,"title",2),i([t.d(4,"string","optional")],BackupManga.prototype,"artist",2),i([t.d(5,"string","optional")],BackupManga.prototype,"author",2),i([t.d(6,"string","optional")],BackupManga.prototype,"description",2),i([t.d(7,"string","repeated")],BackupManga.prototype,"genre",2),i([t.d(8,"int32","optional")],BackupManga.prototype,"status",2),i([t.d(9,"string","optional")],BackupManga.prototype,"thumbnailUrl",2),i([t.d(13,"int64","optional")],BackupManga.prototype,"dateAdded",2),i([t.d(14,"int32","optional")],BackupManga.prototype,"viewer",2),i([t.d(16,BackupChapter,"repeated")],BackupManga.prototype,"chapters",2),i([t.d(17,"int64","repeated")],BackupManga.prototype,"categories",2),i([t.d(18,BackupTracking,"repeated")],BackupManga.prototype,"tracking",2),i([t.d(100,"bool","optional")],BackupManga.prototype,"favorite",2),i([t.d(101,"int32","optional")],BackupManga.prototype,"chapterFlags",2),i([t.d(102,BrokenBackupHistory,"repeated")],BackupManga.prototype,"brokenHistory",2),i([t.d(103,"int32","optional")],BackupManga.prototype,"viewerFlags",2),i([t.d(104,BackupHistory,"repeated")],BackupManga.prototype,"history",2),BackupManga=i([n.d()],BackupManga);let Backup=class extends d{constructor(){super(...arguments),this.backupManga=[],this.backupCategories=[],this.backupBrokenSources=[],this.backupSources=[]}};i([t.d(1,BackupManga,"repeated")],Backup.prototype,"backupManga",2),i([t.d(2,BackupCategory,"repeated")],Backup.prototype,"backupCategories",2),i([t.d(100,BrokenBackupSource,"repeated")],Backup.prototype,"backupBrokenSources",2),i([t.d(101,BackupSource,"repeated")],Backup.prototype,"backupSources",2),Backup=i([n.d()],Backup);const S={1:"myanimelist",2:"anilist"};function toAidoku(X){const $=new Date(Date.now()).toISOString().split("T")[0],re=Backup.decode(X),se=Object.fromEntries(re.backupCategories.map(ee=>[ee.order.toString(),ee.name])),ne={library:[],history:[],sources:[],manga:[],chapters:[],trackItems:[],categories:re.backupCategories.map(ee=>ee.name),date:Math.floor(Date.now()/1e3),name:`Converted Tachiyomi Backup ${$}`,version:"0.0.1"},te=new Set,W=new Set;return re.backupManga.forEach(ee=>{const oe=f.find(ae=>ae.tachiyomiSourceId===ee.source.toString());if(!oe){te.add(ee.source.toString());return}W.add(oe.aidokuSourceId);const ie=oe.toAidokuManga(ee);ne.manga.push(ie),ne.library.push({mangaId:ie.id,lastUpdated:0,categories:ee.categories.map(ae=>se[ae.toString()]).filter(ae=>ae!==void 0),dateAdded:Math.floor(ee.dateAdded.divide(1e3).toNumber()),sourceId:oe.aidokuSourceId,lastOpened:0}),ee.chapters.forEach(ae=>{var ue,he,fe;const le=oe.toAidokuChapter(ee,ae);ne.chapters.push(le),ne.history.push({progress:ae.lastPageRead,mangaId:ie.id,chapterId:le.id,completed:ae.read,sourceId:oe.aidokuSourceId,dateRead:Math.floor((fe=(he=(ue=[...ee.history,...ee.brokenHistory].find(ce=>ce.url===ae.url))==null?void 0:ue.lastRead)==null?void 0:he.divide(1e3).toNumber())!=null?fe:0)})}),ne.trackItems.push(...ee.tracking.filter(ae=>ae.syncId<=2).map(ae=>({id:ae.trackingUrl.split("/")[4],trackerId:S[ae.syncId],mangaId:ie.id,sourceId:oe.aidokuSourceId,title:ie.title})))}),te.size>0&&console.log(`Could not find converters for ${te.size} sources. Your library may not be complete.
- ${[...te].join(`
- `)}`),ne.sources=[...W],{backup:ne,dateString:$}}return exports.toAidoku=toAidoku,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});
