var Tachidoku=function(exports){"use strict";/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(ee){}function Long(ee,w,ne){this.low=ee|0,this.high=w|0,this.unsigned=!!ne}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(ee){return(ee&&ee.__isLong__)===!0}function ctz32(ee){var w=Math.clz32(ee&-ee);return ee?31-w:w}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(ee,w){var ne,oe,se;return w?(ee>>>=0,(se=0<=ee&&ee<256)&&(oe=UINT_CACHE[ee],oe)?oe:(ne=fromBits(ee,0,!0),se&&(UINT_CACHE[ee]=ne),ne)):(ee|=0,(se=-128<=ee&&ee<128)&&(oe=INT_CACHE[ee],oe)?oe:(ne=fromBits(ee,ee<0?-1:0,!1),se&&(INT_CACHE[ee]=ne),ne))}Long.fromInt=fromInt;function fromNumber(ee,w){if(isNaN(ee))return w?UZERO:ZERO;if(w){if(ee<0)return UZERO;if(ee>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(ee<=-TWO_PWR_63_DBL)return MIN_VALUE;if(ee+1>=TWO_PWR_63_DBL)return MAX_VALUE}return ee<0?fromNumber(-ee,w).neg():fromBits(ee%TWO_PWR_32_DBL|0,ee/TWO_PWR_32_DBL|0,w)}Long.fromNumber=fromNumber;function fromBits(ee,w,ne){return new Long(ee,w,ne)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(ee,w,ne){if(ee.length===0)throw Error("empty string");if(typeof w=="number"?(ne=w,w=!1):w=!!w,ee==="NaN"||ee==="Infinity"||ee==="+Infinity"||ee==="-Infinity")return w?UZERO:ZERO;if(ne=ne||10,ne<2||36<ne)throw RangeError("radix");var oe;if((oe=ee.indexOf("-"))>0)throw Error("interior hyphen");if(oe===0)return fromString(ee.substring(1),w,ne).neg();for(var se=fromNumber(pow_dbl(ne,8)),te=ZERO,$=0;$<ee.length;$+=8){var X=Math.min(8,ee.length-$),ae=parseInt(ee.substring($,$+X),ne);if(X<8){var re=fromNumber(pow_dbl(ne,X));te=te.mul(re).add(fromNumber(ae))}else te=te.mul(se),te=te.add(fromNumber(ae))}return te.unsigned=w,te}Long.fromString=fromString;function fromValue(ee,w){return typeof ee=="number"?fromNumber(ee,w):typeof ee=="string"?fromString(ee,w):fromBits(ee.low,ee.high,typeof w=="boolean"?w:ee.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(w){if(w=w||10,w<2||36<w)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var ne=fromNumber(w),oe=this.div(ne),se=oe.mul(ne).sub(this);return oe.toString(w)+se.toInt().toString(w)}else return"-"+this.neg().toString(w);for(var te=fromNumber(pow_dbl(w,6),this.unsigned),$=this,X="";;){var ae=$.div(te),re=$.sub(ae.mul(te)).toInt()>>>0,ie=re.toString(w);if($=ae,$.isZero())return ie+X;for(;ie.length<6;)ie="0"+ie;X=""+ie+X}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var w=this.high!=0?this.high:this.low,ne=31;ne>0&&(w&1<<ne)==0;ne--);return this.high!=0?ne+33:ne+1},LongPrototype.isZero=function(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return(this.low&1)===1},LongPrototype.isEven=function(){return(this.low&1)===0},LongPrototype.equals=function(w){return isLong(w)||(w=fromValue(w)),this.unsigned!==w.unsigned&&this.high>>>31===1&&w.high>>>31===1?!1:this.high===w.high&&this.low===w.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(w){return!this.eq(w)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(w){return this.comp(w)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(w){return this.comp(w)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(w){return this.comp(w)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(w){return this.comp(w)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(w){if(isLong(w)||(w=fromValue(w)),this.eq(w))return 0;var ne=this.isNegative(),oe=w.isNegative();return ne&&!oe?-1:!ne&&oe?1:this.unsigned?w.high>>>0>this.high>>>0||w.high===this.high&&w.low>>>0>this.low>>>0?-1:1:this.sub(w).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(w){isLong(w)||(w=fromValue(w));var ne=this.high>>>16,oe=this.high&65535,se=this.low>>>16,te=this.low&65535,$=w.high>>>16,X=w.high&65535,ae=w.low>>>16,re=w.low&65535,ie=0,ue=0,fe=0,he=0;return he+=te+re,fe+=he>>>16,he&=65535,fe+=se+ae,ue+=fe>>>16,fe&=65535,ue+=oe+X,ie+=ue>>>16,ue&=65535,ie+=ne+$,ie&=65535,fromBits(fe<<16|he,ie<<16|ue,this.unsigned)},LongPrototype.subtract=function(w){return isLong(w)||(w=fromValue(w)),this.add(w.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(w){if(this.isZero())return this;if(isLong(w)||(w=fromValue(w)),wasm){var ne=wasm.mul(this.low,this.high,w.low,w.high);return fromBits(ne,wasm.get_high(),this.unsigned)}if(w.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return w.isOdd()?MIN_VALUE:ZERO;if(w.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return w.isNegative()?this.neg().mul(w.neg()):this.neg().mul(w).neg();if(w.isNegative())return this.mul(w.neg()).neg();if(this.lt(TWO_PWR_24)&&w.lt(TWO_PWR_24))return fromNumber(this.toNumber()*w.toNumber(),this.unsigned);var oe=this.high>>>16,se=this.high&65535,te=this.low>>>16,$=this.low&65535,X=w.high>>>16,ae=w.high&65535,re=w.low>>>16,ie=w.low&65535,ue=0,fe=0,he=0,le=0;return le+=$*ie,he+=le>>>16,le&=65535,he+=te*ie,fe+=he>>>16,he&=65535,he+=$*re,fe+=he>>>16,he&=65535,fe+=se*ie,ue+=fe>>>16,fe&=65535,fe+=te*re,ue+=fe>>>16,fe&=65535,fe+=$*ae,ue+=fe>>>16,fe&=65535,ue+=oe*ie+se*re+te*ae+$*X,ue&=65535,fromBits(he<<16|le,ue<<16|fe,this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(w){if(isLong(w)||(w=fromValue(w)),w.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&w.low===-1&&w.high===-1)return this;var ne=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,w.low,w.high);return fromBits(ne,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var oe,se,te;if(this.unsigned){if(w.unsigned||(w=w.toUnsigned()),w.gt(this))return UZERO;if(w.gt(this.shru(1)))return UONE;te=UZERO}else{if(this.eq(MIN_VALUE)){if(w.eq(ONE)||w.eq(NEG_ONE))return MIN_VALUE;if(w.eq(MIN_VALUE))return ONE;var $=this.shr(1);return oe=$.div(w).shl(1),oe.eq(ZERO)?w.isNegative()?ONE:NEG_ONE:(se=this.sub(w.mul(oe)),te=oe.add(se.div(w)),te)}else if(w.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return w.isNegative()?this.neg().div(w.neg()):this.neg().div(w).neg();if(w.isNegative())return this.div(w.neg()).neg();te=ZERO}for(se=this;se.gte(w);){oe=Math.max(1,Math.floor(se.toNumber()/w.toNumber()));for(var X=Math.ceil(Math.log(oe)/Math.LN2),ae=X<=48?1:pow_dbl(2,X-48),re=fromNumber(oe),ie=re.mul(w);ie.isNegative()||ie.gt(se);)oe-=ae,re=fromNumber(oe,this.unsigned),ie=re.mul(w);re.isZero()&&(re=ONE),te=te.add(re),se=se.sub(ie)}return te},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(w){if(isLong(w)||(w=fromValue(w)),wasm){var ne=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,w.low,w.high);return fromBits(ne,wasm.get_high(),this.unsigned)}return this.sub(this.div(w).mul(w))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function(w){return isLong(w)||(w=fromValue(w)),fromBits(this.low&w.low,this.high&w.high,this.unsigned)},LongPrototype.or=function(w){return isLong(w)||(w=fromValue(w)),fromBits(this.low|w.low,this.high|w.high,this.unsigned)},LongPrototype.xor=function(w){return isLong(w)||(w=fromValue(w)),fromBits(this.low^w.low,this.high^w.high,this.unsigned)},LongPrototype.shiftLeft=function(w){return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?fromBits(this.low<<w,this.high<<w|this.low>>>32-w,this.unsigned):fromBits(0,this.low<<w-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(w){return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?fromBits(this.low>>>w|this.high<<32-w,this.high>>w,this.unsigned):fromBits(this.high>>w-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(w){return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?fromBits(this.low>>>w|this.high<<32-w,this.high>>>w,this.unsigned):w===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>w-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function(w){var ne;return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w===32?fromBits(this.high,this.low,this.unsigned):w<32?(ne=32-w,fromBits(this.low<<w|this.high>>>ne,this.high<<w|this.low>>>ne,this.unsigned)):(w-=32,ne=32-w,fromBits(this.high<<w|this.low>>>ne,this.low<<w|this.high>>>ne,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function(w){var ne;return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w===32?fromBits(this.high,this.low,this.unsigned):w<32?(ne=32-w,fromBits(this.high<<ne|this.low>>>w,this.low<<ne|this.high>>>w,this.unsigned)):(w-=32,ne=32-w,fromBits(this.low<<ne|this.high>>>w,this.high<<ne|this.low>>>w,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(w){return w?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var w=this.high,ne=this.low;return[ne&255,ne>>>8&255,ne>>>16&255,ne>>>24,w&255,w>>>8&255,w>>>16&255,w>>>24]},LongPrototype.toBytesBE=function(){var w=this.high,ne=this.low;return[w>>>24,w>>>16&255,w>>>8&255,w&255,ne>>>24,ne>>>16&255,ne>>>8&255,ne&255]},Long.fromBytes=function(w,ne,oe){return oe?Long.fromBytesLE(w,ne):Long.fromBytesBE(w,ne)},Long.fromBytesLE=function(w,ne){return new Long(w[0]|w[1]<<8|w[2]<<16|w[3]<<24,w[4]|w[5]<<8|w[6]<<16|w[7]<<24,ne)},Long.fromBytesBE=function(w,ne){return new Long(w[4]<<24|w[5]<<16|w[6]<<8|w[7],w[0]<<24|w[1]<<16|w[2]<<8|w[3],ne)};var MangaViewer;(function(ee){ee[ee.Default=0]="Default",ee[ee.RTL=1]="RTL",ee[ee.LTR=2]="LTR",ee[ee.Vertical=3]="Vertical",ee[ee.Scroll=4]="Scroll"})(MangaViewer||(MangaViewer={}));var MangaStatus;(function(ee){ee[ee.Unknown=0]="Unknown",ee[ee.Ongoing=1]="Ongoing",ee[ee.Completed=2]="Completed",ee[ee.Cancelled=3]="Cancelled",ee[ee.Hiatus=4]="Hiatus"})(MangaStatus||(MangaStatus={}));class Converter{constructor(){this.mangaViewer={1:MangaViewer.LTR,2:MangaViewer.RTL,3:MangaViewer.Vertical,4:MangaViewer.Scroll,5:MangaViewer.Scroll},this.mangaStatus={0:MangaStatus.Unknown,1:MangaStatus.Ongoing,2:MangaStatus.Completed,3:MangaStatus.Unknown,4:MangaStatus.Completed,5:MangaStatus.Cancelled,6:MangaStatus.Hiatus}}parseMangaUrl(w){return`${this.baseUrl}${w}`}toAidokuManga(w){var ne,oe,se,te,$;return{id:this.parseMangaId(w.url),author:(ne=w.author)!==null&&ne!==void 0?ne:"",url:this.parseMangaUrl(w.url),nsfw:0,tags:w.genre,title:w.title,sourceId:this.aidokuSourceId,desc:(oe=w.description)!==null&&oe!==void 0?oe:"",cover:(se=w.thumbnailUrl)!==null&&se!==void 0?se:"",viewer:(te=this.mangaViewer[w.viewer])!==null&&te!==void 0?te:MangaViewer.Default,status:($=this.mangaStatus[w.status])!==null&&$!==void 0?$:MangaStatus.Unknown}}toAidokuChapter(w,ne){var oe;return{sourceId:this.aidokuSourceId,mangaId:this.parseMangaId(w.url),lang:this.lang,id:this.parseChapterId(ne.url),scanlator:(oe=ne.scanlator)!==null&&oe!==void 0?oe:"",dateUploaded:new Date(ne.dateUpload.toNumber()),chapter:ne.chapterNumber,sourceOrder:ne.sourceOrder}}}class n$3 extends Converter{constructor(w,ne){super(),this.tachiyomiSourceId=w,this.lang=ne,this.aidokuSourceId="multi.mangadex",this.baseUrl="https://mangadex.org"}parseMangaId(w){return w.replace("/manga/","")}parseChapterId(w){return w.replace("/chapter/","")}toAidokuManga(w){var ne;let oe=super.toAidokuManga(w);return oe.tags=(ne=oe.tags)===null||ne===void 0?void 0:ne.map(se=>{var te,$;return($=(te=se.split(":")[1])===null||te===void 0?void 0:te.trim())!==null&&$!==void 0?$:se}),oe}}const g=new n$3(new Long(-85582433,581909802,!1),"en"),c$1=new n$3(new Long(-198967703,777561083,!1),"ar"),v$1=new n$3(new Long(-1988524097,966356722,!1),"bn"),M=new n$3(new Long(-778874940,1272058030,!1),"bg"),f$1=new n$3(new Long(-1396659146,313716648,!1),"my"),x=new n$3(new Long(-97431418,1364513604,!1),"ca"),C$1=new n$3(new Long(1378680342,1198820576,!1),"zh-Hans"),D=new n$3(new Long(1034623257,347771339,!1),"zh-Hant"),i$2=new n$3(new Long(-1823243032,833210539,!1),"cs"),u$1=new n$3(new Long(1142677577,99135840,!1),"da"),d=new n$3(new Long(-1884900805,1571709301,!1),"nl"),p$1=new n$3(new Long(-2000404607,1997424270,!1),"fil"),h=new n$3(new Long(1300355399,1921812363,!1),"fi"),m$1=new n$3(new Long(83640253,1049095431,!1),"fr"),H=new n$3(new Long(1819814259,1187095778,!1),"de"),A=new n$3(new Long(1394320855,759191328,!1),"el"),I$1=new n$3(new Long(1370511798,331614435,!1),"he"),S=new n$3(new Long(408171690,1592681263,!1),"hi"),N=new n$3(new Long(1643632497,997667508,!1),"hu"),E=new n$3(new Long(-727467902,886503177,!1),"id"),L=new n$3(new Long(-287877311,454502007,!1),"it"),R=new n$3(new Long(2069390384,328702986,!1),"ja"),T=new n$3(new Long(51452760,764897243,!1),"ko"),_=new n$3(new Long(-1697620606,178019415,!1),"la"),k$1=new n$3(new Long(1515881414,171825794,!1),"lt"),b$1=new n$3(new Long(-795554411,342676626,!1),"ms"),B=new n$3(new Long(441046298,1389473995,!1),"mn"),F=new n$3(new Long(-1964672727,222206128,!1),"ne"),U=new n$3(new Long(-885759205,1134400556,!1),"no"),O=new n$3(new Long(1484806683,880383059,!1),"fa"),P=new n$3(new Long(-2116827428,1870463575,!1),"pl"),y$2=new n$3(new Long(-1489537484,618200170,!1),"pt-BR"),z=new n$3(new Long(-1028551010,1208208586,!1),"pt"),K=new n$3(new Long(1544318859,1111640475,!1),"ro"),V=new n$3(new Long(-1826891586,488689449,!1),"ru"),Z=new n$3(new Long(-1140316502,1096846651,!1),"sh"),j=new n$3(new Long(-1406949678,1149897775,!1),"es-419"),G=new n$3(new Long(1194928586,1490271121,!1),"es"),J=new n$3(new Long(-882981595,266783044,!1),"sv"),Y=new n$3(new Long(-729840220,398967987,!1),"th"),q=new n$3(new Long(-392818951,895645994,!1),"tr"),Q=new n$3(new Long(-2032573890,1345537103,!1),"uk"),W=new n$3(new Long(-154840465,2140662118,!1),"vi");var r$1=[g,c$1,v$1,M,f$1,x,C$1,D,i$2,u$1,d,p$1,h,m$1,H,A,I$1,S,N,E,L,R,T,_,k$1,b$1,B,F,U,O,P,y$2,z,K,V,Z,j,G,J,Y,q,Q,W];class a$7 extends Converter{constructor(w,ne){super(),this.baseUrl=w,this.tachiyomiSourceId=ne,this.aidokuSourceId="en.nepnep",this.lang="en"}parseMangaId(w){return w.replace("/manga/","")}parseChapterId(w){return w.replace("/read-online/","")}parseMangaUrl(w){return`${this.baseUrl}${w}`}}var o$3=[new a$7("https://mangasee123.com",new Long(9,0,!1)),new a$7("https://manga4life.com",new Long(1799950687,1815651190,!1))];class r extends Converter{parseMangaId(w){return this.parseMangaUrl(w)}parseChapterId(w){return this.parseMangaUrl(w)}}class s$1 extends r{constructor(){super(...arguments),this.baseUrl="https://m.mangabat.com",this.tachiyomiSourceId=new Long(1169987930,981500240,!1),this.aidokuSourceId="en.mangabat",this.lang="en"}parseMangaUrl(w){return w.replace("https://readmangabat.com","https://m.mangabat.com")}}class o$2 extends r{constructor(){super(...arguments),this.baseUrl="https://manganato.com",this.tachiyomiSourceId=new Long(1955215088,238564633,!1),this.aidokuSourceId="en.manganato",this.lang="en"}parseMangaUrl(w){return w.replace("https://readmanganato.com","https://manganato.com")}}var e$1=[new o$2,new s$1];class t$2 extends Converter{constructor(w,ne,oe,se){super(),this.baseUrl=w,this.lang=ne,this.tachiyomiSourceId=oe,this.aidokuSourceId=se}parseMangaId(w){return this.parseMangaUrl(w)}parseChapterId(w){return this.parseMangaUrl(w)}parseMangaUrl(w){return`${this.baseUrl}${w}`}}class a$6 extends Converter{constructor(w,ne,oe,se){super(),this.baseUrl=w,this.lang=ne,this.tachiyomiSourceId=oe,this.aidokuSourceId=se}parseMangaId(w){return w}parseChapterId(w){return w}}var t$3=[new t$2("https://readkomik.com","en",new Long(1063589984,1139696252,!1),"en.readkomik"),new t$2("https://alpha-scans.org","en",new Long(118446685,964607593,!1),"en.alphascans"),new t$2("https://kumascans.com","en",new Long(-1155852457,1152485760,!1),"en.kumascans"),new t$2("https://www.asurascans.com","en",new Long(-1983361610,1454684959,!1),"multi.asurascans"),new t$2("https://www.asurascans.com","tr",new Long(-755736659,1854047801,!1),"multi.asurascans"),new t$2("https://xoxocomics.com","en",new Long(1145708452,555523696,!1),"en.xoxocomics"),new t$2("https://www.nettruyenco.com","vi",new Long(2007330622,1210478809,!1),"vi.nettruyen"),new t$2("http://truyenqqpro.com","vi",new Long(-1599601267,594540574,!1),"vi.truyenqq"),new t$2("https://lectortmo.com","es",new Long(-1700479790,965395994,!1),"es.tumangaonline"),new a$6("https://www.mangapill.com","en",new Long(620004752,1967025485,!1),"en.mangapill"),new a$6("https://readm.org","en",new Long(1264219849,377873469,!1),"en.readm"),new a$6("https://onepiecechapters.com","en",new Long(455392941,334139158,!1),"en.tcbscans"),new a$6("https://truyentranhlh.net","vi",new Long(-3131784,1855568585,!1),"vi.truyentranhlh"),new a$6("https://blogtruyen.vn","vi",new Long(630869959,1706408032,!1),"vi.blogtruyen"),new a$6("https://phemanga.net","vi",new Long(-1536888756,196006640,!1),"vi.phemanga"),new a$6("https://lkdtt.com","vi",new Long(1904843089,1572956593,!1),"vi.lkdtt"),new a$6("https://manga-chan.me","ru",new Long(7,0,!1),"ru.manga-chan"),new a$6("https://y.hentaichan.live","ru",new Long(274560140,1281636907,!1),"ru.hentai-chan"),new a$6("https://yaoi-chan.me","ru",new Long(-1784495821,574279755,!1),"ru.yaoi-chan")];class n$2 extends Converter{constructor(w,ne,oe,se,te="manga"){super(),this.baseUrl=w,this.lang=ne,this.tachiyomiSourceId=oe,this.aidokuSourceId=se,this.sourcePath=te}parseMangaId(w){return w.replace(`/${this.sourcePath}/`,"").replace(/\/$/,"")}parseChapterId(w){const ne=w.replace(`/${this.sourcePath}/`,"").split("/");return`${ne[0]}/${ne[1]}/`}}var m=[new n$2("https://coloredmanga.com","en",new Long(-1175571555,2050931948,!1),"en.coloredmanga"),new n$2("https://hentaicb.top","vi",new Long(-2087855290,191768210,!1),"vi.hentaicube"),new n$2("https://lilymanga.com","en",new Long(-533071805,1043313331,!1),"en.lilymanga","ys"),new n$2("https://mangatx.com","en",new Long(2407141,762446728,!1),"en.mangatx"),new n$2("https://manhuaplus.com","en",new Long(1143180969,2102502331,!1),"en.manhuaplus"),new n$2("https://reaperscans.com","en",new Long(1375231039,1205415465,!1),"en.reaperscans","series"),new n$2("https://reset-scans.com","en",new Long(1327330464,2070860820,!1),"en.resetscans"),new n$2("https://toonily.com","en",new Long(2010312319,1208523678,!1),"en.toonily","webtoon")];class a$5 extends Converter{constructor(w,ne){super(),this.lang=w,this.tachiyomiSourceId=ne,this.aidokuSourceId="multi.nhentai",this.baseUrl="https://nhentai.net"}parseMangaId(w){return w.replace("/g/","").replace(/\/$/,"")}parseChapterId(w){return this.parseMangaId(w)}}var n$1=[new a$5("en",new Long(1674160323,726933682,!1)),new a$5("ja",new Long(-486133509,1100398547,!1)),new a$5("zh",new Long(1541031717,512976060,!1)),new a$5("",new Long(1810939612,1701962374,!1)),new a$5("",new Long(6907,0,!1))];class t$1 extends Converter{constructor(w){super(),this.tachiyomiSourceId=w,this.aidokuSourceId="en.dynastyscans",this.baseUrl="https://dynasty-scans.com",this.lang="en"}parseMangaId(w){return w.replace(/^\//,"")}parseChapterId(w){return w.replace("/chapters/","")}}var i$1=[new Long(-1700845042,171993592,!1),new Long(-702418402,1453721207,!1),new Long(461221184,155785930,!1)].map(ee=>new t$1(ee));class a$4 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-1621112494,1027640203,!1),this.aidokuSourceId="vi.yurianeko",this.lang="vi",this.baseUrl="https://yurineko.net"}parseMangaId(w){return w.replace("/manga/","")}parseChapterId(w){return w.replace("/read/","")}}var p=[new a$4];class a$3 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-776666435,1527547964,!1),this.aidokuSourceId="vi.hentaivn",this.baseUrl="https://hentaivn.moe",this.lang="vi"}parseMangaId(w){return w.replace(/^\//,"")}parseChapterId(w){return this.parseMangaUrl(w)}}var f=[new a$3];class o$1 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-413969828,905361794,!1),this.aidokuSourceId="en.koushoku",this.lang="en",this.baseUrl="https://koushoku.org"}parseMangaId(w){return w.split("/")[2]}parseChapterId(w){return w.split("/")[2]}}var a$2=[new o$1];class n extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-579982820,671527822,!1),this.aidokuSourceId="zh.dmzj",this.baseUrl="https://m.dmzj.com",this.lang="zh"}parseMangaId(w){const ne=w.split("/")[2].match(/\d+/);if(!ne)throw`Couldn't parse out numeric ID from ${w}`;return ne[0]}parseChapterId(w){return w}parseMangaUrl(w){const ne=w.match(/(\d+)\.(json|html)/);if(!ne)throw`Couldn't parse out numeric ID from ${w}`;return`${this.baseUrl}/info/${ne[1]}.html`}}var v=[new n];class a$1 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-132005404,1849847375,!1),this.aidokuSourceId="en.hentaifox",this.baseUrl="https://hentaifox.com",this.lang="en"}parseMangaId(w){return w.replace(/\/g(?:allery)?\//,"").replace(/\/$/,"")}parseChapterId(w){return w.replace(/\/g(?:allery)?\//,"").replace(/\/?#\d+$/,"")}}var C=[new a$1],I=[...r$1,...o$3,...e$1,...t$3,...m,...n$1,...i$1,...p,...f,...a$2,...v,...C],commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}var light={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=ee;function ee(w,ne){for(var oe=new Array(arguments.length-1),se=0,te=2,$=!0;te<arguments.length;)oe[se++]=arguments[te++];return new Promise(function(ae,re){oe[se]=function(ue){if($)if($=!1,ue)re(ue);else{for(var fe=new Array(arguments.length-1),he=0;he<fe.length;)fe[he++]=arguments[he];ae.apply(null,fe)}};try{w.apply(ne||null,oe)}catch(ie){$&&($=!1,re(ie))}})}return aspromise}var base64$1={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(ee){var w=ee;w.length=function(X){var ae=X.length;if(!ae)return 0;for(var re=0;--ae%4>1&&X.charAt(ae)==="=";)++re;return Math.ceil(X.length*3)/4-re};for(var ne=new Array(64),oe=new Array(123),se=0;se<64;)oe[ne[se]=se<26?se+65:se<52?se+71:se<62?se-4:se-59|43]=se++;w.encode=function(X,ae,re){for(var ie=null,ue=[],fe=0,he=0,le;ae<re;){var de=X[ae++];switch(he){case 0:ue[fe++]=ne[de>>2],le=(de&3)<<4,he=1;break;case 1:ue[fe++]=ne[le|de>>4],le=(de&15)<<2,he=2;break;case 2:ue[fe++]=ne[le|de>>6],ue[fe++]=ne[de&63],he=0;break}fe>8191&&((ie||(ie=[])).push(String.fromCharCode.apply(String,ue)),fe=0)}return he&&(ue[fe++]=ne[le],ue[fe++]=61,he===1&&(ue[fe++]=61)),ie?(fe&&ie.push(String.fromCharCode.apply(String,ue.slice(0,fe))),ie.join("")):String.fromCharCode.apply(String,ue.slice(0,fe))};var te="invalid encoding";w.decode=function(X,ae,re){for(var ie=re,ue=0,fe,he=0;he<X.length;){var le=X.charCodeAt(he++);if(le===61&&ue>1)break;if((le=oe[le])===void 0)throw Error(te);switch(ue){case 0:fe=le,ue=1;break;case 1:ae[re++]=fe<<2|(le&48)>>4,fe=le,ue=2;break;case 2:ae[re++]=(fe&15)<<4|(le&60)>>2,fe=le,ue=3;break;case 3:ae[re++]=(fe&3)<<6|le,ue=0;break}}if(ue===1)throw Error(te);return re-ie},w.test=function(X){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(X)}}(base64$1)),base64$1}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=ee;function ee(){this._listeners={}}return ee.prototype.on=function(ne,oe,se){return(this._listeners[ne]||(this._listeners[ne]=[])).push({fn:oe,ctx:se||this}),this},ee.prototype.off=function(ne,oe){if(ne===void 0)this._listeners={};else if(oe===void 0)this._listeners[ne]=[];else for(var se=this._listeners[ne],te=0;te<se.length;)se[te].fn===oe?se.splice(te,1):++te;return this},ee.prototype.emit=function(ne){var oe=this._listeners[ne];if(oe){for(var se=[],te=1;te<arguments.length;)se.push(arguments[te++]);for(te=0;te<oe.length;)oe[te].fn.apply(oe[te++].ctx,se)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=ee(ee);function ee(te){return typeof Float32Array!="undefined"?function(){var $=new Float32Array([-0]),X=new Uint8Array($.buffer),ae=X[3]===128;function re(he,le,de){$[0]=he,le[de]=X[0],le[de+1]=X[1],le[de+2]=X[2],le[de+3]=X[3]}function ie(he,le,de){$[0]=he,le[de]=X[3],le[de+1]=X[2],le[de+2]=X[1],le[de+3]=X[0]}te.writeFloatLE=ae?re:ie,te.writeFloatBE=ae?ie:re;function ue(he,le){return X[0]=he[le],X[1]=he[le+1],X[2]=he[le+2],X[3]=he[le+3],$[0]}function fe(he,le){return X[3]=he[le],X[2]=he[le+1],X[1]=he[le+2],X[0]=he[le+3],$[0]}te.readFloatLE=ae?ue:fe,te.readFloatBE=ae?fe:ue}():function(){function $(ae,re,ie,ue){var fe=re<0?1:0;if(fe&&(re=-re),re===0)ae(1/re>0?0:2147483648,ie,ue);else if(isNaN(re))ae(2143289344,ie,ue);else if(re>34028234663852886e22)ae((fe<<31|2139095040)>>>0,ie,ue);else if(re<11754943508222875e-54)ae((fe<<31|Math.round(re/1401298464324817e-60))>>>0,ie,ue);else{var he=Math.floor(Math.log(re)/Math.LN2),le=Math.round(re*Math.pow(2,-he)*8388608)&8388607;ae((fe<<31|he+127<<23|le)>>>0,ie,ue)}}te.writeFloatLE=$.bind(null,w),te.writeFloatBE=$.bind(null,ne);function X(ae,re,ie){var ue=ae(re,ie),fe=(ue>>31)*2+1,he=ue>>>23&255,le=ue&8388607;return he===255?le?NaN:fe*(1/0):he===0?fe*1401298464324817e-60*le:fe*Math.pow(2,he-150)*(le+8388608)}te.readFloatLE=X.bind(null,oe),te.readFloatBE=X.bind(null,se)}(),typeof Float64Array!="undefined"?function(){var $=new Float64Array([-0]),X=new Uint8Array($.buffer),ae=X[7]===128;function re(he,le,de){$[0]=he,le[de]=X[0],le[de+1]=X[1],le[de+2]=X[2],le[de+3]=X[3],le[de+4]=X[4],le[de+5]=X[5],le[de+6]=X[6],le[de+7]=X[7]}function ie(he,le,de){$[0]=he,le[de]=X[7],le[de+1]=X[6],le[de+2]=X[5],le[de+3]=X[4],le[de+4]=X[3],le[de+5]=X[2],le[de+6]=X[1],le[de+7]=X[0]}te.writeDoubleLE=ae?re:ie,te.writeDoubleBE=ae?ie:re;function ue(he,le){return X[0]=he[le],X[1]=he[le+1],X[2]=he[le+2],X[3]=he[le+3],X[4]=he[le+4],X[5]=he[le+5],X[6]=he[le+6],X[7]=he[le+7],$[0]}function fe(he,le){return X[7]=he[le],X[6]=he[le+1],X[5]=he[le+2],X[4]=he[le+3],X[3]=he[le+4],X[2]=he[le+5],X[1]=he[le+6],X[0]=he[le+7],$[0]}te.readDoubleLE=ae?ue:fe,te.readDoubleBE=ae?fe:ue}():function(){function $(ae,re,ie,ue,fe,he){var le=ue<0?1:0;if(le&&(ue=-ue),ue===0)ae(0,fe,he+re),ae(1/ue>0?0:2147483648,fe,he+ie);else if(isNaN(ue))ae(0,fe,he+re),ae(2146959360,fe,he+ie);else if(ue>17976931348623157e292)ae(0,fe,he+re),ae((le<<31|2146435072)>>>0,fe,he+ie);else{var de;if(ue<22250738585072014e-324)de=ue/5e-324,ae(de>>>0,fe,he+re),ae((le<<31|de/4294967296)>>>0,fe,he+ie);else{var me=Math.floor(Math.log(ue)/Math.LN2);me===1024&&(me=1023),de=ue*Math.pow(2,-me),ae(de*4503599627370496>>>0,fe,he+re),ae((le<<31|me+1023<<20|de*1048576&1048575)>>>0,fe,he+ie)}}}te.writeDoubleLE=$.bind(null,w,0,4),te.writeDoubleBE=$.bind(null,ne,4,0);function X(ae,re,ie,ue,fe){var he=ae(ue,fe+re),le=ae(ue,fe+ie),de=(le>>31)*2+1,me=le>>>20&2047,ge=4294967296*(le&1048575)+he;return me===2047?ge?NaN:de*(1/0):me===0?de*5e-324*ge:de*Math.pow(2,me-1075)*(ge+4503599627370496)}te.readDoubleLE=X.bind(null,oe,0,4),te.readDoubleBE=X.bind(null,se,4,0)}(),te}function w(te,$,X){$[X]=te&255,$[X+1]=te>>>8&255,$[X+2]=te>>>16&255,$[X+3]=te>>>24}function ne(te,$,X){$[X]=te>>>24,$[X+1]=te>>>16&255,$[X+2]=te>>>8&255,$[X+3]=te&255}function oe(te,$){return(te[$]|te[$+1]<<8|te[$+2]<<16|te[$+3]<<24)>>>0}function se(te,$){return(te[$]<<24|te[$+1]<<16|te[$+2]<<8|te[$+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(ee){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(ee){var w=ee;w.length=function(oe){for(var se=0,te=0,$=0;$<oe.length;++$)te=oe.charCodeAt($),te<128?se+=1:te<2048?se+=2:(te&64512)===55296&&(oe.charCodeAt($+1)&64512)===56320?(++$,se+=4):se+=3;return se},w.read=function(oe,se,te){var $=te-se;if($<1)return"";for(var X=null,ae=[],re=0,ie;se<te;)ie=oe[se++],ie<128?ae[re++]=ie:ie>191&&ie<224?ae[re++]=(ie&31)<<6|oe[se++]&63:ie>239&&ie<365?(ie=((ie&7)<<18|(oe[se++]&63)<<12|(oe[se++]&63)<<6|oe[se++]&63)-65536,ae[re++]=55296+(ie>>10),ae[re++]=56320+(ie&1023)):ae[re++]=(ie&15)<<12|(oe[se++]&63)<<6|oe[se++]&63,re>8191&&((X||(X=[])).push(String.fromCharCode.apply(String,ae)),re=0);return X?(re&&X.push(String.fromCharCode.apply(String,ae.slice(0,re))),X.join("")):String.fromCharCode.apply(String,ae.slice(0,re))},w.write=function(oe,se,te){for(var $=te,X,ae,re=0;re<oe.length;++re)X=oe.charCodeAt(re),X<128?se[te++]=X:X<2048?(se[te++]=X>>6|192,se[te++]=X&63|128):(X&64512)===55296&&((ae=oe.charCodeAt(re+1))&64512)===56320?(X=65536+((X&1023)<<10)+(ae&1023),++re,se[te++]=X>>18|240,se[te++]=X>>12&63|128,se[te++]=X>>6&63|128,se[te++]=X&63|128):(se[te++]=X>>12|224,se[te++]=X>>6&63|128,se[te++]=X&63|128);return te-$}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=ee;function ee(w,ne,oe){var se=oe||8192,te=se>>>1,$=null,X=se;return function(re){if(re<1||re>te)return w(re);X+re>se&&($=w(se),X=0);var ie=ne.call($,X,X+=re);return X&7&&(X=(X|7)+1),ie}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=w;var ee=requireMinimal();function w(te,$){this.lo=te>>>0,this.hi=$>>>0}var ne=w.zero=new w(0,0);ne.toNumber=function(){return 0},ne.zzEncode=ne.zzDecode=function(){return this},ne.length=function(){return 1};var oe=w.zeroHash="\0\0\0\0\0\0\0\0";w.fromNumber=function($){if($===0)return ne;var X=$<0;X&&($=-$);var ae=$>>>0,re=($-ae)/4294967296>>>0;return X&&(re=~re>>>0,ae=~ae>>>0,++ae>4294967295&&(ae=0,++re>4294967295&&(re=0))),new w(ae,re)},w.from=function($){if(typeof $=="number")return w.fromNumber($);if(ee.isString($))if(ee.Long)$=ee.Long.fromString($);else return w.fromNumber(parseInt($,10));return $.low||$.high?new w($.low>>>0,$.high>>>0):ne},w.prototype.toNumber=function($){if(!$&&this.hi>>>31){var X=~this.lo+1>>>0,ae=~this.hi>>>0;return X||(ae=ae+1>>>0),-(X+ae*4294967296)}return this.lo+this.hi*4294967296},w.prototype.toLong=function($){return ee.Long?new ee.Long(this.lo|0,this.hi|0,Boolean($)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean($)}};var se=String.prototype.charCodeAt;return w.fromHash=function($){return $===oe?ne:new w((se.call($,0)|se.call($,1)<<8|se.call($,2)<<16|se.call($,3)<<24)>>>0,(se.call($,4)|se.call($,5)<<8|se.call($,6)<<16|se.call($,7)<<24)>>>0)},w.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},w.prototype.zzEncode=function(){var $=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^$)>>>0,this.lo=(this.lo<<1^$)>>>0,this},w.prototype.zzDecode=function(){var $=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^$)>>>0,this.hi=(this.hi>>>1^$)>>>0,this},w.prototype.length=function(){var $=this.lo,X=(this.lo>>>28|this.hi<<4)>>>0,ae=this.hi>>>24;return ae===0?X===0?$<16384?$<128?1:2:$<2097152?3:4:X<16384?X<128?5:6:X<2097152?7:8:ae<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(ee){var w=ee;w.asPromise=requireAspromise(),w.base64=requireBase64(),w.EventEmitter=requireEventemitter(),w.float=requireFloat(),w.inquire=requireInquire(),w.utf8=requireUtf8(),w.pool=requirePool(),w.LongBits=requireLongbits(),w.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),w.global=w.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,w.emptyArray=Object.freeze?Object.freeze([]):[],w.emptyObject=Object.freeze?Object.freeze({}):{},w.isInteger=Number.isInteger||function(te){return typeof te=="number"&&isFinite(te)&&Math.floor(te)===te},w.isString=function(te){return typeof te=="string"||te instanceof String},w.isObject=function(te){return te&&typeof te=="object"},w.isset=w.isSet=function(te,$){var X=te[$];return X!=null&&te.hasOwnProperty($)?typeof X!="object"||(Array.isArray(X)?X.length:Object.keys(X).length)>0:!1},w.Buffer=function(){try{var se=w.inquire("buffer").Buffer;return se.prototype.utf8Write?se:null}catch(te){return null}}(),w._Buffer_from=null,w._Buffer_allocUnsafe=null,w.newBuffer=function(te){return typeof te=="number"?w.Buffer?w._Buffer_allocUnsafe(te):new w.Array(te):w.Buffer?w._Buffer_from(te):typeof Uint8Array=="undefined"?te:new Uint8Array(te)},w.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,w.Long=w.global.dcodeIO&&w.global.dcodeIO.Long||w.global.Long||w.inquire("long"),w.key2Re=/^true|false|0|1$/,w.key32Re=/^-?(?:0|[1-9][0-9]*)$/,w.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,w.longToHash=function(te){return te?w.LongBits.from(te).toHash():w.LongBits.zeroHash},w.longFromHash=function(te,$){var X=w.LongBits.fromHash(te);return w.Long?w.Long.fromBits(X.lo,X.hi,$):X.toNumber(Boolean($))};function ne(se,te,$){for(var X=Object.keys(te),ae=0;ae<X.length;++ae)(se[X[ae]]===void 0||!$)&&(se[X[ae]]=te[X[ae]]);return se}w.merge=ne,w.lcFirst=function(te){return te.charAt(0).toLowerCase()+te.substring(1)};function oe(se){function te($,X){if(!(this instanceof te))return new te($,X);Object.defineProperty(this,"message",{get:function(){return $}}),Error.captureStackTrace?Error.captureStackTrace(this,te):Object.defineProperty(this,"stack",{value:new Error().stack||""}),X&&ne(this,X)}return te.prototype=Object.create(Error.prototype,{constructor:{value:te,writable:!0,enumerable:!1,configurable:!0},name:{get(){return se},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),te}w.newError=oe,w.ProtocolError=oe("ProtocolError"),w.oneOfGetter=function(te){for(var $={},X=0;X<te.length;++X)$[te[X]]=1;return function(){for(var ae=Object.keys(this),re=ae.length-1;re>-1;--re)if($[ae[re]]===1&&this[ae[re]]!==void 0&&this[ae[re]]!==null)return ae[re]}},w.oneOfSetter=function(te){return function($){for(var X=0;X<te.length;++X)te[X]!==$&&delete this[te[X]]}},w.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},w._configure=function(){var se=w.Buffer;if(!se){w._Buffer_from=w._Buffer_allocUnsafe=null;return}w._Buffer_from=se.from!==Uint8Array.from&&se.from||function($,X){return new se($,X)},w._Buffer_allocUnsafe=se.allocUnsafe||function($){return new se($)}}}(minimal)),minimal}var writer=Writer$1,util$6=requireMinimal(),BufferWriter$1,LongBits$1=util$6.LongBits,base64=util$6.base64,utf8$1=util$6.utf8;function Op(ee,w,ne){this.fn=ee,this.len=w,this.next=void 0,this.val=ne}function noop(){}function State(ee){this.head=ee.head,this.tail=ee.tail,this.len=ee.len,this.next=ee.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function ee(){return util$6.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1(),Writer$1.alloc=function ee(w){return new util$6.Array(w)},util$6.Array!==Array&&(Writer$1.alloc=util$6.pool(Writer$1.alloc,util$6.Array.prototype.subarray)),Writer$1.prototype._push=function ee(w,ne,oe){return this.tail=this.tail.next=new Op(w,ne,oe),this.len+=ne,this};function writeByte(ee,w,ne){w[ne]=ee&255}function writeVarint32(ee,w,ne){for(;ee>127;)w[ne++]=ee&127|128,ee>>>=7;w[ne]=ee}function VarintOp(ee,w){this.len=ee,this.next=void 0,this.val=w}VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function ee(w){return this.len+=(this.tail=this.tail.next=new VarintOp((w=w>>>0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},Writer$1.prototype.int32=function ee(w){return w<0?this._push(writeVarint64,10,LongBits$1.fromNumber(w)):this.uint32(w)},Writer$1.prototype.sint32=function ee(w){return this.uint32((w<<1^w>>31)>>>0)};function writeVarint64(ee,w,ne){for(;ee.hi;)w[ne++]=ee.lo&127|128,ee.lo=(ee.lo>>>7|ee.hi<<25)>>>0,ee.hi>>>=7;for(;ee.lo>127;)w[ne++]=ee.lo&127|128,ee.lo=ee.lo>>>7;w[ne++]=ee.lo}Writer$1.prototype.uint64=function ee(w){var ne=LongBits$1.from(w);return this._push(writeVarint64,ne.length(),ne)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function ee(w){var ne=LongBits$1.from(w).zzEncode();return this._push(writeVarint64,ne.length(),ne)},Writer$1.prototype.bool=function ee(w){return this._push(writeByte,1,w?1:0)};function writeFixed32(ee,w,ne){w[ne]=ee&255,w[ne+1]=ee>>>8&255,w[ne+2]=ee>>>16&255,w[ne+3]=ee>>>24}Writer$1.prototype.fixed32=function ee(w){return this._push(writeFixed32,4,w>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function ee(w){var ne=LongBits$1.from(w);return this._push(writeFixed32,4,ne.lo)._push(writeFixed32,4,ne.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function ee(w){return this._push(util$6.float.writeFloatLE,4,w)},Writer$1.prototype.double=function ee(w){return this._push(util$6.float.writeDoubleLE,8,w)};var writeBytes=util$6.Array.prototype.set?function ee(w,ne,oe){ne.set(w,oe)}:function ee(w,ne,oe){for(var se=0;se<w.length;++se)ne[oe+se]=w[se]};Writer$1.prototype.bytes=function ee(w){var ne=w.length>>>0;if(!ne)return this._push(writeByte,1,0);if(util$6.isString(w)){var oe=Writer$1.alloc(ne=base64.length(w));base64.decode(w,oe,0),w=oe}return this.uint32(ne)._push(writeBytes,ne,w)},Writer$1.prototype.string=function ee(w){var ne=utf8$1.length(w);return ne?this.uint32(ne)._push(utf8$1.write,ne,w):this._push(writeByte,1,0)},Writer$1.prototype.fork=function ee(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function ee(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function ee(){var w=this.head,ne=this.tail,oe=this.len;return this.reset().uint32(oe),oe&&(this.tail.next=w.next,this.tail=ne,this.len+=oe),this},Writer$1.prototype.finish=function ee(){for(var w=this.head.next,ne=this.constructor.alloc(this.len),oe=0;w;)w.fn(w.val,ne,oe),oe+=w.len,w=w.next;return ne},Writer$1._configure=function(ee){BufferWriter$1=ee,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$5=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$5._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$5.Buffer&&util$5.Buffer.prototype instanceof Uint8Array&&util$5.Buffer.prototype.set.name==="set"?function(w,ne,oe){ne.set(w,oe)}:function(w,ne,oe){if(w.copy)w.copy(ne,oe,0,w.length);else for(var se=0;se<w.length;)ne[oe++]=w[se++]}},BufferWriter.prototype.bytes=function ee(w){util$5.isString(w)&&(w=util$5._Buffer_from(w,"base64"));var ne=w.length>>>0;return this.uint32(ne),ne&&this._push(BufferWriter.writeBytesBuffer,ne,w),this};function writeStringBuffer(ee,w,ne){ee.length<40?util$5.utf8.write(ee,w,ne):w.utf8Write?w.utf8Write(ee,ne):w.write(ee,ne)}BufferWriter.prototype.string=function ee(w){var ne=util$5.Buffer.byteLength(w);return this.uint32(ne),ne&&this._push(writeStringBuffer,ne,w),this},BufferWriter._configure();var reader=Reader$1,util$4=requireMinimal(),BufferReader$1,LongBits=util$4.LongBits,utf8=util$4.utf8;function indexOutOfRange(ee,w){return RangeError("index out of range: "+ee.pos+" + "+(w||1)+" > "+ee.len)}function Reader$1(ee){this.buf=ee,this.pos=0,this.len=ee.length}var create_array=typeof Uint8Array!="undefined"?function ee(w){if(w instanceof Uint8Array||Array.isArray(w))return new Reader$1(w);throw Error("illegal buffer")}:function ee(w){if(Array.isArray(w))return new Reader$1(w);throw Error("illegal buffer")},create=function ee(){return util$4.Buffer?function(ne){return(Reader$1.create=function(se){return util$4.Buffer.isBuffer(se)?new BufferReader$1(se):create_array(se)})(ne)}:create_array};Reader$1.create=create(),Reader$1.prototype._slice=util$4.Array.prototype.subarray||util$4.Array.prototype.slice,Reader$1.prototype.uint32=function ee(){var w=4294967295;return function(){if(w=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(w=(w|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return w;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return w}}(),Reader$1.prototype.int32=function ee(){return this.uint32()|0},Reader$1.prototype.sint32=function ee(){var w=this.uint32();return w>>>1^-(w&1)|0};function readLongVarint(){var ee=new LongBits(0,0),w=0;if(this.len-this.pos>4){for(;w<4;++w)if(ee.lo=(ee.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return ee;if(ee.lo=(ee.lo|(this.buf[this.pos]&127)<<28)>>>0,ee.hi=(ee.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ee;w=0}else{for(;w<3;++w){if(this.pos>=this.len)throw indexOutOfRange(this);if(ee.lo=(ee.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return ee}return ee.lo=(ee.lo|(this.buf[this.pos++]&127)<<w*7)>>>0,ee}if(this.len-this.pos>4){for(;w<5;++w)if(ee.hi=(ee.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return ee}else for(;w<5;++w){if(this.pos>=this.len)throw indexOutOfRange(this);if(ee.hi=(ee.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return ee}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function ee(){return this.uint32()!==0};function readFixed32_end(ee,w){return(ee[w-4]|ee[w-3]<<8|ee[w-2]<<16|ee[w-1]<<24)>>>0}Reader$1.prototype.fixed32=function ee(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function ee(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function ee(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var w=util$4.float.readFloatLE(this.buf,this.pos);return this.pos+=4,w},Reader$1.prototype.double=function ee(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var w=util$4.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,w},Reader$1.prototype.bytes=function ee(){var w=this.uint32(),ne=this.pos,oe=this.pos+w;if(oe>this.len)throw indexOutOfRange(this,w);return this.pos+=w,Array.isArray(this.buf)?this.buf.slice(ne,oe):ne===oe?new this.buf.constructor(0):this._slice.call(this.buf,ne,oe)},Reader$1.prototype.string=function ee(){var w=this.bytes();return utf8.read(w,0,w.length)},Reader$1.prototype.skip=function ee(w){if(typeof w=="number"){if(this.pos+w>this.len)throw indexOutOfRange(this,w);this.pos+=w}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this},Reader$1.prototype.skipType=function(ee){switch(ee){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ee=this.uint32()&7)!==4;)this.skipType(ee);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ee+" at offset "+this.pos)}return this},Reader$1._configure=function(ee){BufferReader$1=ee,Reader$1.create=create(),BufferReader$1._configure();var w=util$4.Long?"toLong":"toNumber";util$4.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[w](!1)},uint64:function(){return readLongVarint.call(this)[w](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[w](!1)},fixed64:function(){return readFixed64.call(this)[w](!0)},sfixed64:function(){return readFixed64.call(this)[w](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$3=requireMinimal();function BufferReader(ee){Reader.call(this,ee)}BufferReader._configure=function(){util$3.Buffer&&(BufferReader.prototype._slice=util$3.Buffer.prototype.slice)},BufferReader.prototype.string=function ee(){var w=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+w,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+w,this.len))},BufferReader._configure();var rpc={},service$1=Service,util$2=requireMinimal();(Service.prototype=Object.create(util$2.EventEmitter.prototype)).constructor=Service;function Service(ee,w,ne){if(typeof ee!="function")throw TypeError("rpcImpl must be a function");util$2.EventEmitter.call(this),this.rpcImpl=ee,this.requestDelimited=Boolean(w),this.responseDelimited=Boolean(ne)}Service.prototype.rpcCall=function ee(w,ne,oe,se,te){if(!se)throw TypeError("request must be specified");var $=this;if(!te)return util$2.asPromise(ee,$,w,ne,oe,se);if(!$.rpcImpl){setTimeout(function(){te(Error("already ended"))},0);return}try{return $.rpcImpl(w,ne[$.requestDelimited?"encodeDelimited":"encode"](se).finish(),function(ae,re){if(ae)return $.emit("error",ae,w),te(ae);if(re===null){$.end(!0);return}if(!(re instanceof oe))try{re=oe[$.responseDelimited?"decodeDelimited":"decode"](re)}catch(ie){return $.emit("error",ie,w),te(ie)}return $.emit("data",re,w),te(null,re)})}catch(X){$.emit("error",X,w),setTimeout(function(){te(X)},0);return}},Service.prototype.end=function ee(w){return this.rpcImpl&&(w||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(ee){var w=ee;w.Service=service$1}(rpc);var roots={};(function(ee){var w=ee;w.build="minimal",w.Writer=writer,w.BufferWriter=writer_buffer,w.Reader=reader,w.BufferReader=reader_buffer,w.util=requireMinimal(),w.rpc=rpc,w.roots=roots,w.configure=ne;function ne(){w.util._configure(),w.Writer._configure(w.BufferWriter),w.Reader._configure(w.BufferReader)}ne()})(indexMinimal);var util$1={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=ee;function ee(w,ne){typeof w=="string"&&(ne=w,w=void 0);var oe=[];function se($){if(typeof $!="string"){var X=te();if(ee.verbose&&console.log("codegen: "+X),X="return "+X,$){for(var ae=Object.keys($),re=new Array(ae.length+1),ie=new Array(ae.length),ue=0;ue<ae.length;)re[ue]=ae[ue],ie[ue]=$[ae[ue++]];return re[ue]=X,Function.apply(null,re).apply(null,ie)}return Function(X)()}for(var fe=new Array(arguments.length-1),he=0;he<fe.length;)fe[he]=arguments[++he];if(he=0,$=$.replace(/%([%dfijs])/g,function(de,me){var ge=fe[he++];switch(me){case"d":case"f":return String(Number(ge));case"i":return String(Math.floor(ge));case"j":return JSON.stringify(ge);case"s":return String(ge)}return"%"}),he!==fe.length)throw Error("parameter count mismatch");return oe.push($),se}function te($){return"function "+($||ne||"")+"("+(w&&w.join(",")||"")+`){
  `+oe.join(`
  `)+`
}`}return se.toString=te,se}return ee.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=oe;var ee=requireAspromise(),w=requireInquire(),ne=w("fs");function oe(se,te,$){return typeof te=="function"?($=te,te={}):te||(te={}),$?!te.xhr&&ne&&ne.readFile?ne.readFile(se,function(ae,re){return ae&&typeof XMLHttpRequest!="undefined"?oe.xhr(se,te,$):ae?$(ae):$(null,te.binary?re:re.toString("utf8"))}):oe.xhr(se,te,$):ee(oe,this,se,te)}return oe.xhr=function(te,$,X){var ae=new XMLHttpRequest;ae.onreadystatechange=function(){if(ae.readyState===4){if(ae.status!==0&&ae.status!==200)return X(Error("status "+ae.status));if($.binary){var ie=ae.response;if(!ie){ie=[];for(var ue=0;ue<ae.responseText.length;++ue)ie.push(ae.responseText.charCodeAt(ue)&255)}return X(null,typeof Uint8Array!="undefined"?new Uint8Array(ie):ie)}return X(null,ae.responseText)}},$.binary&&("overrideMimeType"in ae&&ae.overrideMimeType("text/plain; charset=x-user-defined"),ae.responseType="arraybuffer"),ae.open("GET",te),ae.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(ee){var w=ee,ne=w.isAbsolute=function(te){return/^(?:\/|\w+:)/.test(te)},oe=w.normalize=function(te){te=te.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var $=te.split("/"),X=ne(te),ae="";X&&(ae=$.shift()+"/");for(var re=0;re<$.length;)$[re]===".."?re>0&&$[re-1]!==".."?$.splice(--re,2):X?$.splice(re,1):++re:$[re]==="."?$.splice(re,1):++re;return ae+$.join("/")};w.resolve=function(te,$,X){return X||($=oe($)),ne($)?$:(X||(te=oe(te)),(te=te.replace(/(?:\/|^)[^/]+$/,"")).length?oe(te+"/"+$):$)}}(path)),path}var types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(ee){var w=ee,ne=requireUtil(),oe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function se(te,$){var X=0,ae={};for($|=0;X<te.length;)ae[oe[X+$]]=te[X++];return ae}w.basic=se([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),w.defaults=se([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",ne.emptyArray,null]),w.long=se([0,0,0,1,1],7),w.mapKey=se([0,0,0,5,5,0,0,0,1,1,0,2],2),w.packed=se([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=$;var ee=requireObject();(($.prototype=Object.create(ee.prototype)).constructor=$).className="Field";var w=require_enum(),ne=requireTypes(),oe=requireUtil(),se,te=/^required|optional|repeated$/;$.fromJSON=function(ae,re){return new $(ae,re.id,re.type,re.rule,re.extend,re.options,re.comment)};function $(X,ae,re,ie,ue,fe,he){if(oe.isObject(ie)?(he=ue,fe=ie,ie=ue=void 0):oe.isObject(ue)&&(he=fe,fe=ue,ue=void 0),ee.call(this,X,fe),!oe.isInteger(ae)||ae<0)throw TypeError("id must be a non-negative integer");if(!oe.isString(re))throw TypeError("type must be a string");if(ie!==void 0&&!te.test(ie=ie.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(ue!==void 0&&!oe.isString(ue))throw TypeError("extend must be a string");ie==="proto3_optional"&&(ie="optional"),this.rule=ie&&ie!=="optional"?ie:void 0,this.type=re,this.id=ae,this.extend=ue||void 0,this.required=ie==="required",this.optional=!this.required,this.repeated=ie==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=oe.Long?ne.long[re]!==void 0:!1,this.bytes=re==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=he}return Object.defineProperty($.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),$.prototype.setOption=function(ae,re,ie){return ae==="packed"&&(this._packed=null),ee.prototype.setOption.call(this,ae,re,ie)},$.prototype.toJSON=function(ae){var re=ae?Boolean(ae.keepComments):!1;return oe.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",re?this.comment:void 0])},$.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=ne.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof se?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof w&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof w))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=oe.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var ae;oe.base64.test(this.typeDefault)?oe.base64.decode(this.typeDefault,ae=oe.newBuffer(oe.base64.length(this.typeDefault)),0):oe.utf8.write(this.typeDefault,ae=oe.newBuffer(oe.utf8.length(this.typeDefault)),0),this.typeDefault=ae}return this.map?this.defaultValue=oe.emptyObject:this.repeated?this.defaultValue=oe.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof se&&(this.parent.ctor.prototype[this.name]=this.defaultValue),ee.prototype.resolve.call(this)},$.d=function(ae,re,ie,ue){return typeof re=="function"?re=oe.decorateType(re).name:re&&typeof re=="object"&&(re=oe.decorateEnum(re).name),function(he,le){oe.decorateType(he.constructor).add(new $(le,ae,re,ie,{default:ue}))}},$._configure=function(ae){se=ae},field}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=X;var ee=requireObject();((X.prototype=Object.create(ee.prototype)).constructor=X).className="Namespace";var w=requireField(),ne=requireUtil(),oe,se,te;X.fromJSON=function(ie,ue){return new X(ie,ue.options).addJSON(ue.nested)};function $(re,ie){if(!!(re&&re.length)){for(var ue={},fe=0;fe<re.length;++fe)ue[re[fe].name]=re[fe].toJSON(ie);return ue}}X.arrayToJSON=$,X.isReservedId=function(ie,ue){if(ie){for(var fe=0;fe<ie.length;++fe)if(typeof ie[fe]!="string"&&ie[fe][0]<=ue&&ie[fe][1]>ue)return!0}return!1},X.isReservedName=function(ie,ue){if(ie){for(var fe=0;fe<ie.length;++fe)if(ie[fe]===ue)return!0}return!1};function X(re,ie){ee.call(this,re,ie),this.nested=void 0,this._nestedArray=null}function ae(re){return re._nestedArray=null,re}return Object.defineProperty(X.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=ne.toArray(this.nested))}}),X.prototype.toJSON=function(ie){return ne.toObject(["options",this.options,"nested",$(this.nestedArray,ie)])},X.prototype.addJSON=function(ie){var ue=this;if(ie)for(var fe=Object.keys(ie),he=0,le;he<fe.length;++he)le=ie[fe[he]],ue.add((le.fields!==void 0?oe.fromJSON:le.values!==void 0?te.fromJSON:le.methods!==void 0?se.fromJSON:le.id!==void 0?w.fromJSON:X.fromJSON)(fe[he],le));return this},X.prototype.get=function(ie){return this.nested&&this.nested[ie]||null},X.prototype.getEnum=function(ie){if(this.nested&&this.nested[ie]instanceof te)return this.nested[ie].values;throw Error("no such enum: "+ie)},X.prototype.add=function(ie){if(!(ie instanceof w&&ie.extend!==void 0||ie instanceof oe||ie instanceof te||ie instanceof se||ie instanceof X))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var ue=this.get(ie.name);if(ue)if(ue instanceof X&&ie instanceof X&&!(ue instanceof oe||ue instanceof se)){for(var fe=ue.nestedArray,he=0;he<fe.length;++he)ie.add(fe[he]);this.remove(ue),this.nested||(this.nested={}),ie.setOptions(ue.options,!0)}else throw Error("duplicate name '"+ie.name+"' in "+this)}return this.nested[ie.name]=ie,ie.onAdd(this),ae(this)},X.prototype.remove=function(ie){if(!(ie instanceof ee))throw TypeError("object must be a ReflectionObject");if(ie.parent!==this)throw Error(ie+" is not a member of "+this);return delete this.nested[ie.name],Object.keys(this.nested).length||(this.nested=void 0),ie.onRemove(this),ae(this)},X.prototype.define=function(ie,ue){if(ne.isString(ie))ie=ie.split(".");else if(!Array.isArray(ie))throw TypeError("illegal path");if(ie&&ie.length&&ie[0]==="")throw Error("path must be relative");for(var fe=this;ie.length>0;){var he=ie.shift();if(fe.nested&&fe.nested[he]){if(fe=fe.nested[he],!(fe instanceof X))throw Error("path conflicts with non-namespace objects")}else fe.add(fe=new X(he))}return ue&&fe.addJSON(ue),fe},X.prototype.resolveAll=function(){for(var ie=this.nestedArray,ue=0;ue<ie.length;)ie[ue]instanceof X?ie[ue++].resolveAll():ie[ue++].resolve();return this.resolve()},X.prototype.lookup=function(ie,ue,fe){if(typeof ue=="boolean"?(fe=ue,ue=void 0):ue&&!Array.isArray(ue)&&(ue=[ue]),ne.isString(ie)&&ie.length){if(ie===".")return this.root;ie=ie.split(".")}else if(!ie.length)return this;if(ie[0]==="")return this.root.lookup(ie.slice(1),ue);var he=this.get(ie[0]);if(he){if(ie.length===1){if(!ue||ue.indexOf(he.constructor)>-1)return he}else if(he instanceof X&&(he=he.lookup(ie.slice(1),ue,!0)))return he}else for(var le=0;le<this.nestedArray.length;++le)if(this._nestedArray[le]instanceof X&&(he=this._nestedArray[le].lookup(ie,ue,!0)))return he;return this.parent===null||fe?null:this.parent.lookup(ie,ue)},X.prototype.lookupType=function(ie){var ue=this.lookup(ie,[oe]);if(!ue)throw Error("no such type: "+ie);return ue},X.prototype.lookupEnum=function(ie){var ue=this.lookup(ie,[te]);if(!ue)throw Error("no such Enum '"+ie+"' in "+this);return ue},X.prototype.lookupTypeOrEnum=function(ie){var ue=this.lookup(ie,[oe,te]);if(!ue)throw Error("no such Type or Enum '"+ie+"' in "+this);return ue},X.prototype.lookupService=function(ie){var ue=this.lookup(ie,[se]);if(!ue)throw Error("no such Service '"+ie+"' in "+this);return ue},X._configure=function(re,ie,ue){oe=re,se=ie,te=ue},namespace}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=oe;var ee=requireObject();((oe.prototype=Object.create(ee.prototype)).constructor=oe).className="OneOf";var w=requireField(),ne=requireUtil();function oe(te,$,X,ae){if(Array.isArray($)||(X=$,$=void 0),ee.call(this,te,X),!($===void 0||Array.isArray($)))throw TypeError("fieldNames must be an Array");this.oneof=$||[],this.fieldsArray=[],this.comment=ae}oe.fromJSON=function($,X){return new oe($,X.oneof,X.options,X.comment)},oe.prototype.toJSON=function($){var X=$?Boolean($.keepComments):!1;return ne.toObject(["options",this.options,"oneof",this.oneof,"comment",X?this.comment:void 0])};function se(te){if(te.parent)for(var $=0;$<te.fieldsArray.length;++$)te.fieldsArray[$].parent||te.parent.add(te.fieldsArray[$])}return oe.prototype.add=function($){if(!($ instanceof w))throw TypeError("field must be a Field");return $.parent&&$.parent!==this.parent&&$.parent.remove($),this.oneof.push($.name),this.fieldsArray.push($),$.partOf=this,se(this),this},oe.prototype.remove=function($){if(!($ instanceof w))throw TypeError("field must be a Field");var X=this.fieldsArray.indexOf($);if(X<0)throw Error($+" is not a member of "+this);return this.fieldsArray.splice(X,1),X=this.oneof.indexOf($.name),X>-1&&this.oneof.splice(X,1),$.partOf=null,this},oe.prototype.onAdd=function($){ee.prototype.onAdd.call(this,$);for(var X=this,ae=0;ae<this.oneof.length;++ae){var re=$.get(this.oneof[ae]);re&&!re.partOf&&(re.partOf=X,X.fieldsArray.push(re))}se(this)},oe.prototype.onRemove=function($){for(var X=0,ae;X<this.fieldsArray.length;++X)(ae=this.fieldsArray[X]).parent&&ae.parent.remove(ae);ee.prototype.onRemove.call(this,$)},oe.d=function(){for(var $=new Array(arguments.length),X=0;X<arguments.length;)$[X]=arguments[X++];return function(re,ie){ne.decorateType(re.constructor).add(new oe(ie,$)),Object.defineProperty(re,ie,{get:ne.oneOfGetter($),set:ne.oneOfSetter($)})}},oneof}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=oe;var ee=requireField();((oe.prototype=Object.create(ee.prototype)).constructor=oe).className="MapField";var w=requireTypes(),ne=requireUtil();function oe(se,te,$,X,ae,re){if(ee.call(this,se,te,X,void 0,void 0,ae,re),!ne.isString($))throw TypeError("keyType must be a string");this.keyType=$,this.resolvedKeyType=null,this.map=!0}return oe.fromJSON=function(te,$){return new oe(te,$.id,$.keyType,$.type,$.options,$.comment)},oe.prototype.toJSON=function(te){var $=te?Boolean(te.keepComments):!1;return ne.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",$?this.comment:void 0])},oe.prototype.resolve=function(){if(this.resolved)return this;if(w.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return ee.prototype.resolve.call(this)},oe.d=function(te,$,X){return typeof X=="function"?X=ne.decorateType(X).name:X&&typeof X=="object"&&(X=ne.decorateEnum(X).name),function(re,ie){ne.decorateType(re.constructor).add(new oe(ie,te,$,X))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=ne;var ee=requireObject();((ne.prototype=Object.create(ee.prototype)).constructor=ne).className="Method";var w=requireUtil();function ne(oe,se,te,$,X,ae,re,ie,ue){if(w.isObject(X)?(re=X,X=ae=void 0):w.isObject(ae)&&(re=ae,ae=void 0),!(se===void 0||w.isString(se)))throw TypeError("type must be a string");if(!w.isString(te))throw TypeError("requestType must be a string");if(!w.isString($))throw TypeError("responseType must be a string");ee.call(this,oe,re),this.type=se||"rpc",this.requestType=te,this.requestStream=X?!0:void 0,this.responseType=$,this.responseStream=ae?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=ie,this.parsedOptions=ue}return ne.fromJSON=function(se,te){return new ne(se,te.type,te.requestType,te.responseType,te.requestStream,te.responseStream,te.options,te.comment,te.parsedOptions)},ne.prototype.toJSON=function(se){var te=se?Boolean(se.keepComments):!1;return w.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",te?this.comment:void 0,"parsedOptions",this.parsedOptions])},ne.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),ee.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=se;var ee=requireNamespace();((se.prototype=Object.create(ee.prototype)).constructor=se).className="Service";var w=requireMethod(),ne=requireUtil(),oe=rpc;function se($,X){ee.call(this,$,X),this.methods={},this._methodsArray=null}se.fromJSON=function(X,ae){var re=new se(X,ae.options);if(ae.methods)for(var ie=Object.keys(ae.methods),ue=0;ue<ie.length;++ue)re.add(w.fromJSON(ie[ue],ae.methods[ie[ue]]));return ae.nested&&re.addJSON(ae.nested),re.comment=ae.comment,re},se.prototype.toJSON=function(X){var ae=ee.prototype.toJSON.call(this,X),re=X?Boolean(X.keepComments):!1;return ne.toObject(["options",ae&&ae.options||void 0,"methods",ee.arrayToJSON(this.methodsArray,X)||{},"nested",ae&&ae.nested||void 0,"comment",re?this.comment:void 0])},Object.defineProperty(se.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=ne.toArray(this.methods))}});function te($){return $._methodsArray=null,$}return se.prototype.get=function(X){return this.methods[X]||ee.prototype.get.call(this,X)},se.prototype.resolveAll=function(){for(var X=this.methodsArray,ae=0;ae<X.length;++ae)X[ae].resolve();return ee.prototype.resolve.call(this)},se.prototype.add=function(X){if(this.get(X.name))throw Error("duplicate name '"+X.name+"' in "+this);return X instanceof w?(this.methods[X.name]=X,X.parent=this,te(this)):ee.prototype.add.call(this,X)},se.prototype.remove=function(X){if(X instanceof w){if(this.methods[X.name]!==X)throw Error(X+" is not a member of "+this);return delete this.methods[X.name],X.parent=null,te(this)}return ee.prototype.remove.call(this,X)},se.prototype.create=function(X,ae,re){for(var ie=new oe.Service(X,ae,re),ue=0,fe;ue<this.methodsArray.length;++ue){var he=ne.lcFirst((fe=this._methodsArray[ue]).resolve().name).replace(/[^$\w_]/g,"");ie[he]=ne.codegen(["r","c"],ne.isReserved(he)?he+"_":he)("return this.rpcCall(m,q,s,r,c)")({m:fe,q:fe.resolvedRequestType.ctor,s:fe.resolvedResponseType.ctor})}return ie},service}var message=Message$1,util=requireMinimal();function Message$1(ee){if(ee)for(var w=Object.keys(ee),ne=0;ne<w.length;++ne)this[w[ne]]=ee[w[ne]]}Message$1.create=function ee(w){return this.$type.create(w)},Message$1.encode=function ee(w,ne){return this.$type.encode(w,ne)},Message$1.encodeDelimited=function ee(w,ne){return this.$type.encodeDelimited(w,ne)},Message$1.decode=function ee(w){return this.$type.decode(w)},Message$1.decodeDelimited=function ee(w){return this.$type.decodeDelimited(w)},Message$1.verify=function ee(w){return this.$type.verify(w)},Message$1.fromObject=function ee(w){return this.$type.fromObject(w)},Message$1.toObject=function ee(w,ne){return this.$type.toObject(w,ne)},Message$1.prototype.toJSON=function ee(){return this.$type.toObject(this,util.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=se;var ee=require_enum(),w=requireTypes(),ne=requireUtil();function oe(te){return"missing required '"+te.name+"'"}function se(te){var $=ne.codegen(["r","l"],te.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(te.fieldsArray.filter(function(fe){return fe.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");te.group&&$("if((t&7)===4)")("break"),$("switch(t>>>3){");for(var X=0;X<te.fieldsArray.length;++X){var ae=te._fieldsArray[X].resolve(),re=ae.resolvedType instanceof ee?"int32":ae.type,ie="m"+ne.safeProp(ae.name);$("case %i: {",ae.id),ae.map?($("if(%s===util.emptyObject)",ie)("%s={}",ie)("var c2 = r.uint32()+r.pos"),w.defaults[ae.keyType]!==void 0?$("k=%j",w.defaults[ae.keyType]):$("k=null"),w.defaults[re]!==void 0?$("value=%j",w.defaults[re]):$("value=null"),$("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",ae.keyType)("case 2:"),w.basic[re]===void 0?$("value=types[%i].decode(r,r.uint32())",X):$("value=r.%s()",re),$("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),w.long[ae.keyType]!==void 0?$('%s[typeof k==="object"?util.longToHash(k):k]=value',ie):$("%s[k]=value",ie)):ae.repeated?($("if(!(%s&&%s.length))",ie,ie)("%s=[]",ie),w.packed[re]!==void 0&&$("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",ie,re)("}else"),w.basic[re]===void 0?$(ae.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",ie,X):$("%s.push(r.%s())",ie,re)):w.basic[re]===void 0?$(ae.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",ie,X):$("%s=r.%s()",ie,re),$("break")("}")}for($("default:")("r.skipType(t&7)")("break")("}")("}"),X=0;X<te._fieldsArray.length;++X){var ue=te._fieldsArray[X];ue.required&&$("if(!m.hasOwnProperty(%j))",ue.name)("throw util.ProtocolError(%j,{instance:m})",oe(ue))}return $("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=te;var ee=require_enum(),w=requireUtil();function ne($,X){return $.name+": "+X+($.repeated&&X!=="array"?"[]":$.map&&X!=="object"?"{k:"+$.keyType+"}":"")+" expected"}function oe($,X,ae,re){if(X.resolvedType)if(X.resolvedType instanceof ee){$("switch(%s){",re)("default:")("return%j",ne(X,"enum value"));for(var ie=Object.keys(X.resolvedType.values),ue=0;ue<ie.length;++ue)$("case %i:",X.resolvedType.values[ie[ue]]);$("break")("}")}else $("{")("var e=types[%i].verify(%s);",ae,re)("if(e)")("return%j+e",X.name+".")("}");else switch(X.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":$("if(!util.isInteger(%s))",re)("return%j",ne(X,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":$("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",re,re,re,re)("return%j",ne(X,"integer|Long"));break;case"float":case"double":$('if(typeof %s!=="number")',re)("return%j",ne(X,"number"));break;case"bool":$('if(typeof %s!=="boolean")',re)("return%j",ne(X,"boolean"));break;case"string":$("if(!util.isString(%s))",re)("return%j",ne(X,"string"));break;case"bytes":$('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',re,re,re)("return%j",ne(X,"buffer"));break}return $}function se($,X,ae){switch(X.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":$("if(!util.key32Re.test(%s))",ae)("return%j",ne(X,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":$("if(!util.key64Re.test(%s))",ae)("return%j",ne(X,"integer|Long key"));break;case"bool":$("if(!util.key2Re.test(%s))",ae)("return%j",ne(X,"boolean key"));break}return $}function te($){var X=w.codegen(["m"],$.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),ae=$.oneofsArray,re={};ae.length&&X("var p={}");for(var ie=0;ie<$.fieldsArray.length;++ie){var ue=$._fieldsArray[ie].resolve(),fe="m"+w.safeProp(ue.name);if(ue.optional&&X("if(%s!=null&&m.hasOwnProperty(%j)){",fe,ue.name),ue.map)X("if(!util.isObject(%s))",fe)("return%j",ne(ue,"object"))("var k=Object.keys(%s)",fe)("for(var i=0;i<k.length;++i){"),se(X,ue,"k[i]"),oe(X,ue,ie,fe+"[k[i]]")("}");else if(ue.repeated)X("if(!Array.isArray(%s))",fe)("return%j",ne(ue,"array"))("for(var i=0;i<%s.length;++i){",fe),oe(X,ue,ie,fe+"[i]")("}");else{if(ue.partOf){var he=w.safeProp(ue.partOf.name);re[ue.partOf.name]===1&&X("if(p%s===1)",he)("return%j",ue.partOf.name+": multiple values"),re[ue.partOf.name]=1,X("p%s=1",he)}oe(X,ue,ie,fe)}ue.optional&&X("}")}return X("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(ee){var w=ee,ne=require_enum(),oe=requireUtil();function se($,X,ae,re){if(X.resolvedType)if(X.resolvedType instanceof ne){$("switch(d%s){",re);for(var ie=X.resolvedType.values,ue=Object.keys(ie),fe=0;fe<ue.length;++fe)X.repeated&&ie[ue[fe]]===X.typeDefault&&$("default:"),$("case%j:",ue[fe])("case %i:",ie[ue[fe]])("m%s=%j",re,ie[ue[fe]])("break");$("}")}else $('if(typeof d%s!=="object")',re)("throw TypeError(%j)",X.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",re,ae,re);else{var he=!1;switch(X.type){case"double":case"float":$("m%s=Number(d%s)",re,re);break;case"uint32":case"fixed32":$("m%s=d%s>>>0",re,re);break;case"int32":case"sint32":case"sfixed32":$("m%s=d%s|0",re,re);break;case"uint64":he=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":$("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",re,re,he)('else if(typeof d%s==="string")',re)("m%s=parseInt(d%s,10)",re,re)('else if(typeof d%s==="number")',re)("m%s=d%s",re,re)('else if(typeof d%s==="object")',re)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",re,re,re,he?"true":"");break;case"bytes":$('if(typeof d%s==="string")',re)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",re,re,re)("else if(d%s.length >= 0)",re)("m%s=d%s",re,re);break;case"string":$("m%s=String(d%s)",re,re);break;case"bool":$("m%s=Boolean(d%s)",re,re);break}}return $}w.fromObject=function(X){var ae=X.fieldsArray,re=oe.codegen(["d"],X.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!ae.length)return re("return new this.ctor");re("var m=new this.ctor");for(var ie=0;ie<ae.length;++ie){var ue=ae[ie].resolve(),fe=oe.safeProp(ue.name);ue.map?(re("if(d%s){",fe)('if(typeof d%s!=="object")',fe)("throw TypeError(%j)",ue.fullName+": object expected")("m%s={}",fe)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",fe),se(re,ue,ie,fe+"[ks[i]]")("}")("}")):ue.repeated?(re("if(d%s){",fe)("if(!Array.isArray(d%s))",fe)("throw TypeError(%j)",ue.fullName+": array expected")("m%s=[]",fe)("for(var i=0;i<d%s.length;++i){",fe),se(re,ue,ie,fe+"[i]")("}")("}")):(ue.resolvedType instanceof ne||re("if(d%s!=null){",fe),se(re,ue,ie,fe),ue.resolvedType instanceof ne||re("}"))}return re("return m")};function te($,X,ae,re){if(X.resolvedType)X.resolvedType instanceof ne?$("d%s=o.enums===String?types[%i].values[m%s]:m%s",re,ae,re,re):$("d%s=types[%i].toObject(m%s,o)",re,ae,re);else{var ie=!1;switch(X.type){case"double":case"float":$("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",re,re,re,re);break;case"uint64":ie=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":$('if(typeof m%s==="number")',re)("d%s=o.longs===String?String(m%s):m%s",re,re,re)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",re,re,re,re,ie?"true":"",re);break;case"bytes":$("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",re,re,re,re,re);break;default:$("d%s=m%s",re,re);break}}return $}w.toObject=function(X){var ae=X.fieldsArray.slice().sort(oe.compareFieldsById);if(!ae.length)return oe.codegen()("return {}");for(var re=oe.codegen(["m","o"],X.name+"$toObject")("if(!o)")("o={}")("var d={}"),ie=[],ue=[],fe=[],he=0;he<ae.length;++he)ae[he].partOf||(ae[he].resolve().repeated?ie:ae[he].map?ue:fe).push(ae[he]);if(ie.length){for(re("if(o.arrays||o.defaults){"),he=0;he<ie.length;++he)re("d%s=[]",oe.safeProp(ie[he].name));re("}")}if(ue.length){for(re("if(o.objects||o.defaults){"),he=0;he<ue.length;++he)re("d%s={}",oe.safeProp(ue[he].name));re("}")}if(fe.length){for(re("if(o.defaults){"),he=0;he<fe.length;++he){var le=fe[he],de=oe.safeProp(le.name);if(le.resolvedType instanceof ne)re("d%s=o.enums===String?%j:%j",de,le.resolvedType.valuesById[le.typeDefault],le.typeDefault);else if(le.long)re("if(util.Long){")("var n=new util.Long(%i,%i,%j)",le.typeDefault.low,le.typeDefault.high,le.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",de)("}else")("d%s=o.longs===String?%j:%i",de,le.typeDefault.toString(),le.typeDefault.toNumber());else if(le.bytes){var me="["+Array.prototype.slice.call(le.typeDefault).join(",")+"]";re("if(o.bytes===String)d%s=%j",de,String.fromCharCode.apply(String,le.typeDefault))("else{")("d%s=%s",de,me)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",de,de)("}")}else re("d%s=%j",de,le.typeDefault)}re("}")}var ge=!1;for(he=0;he<ae.length;++he){var le=ae[he],ce=X._fieldsArray.indexOf(le),de=oe.safeProp(le.name);le.map?(ge||(ge=!0,re("var ks2")),re("if(m%s&&(ks2=Object.keys(m%s)).length){",de,de)("d%s={}",de)("for(var j=0;j<ks2.length;++j){"),te(re,le,ce,de+"[ks2[j]]")("}")):le.repeated?(re("if(m%s&&m%s.length){",de,de)("d%s=[]",de)("for(var j=0;j<m%s.length;++j){",de),te(re,le,ce,de+"[j]")("}")):(re("if(m%s!=null&&m.hasOwnProperty(%j)){",de,le.name),te(re,le,ce,de),le.partOf&&re("if(o.oneofs)")("d%s=%j",oe.safeProp(le.partOf.name),le.name)),re("}")}return re("return d")}}(converter)),converter}var wrappers={};(function(ee){var w=ee,ne=message;w[".google.protobuf.Any"]={fromObject:function(oe){if(oe&&oe["@type"]){var se=oe["@type"].substring(oe["@type"].lastIndexOf("/")+1),te=this.lookup(se);if(te){var $=oe["@type"].charAt(0)==="."?oe["@type"].slice(1):oe["@type"];return $.indexOf("/")===-1&&($="/"+$),this.create({type_url:$,value:te.encode(te.fromObject(oe)).finish()})}}return this.fromObject(oe)},toObject:function(oe,se){var te="type.googleapis.com/",$="",X="";if(se&&se.json&&oe.type_url&&oe.value){X=oe.type_url.substring(oe.type_url.lastIndexOf("/")+1),$=oe.type_url.substring(0,oe.type_url.lastIndexOf("/")+1);var ae=this.lookup(X);ae&&(oe=ae.decode(oe.value))}if(!(oe instanceof this.ctor)&&oe instanceof ne){var re=oe.$type.toObject(oe,se),ie=oe.$type.fullName[0]==="."?oe.$type.fullName.slice(1):oe.$type.fullName;return $===""&&($=te),X=$+ie,re["@type"]=X,re}return this.toObject(oe,se)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=de;var ee=requireNamespace();((de.prototype=Object.create(ee.prototype)).constructor=de).className="Type";var w=require_enum(),ne=requireOneof(),oe=requireField(),se=requireMapfield(),te=requireService(),$=message,X=reader,ae=writer,re=requireUtil(),ie=requireEncoder(),ue=requireDecoder(),fe=requireVerifier(),he=requireConverter(),le=wrappers;function de(ge,ce){ee.call(this,ge,ce),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(de.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var ge=Object.keys(this.fields),ce=0;ce<ge.length;++ce){var pe=this.fields[ge[ce]],ye=pe.id;if(this._fieldsById[ye])throw Error("duplicate id "+ye+" in "+this);this._fieldsById[ye]=pe}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=re.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=re.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=de.generateConstructor(this)())},set:function(ge){var ce=ge.prototype;ce instanceof $||((ge.prototype=new $).constructor=ge,re.merge(ge.prototype,ce)),ge.$type=ge.prototype.$type=this,re.merge(ge,$,!0),this._ctor=ge;for(var pe=0;pe<this.fieldsArray.length;++pe)this._fieldsArray[pe].resolve();var ye={};for(pe=0;pe<this.oneofsArray.length;++pe)ye[this._oneofsArray[pe].resolve().name]={get:re.oneOfGetter(this._oneofsArray[pe].oneof),set:re.oneOfSetter(this._oneofsArray[pe].oneof)};pe&&Object.defineProperties(ge.prototype,ye)}}}),de.generateConstructor=function(ce){for(var pe=re.codegen(["p"],ce.name),ye=0,we;ye<ce.fieldsArray.length;++ye)(we=ce._fieldsArray[ye]).map?pe("this%s={}",re.safeProp(we.name)):we.repeated&&pe("this%s=[]",re.safeProp(we.name));return pe("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function me(ge){return ge._fieldsById=ge._fieldsArray=ge._oneofsArray=null,delete ge.encode,delete ge.decode,delete ge.verify,ge}return de.fromJSON=function(ce,pe){var ye=new de(ce,pe.options);ye.extensions=pe.extensions,ye.reserved=pe.reserved;for(var we=Object.keys(pe.fields),ve=0;ve<we.length;++ve)ye.add((typeof pe.fields[we[ve]].keyType!="undefined"?se.fromJSON:oe.fromJSON)(we[ve],pe.fields[we[ve]]));if(pe.oneofs)for(we=Object.keys(pe.oneofs),ve=0;ve<we.length;++ve)ye.add(ne.fromJSON(we[ve],pe.oneofs[we[ve]]));if(pe.nested)for(we=Object.keys(pe.nested),ve=0;ve<we.length;++ve){var $e=pe.nested[we[ve]];ye.add(($e.id!==void 0?oe.fromJSON:$e.fields!==void 0?de.fromJSON:$e.values!==void 0?w.fromJSON:$e.methods!==void 0?te.fromJSON:ee.fromJSON)(we[ve],$e))}return pe.extensions&&pe.extensions.length&&(ye.extensions=pe.extensions),pe.reserved&&pe.reserved.length&&(ye.reserved=pe.reserved),pe.group&&(ye.group=!0),pe.comment&&(ye.comment=pe.comment),ye},de.prototype.toJSON=function(ce){var pe=ee.prototype.toJSON.call(this,ce),ye=ce?Boolean(ce.keepComments):!1;return re.toObject(["options",pe&&pe.options||void 0,"oneofs",ee.arrayToJSON(this.oneofsArray,ce),"fields",ee.arrayToJSON(this.fieldsArray.filter(function(we){return!we.declaringField}),ce)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",pe&&pe.nested||void 0,"comment",ye?this.comment:void 0])},de.prototype.resolveAll=function(){for(var ce=this.fieldsArray,pe=0;pe<ce.length;)ce[pe++].resolve();var ye=this.oneofsArray;for(pe=0;pe<ye.length;)ye[pe++].resolve();return ee.prototype.resolveAll.call(this)},de.prototype.get=function(ce){return this.fields[ce]||this.oneofs&&this.oneofs[ce]||this.nested&&this.nested[ce]||null},de.prototype.add=function(ce){if(this.get(ce.name))throw Error("duplicate name '"+ce.name+"' in "+this);if(ce instanceof oe&&ce.extend===void 0){if(this._fieldsById?this._fieldsById[ce.id]:this.fieldsById[ce.id])throw Error("duplicate id "+ce.id+" in "+this);if(this.isReservedId(ce.id))throw Error("id "+ce.id+" is reserved in "+this);if(this.isReservedName(ce.name))throw Error("name '"+ce.name+"' is reserved in "+this);return ce.parent&&ce.parent.remove(ce),this.fields[ce.name]=ce,ce.message=this,ce.onAdd(this),me(this)}return ce instanceof ne?(this.oneofs||(this.oneofs={}),this.oneofs[ce.name]=ce,ce.onAdd(this),me(this)):ee.prototype.add.call(this,ce)},de.prototype.remove=function(ce){if(ce instanceof oe&&ce.extend===void 0){if(!this.fields||this.fields[ce.name]!==ce)throw Error(ce+" is not a member of "+this);return delete this.fields[ce.name],ce.parent=null,ce.onRemove(this),me(this)}if(ce instanceof ne){if(!this.oneofs||this.oneofs[ce.name]!==ce)throw Error(ce+" is not a member of "+this);return delete this.oneofs[ce.name],ce.parent=null,ce.onRemove(this),me(this)}return ee.prototype.remove.call(this,ce)},de.prototype.isReservedId=function(ce){return ee.isReservedId(this.reserved,ce)},de.prototype.isReservedName=function(ce){return ee.isReservedName(this.reserved,ce)},de.prototype.create=function(ce){return new this.ctor(ce)},de.prototype.setup=function(){for(var ce=this.fullName,pe=[],ye=0;ye<this.fieldsArray.length;++ye)pe.push(this._fieldsArray[ye].resolve().resolvedType);this.encode=ie(this)({Writer:ae,types:pe,util:re}),this.decode=ue(this)({Reader:X,types:pe,util:re}),this.verify=fe(this)({types:pe,util:re}),this.fromObject=he.fromObject(this)({types:pe,util:re}),this.toObject=he.toObject(this)({types:pe,util:re});var we=le[ce];if(we){var ve=Object.create(this);ve.fromObject=this.fromObject,this.fromObject=we.fromObject.bind(ve),ve.toObject=this.toObject,this.toObject=we.toObject.bind(ve)}return this},de.prototype.encode=function(ce,pe){return this.setup().encode(ce,pe)},de.prototype.encodeDelimited=function(ce,pe){return this.encode(ce,pe&&pe.len?pe.fork():pe).ldelim()},de.prototype.decode=function(ce,pe){return this.setup().decode(ce,pe)},de.prototype.decodeDelimited=function(ce){return ce instanceof X||(ce=X.create(ce)),this.decode(ce,ce.uint32())},de.prototype.verify=function(ce){return this.setup().verify(ce)},de.prototype.fromObject=function(ce){return this.setup().fromObject(ce)},de.prototype.toObject=function(ce,pe){return this.setup().toObject(ce,pe)},de.d=function(ce){return function(ye){re.decorateType(ye,ce)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=ae;var ee=requireNamespace();((ae.prototype=Object.create(ee.prototype)).constructor=ae).className="Root";var w=requireField(),ne=require_enum(),oe=requireOneof(),se=requireUtil(),te,$,X;function ae(fe){ee.call(this,"",fe),this.deferred=[],this.files=[]}ae.fromJSON=function(he,le){return le||(le=new ae),he.options&&le.setOptions(he.options),le.addJSON(he.nested)},ae.prototype.resolvePath=se.path.resolve,ae.prototype.fetch=se.fetch;function re(){}ae.prototype.load=function fe(he,le,de){typeof le=="function"&&(de=le,le=void 0);var me=this;if(!de)return se.asPromise(fe,me,he,le);var ge=de===re;function ce(_e,Oe){if(!!de){var Le=de;if(de=null,ge)throw _e;Le(_e,Oe)}}function pe(_e){var Oe=_e.lastIndexOf("google/protobuf/");if(Oe>-1){var Le=_e.substring(Oe);if(Le in X)return Le}return null}function ye(_e,Oe){try{if(se.isString(Oe)&&Oe.charAt(0)==="{"&&(Oe=JSON.parse(Oe)),!se.isString(Oe))me.setOptions(Oe.options).addJSON(Oe.nested);else{$.filename=_e;var Le=$(Oe,me,le),Re,be=0;if(Le.imports)for(;be<Le.imports.length;++be)(Re=pe(Le.imports[be])||me.resolvePath(_e,Le.imports[be]))&&we(Re);if(Le.weakImports)for(be=0;be<Le.weakImports.length;++be)(Re=pe(Le.weakImports[be])||me.resolvePath(_e,Le.weakImports[be]))&&we(Re,!0)}}catch(qe){ce(qe)}!ge&&!ve&&ce(null,me)}function we(_e,Oe){if(!(me.files.indexOf(_e)>-1)){if(me.files.push(_e),_e in X){ge?ye(_e,X[_e]):(++ve,setTimeout(function(){--ve,ye(_e,X[_e])}));return}if(ge){var Le;try{Le=se.fs.readFileSync(_e).toString("utf8")}catch(Re){Oe||ce(Re);return}ye(_e,Le)}else++ve,me.fetch(_e,function(Re,be){if(--ve,!!de){if(Re){Oe?ve||ce(null,me):ce(Re);return}ye(_e,be)}})}}var ve=0;se.isString(he)&&(he=[he]);for(var $e=0,Fe;$e<he.length;++$e)(Fe=me.resolvePath("",he[$e]))&&we(Fe);if(ge)return me;ve||ce(null,me)},ae.prototype.loadSync=function(he,le){if(!se.isNode)throw Error("not supported");return this.load(he,le,re)},ae.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(he){return"'extend "+he.extend+"' in "+he.parent.fullName}).join(", "));return ee.prototype.resolveAll.call(this)};var ie=/^[A-Z]/;function ue(fe,he){var le=he.parent.lookup(he.extend);if(le){var de=new w(he.fullName,he.id,he.type,he.rule,void 0,he.options);return de.declaringField=he,he.extensionField=de,le.add(de),!0}return!1}return ae.prototype._handleAdd=function(he){if(he instanceof w)he.extend!==void 0&&!he.extensionField&&(ue(this,he)||this.deferred.push(he));else if(he instanceof ne)ie.test(he.name)&&(he.parent[he.name]=he.values);else if(!(he instanceof oe)){if(he instanceof te)for(var le=0;le<this.deferred.length;)ue(this,this.deferred[le])?this.deferred.splice(le,1):++le;for(var de=0;de<he.nestedArray.length;++de)this._handleAdd(he._nestedArray[de]);ie.test(he.name)&&(he.parent[he.name]=he)}},ae.prototype._handleRemove=function(he){if(he instanceof w){if(he.extend!==void 0)if(he.extensionField)he.extensionField.parent.remove(he.extensionField),he.extensionField=null;else{var le=this.deferred.indexOf(he);le>-1&&this.deferred.splice(le,1)}}else if(he instanceof ne)ie.test(he.name)&&delete he.parent[he.name];else if(he instanceof ee){for(var de=0;de<he.nestedArray.length;++de)this._handleRemove(he._nestedArray[de]);ie.test(he.name)&&delete he.parent[he.name]}},ae._configure=function(fe,he,le){te=fe,$=he,X=le},root}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(ee){var w=ee.exports=requireMinimal(),ne=roots,oe,se;w.codegen=requireCodegen(),w.fetch=requireFetch(),w.path=requirePath(),w.fs=w.inquire("fs"),w.toArray=function(ie){if(ie){for(var ue=Object.keys(ie),fe=new Array(ue.length),he=0;he<ue.length;)fe[he]=ie[ue[he++]];return fe}return[]},w.toObject=function(ie){for(var ue={},fe=0;fe<ie.length;){var he=ie[fe++],le=ie[fe++];le!==void 0&&(ue[he]=le)}return ue};var te=/\\/g,$=/"/g;w.isReserved=function(ie){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(ie)},w.safeProp=function(ie){return!/^[$\w_]+$/.test(ie)||w.isReserved(ie)?'["'+ie.replace(te,"\\\\").replace($,'\\"')+'"]':"."+ie},w.ucFirst=function(ie){return ie.charAt(0).toUpperCase()+ie.substring(1)};var X=/_([a-z])/g;w.camelCase=function(ie){return ie.substring(0,1)+ie.substring(1).replace(X,function(ue,fe){return fe.toUpperCase()})},w.compareFieldsById=function(ie,ue){return ie.id-ue.id},w.decorateType=function(ie,ue){if(ie.$type)return ue&&ie.$type.name!==ue&&(w.decorateRoot.remove(ie.$type),ie.$type.name=ue,w.decorateRoot.add(ie.$type)),ie.$type;oe||(oe=requireType());var fe=new oe(ue||ie.name);return w.decorateRoot.add(fe),fe.ctor=ie,Object.defineProperty(ie,"$type",{value:fe,enumerable:!1}),Object.defineProperty(ie.prototype,"$type",{value:fe,enumerable:!1}),fe};var ae=0;w.decorateEnum=function(ie){if(ie.$type)return ie.$type;se||(se=require_enum());var ue=new se("Enum"+ae++,ie);return w.decorateRoot.add(ue),Object.defineProperty(ie,"$type",{value:ue,enumerable:!1}),ue},w.setProperty=function(ie,ue,fe){function he(le,de,me){var ge=de.shift();if(ge==="__proto__")return le;if(de.length>0)le[ge]=he(le[ge]||{},de,me);else{var ce=le[ge];ce&&(me=[].concat(ce).concat(me)),le[ge]=me}return le}if(typeof ie!="object")throw TypeError("dst must be an object");if(!ue)throw TypeError("path must be specified");return ue=ue.split("."),he(ie,ue,fe)},Object.defineProperty(w,"decorateRoot",{get:function(){return ne.decorated||(ne.decorated=new(requireRoot()))}})}(util$1)),util$1.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=ne,ne.className="ReflectionObject";var ee=requireUtil(),w;function ne(oe,se){if(!ee.isString(oe))throw TypeError("name must be a string");if(se&&!ee.isObject(se))throw TypeError("options must be an object");this.options=se,this.parsedOptions=null,this.name=oe,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(ne.prototype,{root:{get:function(){for(var oe=this;oe.parent!==null;)oe=oe.parent;return oe}},fullName:{get:function(){for(var oe=[this.name],se=this.parent;se;)oe.unshift(se.name),se=se.parent;return oe.join(".")}}}),ne.prototype.toJSON=function(){throw Error()},ne.prototype.onAdd=function(se){this.parent&&this.parent!==se&&this.parent.remove(this),this.parent=se,this.resolved=!1;var te=se.root;te instanceof w&&te._handleAdd(this)},ne.prototype.onRemove=function(se){var te=se.root;te instanceof w&&te._handleRemove(this),this.parent=null,this.resolved=!1},ne.prototype.resolve=function(){return this.resolved?this:(this.root instanceof w&&(this.resolved=!0),this)},ne.prototype.getOption=function(se){if(this.options)return this.options[se]},ne.prototype.setOption=function(se,te,$){return(!$||!this.options||this.options[se]===void 0)&&((this.options||(this.options={}))[se]=te),this},ne.prototype.setParsedOption=function(se,te,$){this.parsedOptions||(this.parsedOptions=[]);var X=this.parsedOptions;if($){var ae=X.find(function(ue){return Object.prototype.hasOwnProperty.call(ue,se)});if(ae){var re=ae[se];ee.setProperty(re,$,te)}else ae={},ae[se]=ee.setProperty({},$,te),X.push(ae)}else{var ie={};ie[se]=te,X.push(ie)}return this},ne.prototype.setOptions=function(se,te){if(se)for(var $=Object.keys(se),X=0;X<$.length;++X)this.setOption($[X],se[$[X]],te);return this},ne.prototype.toString=function(){var se=this.constructor.className,te=this.fullName;return te.length?se+" "+te:se},ne._configure=function(oe){w=oe},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=oe;var ee=requireObject();((oe.prototype=Object.create(ee.prototype)).constructor=oe).className="Enum";var w=requireNamespace(),ne=requireUtil();function oe(se,te,$,X,ae){if(ee.call(this,se,$),te&&typeof te!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=X,this.comments=ae||{},this.reserved=void 0,te)for(var re=Object.keys(te),ie=0;ie<re.length;++ie)typeof te[re[ie]]=="number"&&(this.valuesById[this.values[re[ie]]=te[re[ie]]]=re[ie])}return oe.fromJSON=function(te,$){var X=new oe(te,$.values,$.options,$.comment,$.comments);return X.reserved=$.reserved,X},oe.prototype.toJSON=function(te){var $=te?Boolean(te.keepComments):!1;return ne.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",$?this.comment:void 0,"comments",$?this.comments:void 0])},oe.prototype.add=function(te,$,X){if(!ne.isString(te))throw TypeError("name must be a string");if(!ne.isInteger($))throw TypeError("id must be an integer");if(this.values[te]!==void 0)throw Error("duplicate name '"+te+"' in "+this);if(this.isReservedId($))throw Error("id "+$+" is reserved in "+this);if(this.isReservedName(te))throw Error("name '"+te+"' is reserved in "+this);if(this.valuesById[$]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+$+" in "+this);this.values[te]=$}else this.valuesById[this.values[te]=$]=te;return this.comments[te]=X||null,this},oe.prototype.remove=function(te){if(!ne.isString(te))throw TypeError("name must be a string");var $=this.values[te];if($==null)throw Error("name '"+te+"' does not exist in "+this);return delete this.valuesById[$],delete this.values[te],delete this.comments[te],this},oe.prototype.isReservedId=function(te){return w.isReservedId(this.reserved,te)},oe.prototype.isReservedName=function(te){return w.isReservedName(this.reserved,te)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=se;var ee=require_enum(),w=requireTypes(),ne=requireUtil();function oe(te,$,X,ae){return $.resolvedType.group?te("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",X,ae,($.id<<3|3)>>>0,($.id<<3|4)>>>0):te("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",X,ae,($.id<<3|2)>>>0)}function se(te){for(var $=ne.codegen(["m","w"],te.name+"$encode")("if(!w)")("w=Writer.create()"),X,ae,re=te.fieldsArray.slice().sort(ne.compareFieldsById),X=0;X<re.length;++X){var ie=re[X].resolve(),ue=te._fieldsArray.indexOf(ie),fe=ie.resolvedType instanceof ee?"int32":ie.type,he=w.basic[fe];ae="m"+ne.safeProp(ie.name),ie.map?($("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",ae,ie.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",ae)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(ie.id<<3|2)>>>0,8|w.mapKey[ie.keyType],ie.keyType),he===void 0?$("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",ue,ae):$(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|he,fe,ae),$("}")("}")):ie.repeated?($("if(%s!=null&&%s.length){",ae,ae),ie.packed&&w.packed[fe]!==void 0?$("w.uint32(%i).fork()",(ie.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",ae)("w.%s(%s[i])",fe,ae)("w.ldelim()"):($("for(var i=0;i<%s.length;++i)",ae),he===void 0?oe($,ie,ue,ae+"[i]"):$("w.uint32(%i).%s(%s[i])",(ie.id<<3|he)>>>0,fe,ae)),$("}")):(ie.optional&&$("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",ae,ie.name),he===void 0?oe($,ie,ue,ae):$("w.uint32(%i).%s(%s)",(ie.id<<3|he)>>>0,fe,ae))}return $("return w")}return encoder_1}(function(ee){var w=ee.exports=indexMinimal;w.build="light";function ne(se,te,$){return typeof te=="function"?($=te,te=new w.Root):te||(te=new w.Root),te.load(se,$)}w.load=ne;function oe(se,te){return te||(te=new w.Root),te.loadSync(se)}w.loadSync=oe,w.encoder=requireEncoder(),w.decoder=requireDecoder(),w.verifier=requireVerifier(),w.converter=requireConverter(),w.ReflectionObject=requireObject(),w.Namespace=requireNamespace(),w.Root=requireRoot(),w.Enum=require_enum(),w.Type=requireType(),w.Field=requireField(),w.OneOf=requireOneof(),w.MapField=requireMapfield(),w.Service=requireService(),w.Method=requireMethod(),w.Message=message,w.wrappers=wrappers,w.types=requireTypes(),w.util=requireUtil(),w.ReflectionObject._configure(w.Root),w.Namespace._configure(w.Type,w.Service,w.Enum),w.Root._configure(w.Type),w.Field._configure(w.Type)})(indexLight),function(ee){ee.exports=indexLight.exports}(light);var k=getDefaultExportFromCjs(light.exports),t=function(ee,w,ne,oe){var se=arguments.length,te=se<3?w:oe===null?oe=Object.getOwnPropertyDescriptor(w,ne):oe,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(ee,w,ne,oe);else for(var X=ee.length-1;X>=0;X--)($=ee[X])&&(te=(se<3?$(te):se>3?$(w,ne,te):$(w,ne))||te);return se>3&&te&&Object.defineProperty(w,ne,te),te};const{Message,Field,Type}=k;let c=class extends Message{constructor(){super(...arguments),this.lastRead=new Long(0)}};t([Field.d(0,"string")],c.prototype,"url",void 0),t([Field.d(1,"int64")],c.prototype,"lastRead",void 0),c=t([Type.d()],c);let u=class extends Message{constructor(){super(...arguments),this.lastRead=new Long(0)}};t([Field.d(1,"string")],u.prototype,"url",void 0),t([Field.d(2,"int64")],u.prototype,"lastRead",void 0),u=t([Type.d()],u);let l=class extends Message{constructor(){super(...arguments),this.name="",this.sourceId=new Long(0)}};t([Field.d(0,"string")],l.prototype,"name",void 0),t([Field.d(1,"int64")],l.prototype,"sourceId",void 0),l=t([Type.d()],l);let y$1=class extends Message{constructor(){super(...arguments),this.name="",this.sourceId=new Long(0)}};t([Field.d(1,"string")],y$1.prototype,"name",void 0),t([Field.d(2,"int64")],y$1.prototype,"sourceId",void 0),y$1=t([Type.d()],y$1);let s=class extends Message{constructor(){super(...arguments),this.order=new Long(0),this.flags=new Long(0)}};t([Field.d(1,"string")],s.prototype,"name",void 0),t([Field.d(2,"int64")],s.prototype,"order",void 0),t([Field.d(100,"int64")],s.prototype,"flags",void 0),s=t([Type.d()],s);let i=class extends Message{constructor(){super(...arguments),this.read=!1,this.bookmark=!1,this.lastPageRead=0,this.dateFetch=new Long(0),this.dateUpload=new Long(0),this.chapterNumber=0,this.sourceOrder=0}};t([Field.d(1,"string")],i.prototype,"url",void 0),t([Field.d(2,"string")],i.prototype,"name",void 0),t([Field.d(3,"string","optional")],i.prototype,"scanlator",void 0),t([Field.d(4,"bool")],i.prototype,"read",void 0),t([Field.d(5,"bool")],i.prototype,"bookmark",void 0),t([Field.d(6,"int32")],i.prototype,"lastPageRead",void 0),t([Field.d(7,"int64")],i.prototype,"dateFetch",void 0),t([Field.d(8,"int64")],i.prototype,"dateUpload",void 0),t([Field.d(9,"float")],i.prototype,"chapterNumber",void 0),t([Field.d(10,"int32")],i.prototype,"sourceOrder",void 0),i=t([Type.d()],i);let o=class extends Message{constructor(){super(...arguments),this.libraryId=new Long(0),this.mediaIdInt=0,this.trackingUrl="",this.title="",this.lastChapterRead=0,this.totalChapters=0,this.score=0,this.status=0,this.startedReadingDate=new Long(0),this.finishedReadingDate=new Long(0),this.mediaId=new Long(0)}};t([Field.d(1,"int32")],o.prototype,"syncId",void 0),t([Field.d(2,"int64")],o.prototype,"libraryId",void 0),t([Field.d(3,"int32")],o.prototype,"mediaIdInt",void 0),t([Field.d(4,"string")],o.prototype,"trackingUrl",void 0),t([Field.d(5,"string")],o.prototype,"title",void 0),t([Field.d(6,"float")],o.prototype,"lastChapterRead",void 0),t([Field.d(7,"int32")],o.prototype,"totalChapters",void 0),t([Field.d(8,"float")],o.prototype,"score",void 0),t([Field.d(9,"int32")],o.prototype,"status",void 0),t([Field.d(10,"int64")],o.prototype,"startedReadingDate",void 0),t([Field.d(11,"int64")],o.prototype,"finishedReadingDate",void 0),t([Field.d(100,"int64")],o.prototype,"mediaId",void 0),o=t([Type.d()],o);let e=class extends Message{constructor(){super(...arguments),this.source=new Long(0),this.title="",this.genre=[],this.status=0,this.dateAdded=new Long(0),this.viewer=0,this.chapters=[],this.categories=[],this.tracking=[],this.favorite=!1,this.chapterFlags=0,this.brokenHistory=[],this.history=[]}};t([Field.d(1,"int64")],e.prototype,"source",void 0),t([Field.d(2,"string")],e.prototype,"url",void 0),t([Field.d(3,"string")],e.prototype,"title",void 0),t([Field.d(4,"string","optional")],e.prototype,"artist",void 0),t([Field.d(5,"string","optional")],e.prototype,"author",void 0),t([Field.d(6,"string","optional")],e.prototype,"description",void 0),t([Field.d(7,"string","repeated")],e.prototype,"genre",void 0),t([Field.d(8,"int32")],e.prototype,"status",void 0),t([Field.d(9,"string","optional")],e.prototype,"thumbnailUrl",void 0),t([Field.d(13,"int64")],e.prototype,"dateAdded",void 0),t([Field.d(14,"int32")],e.prototype,"viewer",void 0),t([Field.d(16,i,"repeated")],e.prototype,"chapters",void 0),t([Field.d(17,"int64","repeated")],e.prototype,"categories",void 0),t([Field.d(18,o,"repeated")],e.prototype,"tracking",void 0),t([Field.d(100,"bool")],e.prototype,"favorite",void 0),t([Field.d(101,"int32")],e.prototype,"chapterFlags",void 0),t([Field.d(102,c,"repeated")],e.prototype,"brokenHistory",void 0),t([Field.d(103,"int32","optional")],e.prototype,"viewerFlags",void 0),t([Field.d(104,u,"repeated")],e.prototype,"history",void 0),e=t([Type.d()],e);let a=class extends Message{constructor(){super(...arguments),this.backupManga=[],this.backupCategories=[],this.backupBrokenSources=[],this.backupSources=[]}};t([Field.d(1,e,"repeated")],a.prototype,"backupManga",void 0),t([Field.d(2,s,"repeated")],a.prototype,"backupCategories",void 0),t([Field.d(100,l,"repeated")],a.prototype,"backupBrokenSources",void 0),t([Field.d(101,y$1,"repeated")],a.prototype,"backupSources",void 0),a=t([Type.d()],a),k.util.Long=Long,k.configure();const b={1:"myanimelist",2:"anilist"};class y extends Set{has(w){for(const ne of this)if(w.eq(ne))return!0;return!1}add(w){return this.has(w)||Set.prototype.add.call(this,w),this}}function toAidoku(ee){const w=new Date().toISOString().split("T")[0],ne=a.decode(ee),oe=Object.fromEntries(ne.backupCategories.map(X=>[X.order.toString(),X.name])),se={library:[],history:[],sources:[],manga:[],chapters:[],trackItems:[],categories:ne.backupCategories.map(X=>X.name),date:new Date,name:`Converted Tachiyomi Backup ${w}`,version:"0.0.1"},te=new y,$=new Set;return ne.backupManga.forEach(X=>{const ae=I.find(ie=>ie.tachiyomiSourceId.eq(X.source));if(!ae){X.source.ne(0)&&X.source.ne(6969)&&te.add(X.source);return}$.add(ae.aidokuSourceId);const re=ae.toAidokuManga(X);se.manga.push(re),X.dateAdded.ne(0)&&se.library.push({mangaId:re.id,lastUpdated:new Date(0),categories:X.categories.map(ie=>oe[ie.toString()]).filter(ie=>ie!==void 0),dateAdded:new Date(X.dateAdded.toNumber()),sourceId:ae.aidokuSourceId,lastOpened:new Date(0)}),X.chapters.forEach(ie=>{var ue,fe,he;const le=ae.toAidokuChapter(X,ie);se.chapters.push(le),se.history.push({progress:ie.lastPageRead,mangaId:re.id,chapterId:le.id,completed:ie.read,sourceId:ae.aidokuSourceId,dateRead:new Date((he=(fe=(ue=[...X.history,...X.brokenHistory].find(de=>de.url===ie.url))===null||ue===void 0?void 0:ue.lastRead)===null||fe===void 0?void 0:fe.toNumber())!==null&&he!==void 0?he:0)})}),se.trackItems.push(...X.tracking.filter(ie=>ie.syncId<=2).map(ie=>({id:ie.trackingUrl.split("/")[4],trackerId:b[ie.syncId],mangaId:re.id,sourceId:ae.aidokuSourceId,title:re.title})))}),te.size>0&&console.log(`Could not find converters for ${te.size} sources. Your library may not be complete.
- ${[...te].join(`
- `)}`),se.sources=[...$],{backup:se,dateString:w,missingSources:[...te].map(X=>X.toString())}}return exports.toAidoku=toAidoku,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});
