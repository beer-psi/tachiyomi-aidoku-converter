var Tachidoku=function(exports){"use strict";/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(X){}function Long(X,w,re){this.low=X|0,this.high=w|0,this.unsigned=!!re}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(X){return(X&&X.__isLong__)===!0}function ctz32(X){var w=Math.clz32(X&-X);return X?31-w:w}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(X,w){var re,oe,se;return w?(X>>>=0,(se=0<=X&&X<256)&&(oe=UINT_CACHE[X],oe)?oe:(re=fromBits(X,0,!0),se&&(UINT_CACHE[X]=re),re)):(X|=0,(se=-128<=X&&X<128)&&(oe=INT_CACHE[X],oe)?oe:(re=fromBits(X,X<0?-1:0,!1),se&&(INT_CACHE[X]=re),re))}Long.fromInt=fromInt;function fromNumber(X,w){if(isNaN(X))return w?UZERO:ZERO;if(w){if(X<0)return UZERO;if(X>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(X<=-TWO_PWR_63_DBL)return MIN_VALUE;if(X+1>=TWO_PWR_63_DBL)return MAX_VALUE}return X<0?fromNumber(-X,w).neg():fromBits(X%TWO_PWR_32_DBL|0,X/TWO_PWR_32_DBL|0,w)}Long.fromNumber=fromNumber;function fromBits(X,w,re){return new Long(X,w,re)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(X,w,re){if(X.length===0)throw Error("empty string");if(typeof w=="number"?(re=w,w=!1):w=!!w,X==="NaN"||X==="Infinity"||X==="+Infinity"||X==="-Infinity")return w?UZERO:ZERO;if(re=re||10,re<2||36<re)throw RangeError("radix");var oe;if((oe=X.indexOf("-"))>0)throw Error("interior hyphen");if(oe===0)return fromString(X.substring(1),w,re).neg();for(var se=fromNumber(pow_dbl(re,8)),te=ZERO,$=0;$<X.length;$+=8){var ee=Math.min(8,X.length-$),ie=parseInt(X.substring($,$+ee),re);if(ee<8){var ne=fromNumber(pow_dbl(re,ee));te=te.mul(ne).add(fromNumber(ie))}else te=te.mul(se),te=te.add(fromNumber(ie))}return te.unsigned=w,te}Long.fromString=fromString;function fromValue(X,w){return typeof X=="number"?fromNumber(X,w):typeof X=="string"?fromString(X,w):fromBits(X.low,X.high,typeof w=="boolean"?w:X.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(w){if(w=w||10,w<2||36<w)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var re=fromNumber(w),oe=this.div(re),se=oe.mul(re).sub(this);return oe.toString(w)+se.toInt().toString(w)}else return"-"+this.neg().toString(w);for(var te=fromNumber(pow_dbl(w,6),this.unsigned),$=this,ee="";;){var ie=$.div(te),ne=$.sub(ie.mul(te)).toInt()>>>0,ae=ne.toString(w);if($=ie,$.isZero())return ae+ee;for(;ae.length<6;)ae="0"+ae;ee=""+ae+ee}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var w=this.high!=0?this.high:this.low,re=31;re>0&&(w&1<<re)==0;re--);return this.high!=0?re+33:re+1},LongPrototype.isZero=function(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return(this.low&1)===1},LongPrototype.isEven=function(){return(this.low&1)===0},LongPrototype.equals=function(w){return isLong(w)||(w=fromValue(w)),this.unsigned!==w.unsigned&&this.high>>>31===1&&w.high>>>31===1?!1:this.high===w.high&&this.low===w.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(w){return!this.eq(w)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(w){return this.comp(w)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(w){return this.comp(w)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(w){return this.comp(w)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(w){return this.comp(w)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(w){if(isLong(w)||(w=fromValue(w)),this.eq(w))return 0;var re=this.isNegative(),oe=w.isNegative();return re&&!oe?-1:!re&&oe?1:this.unsigned?w.high>>>0>this.high>>>0||w.high===this.high&&w.low>>>0>this.low>>>0?-1:1:this.sub(w).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(w){isLong(w)||(w=fromValue(w));var re=this.high>>>16,oe=this.high&65535,se=this.low>>>16,te=this.low&65535,$=w.high>>>16,ee=w.high&65535,ie=w.low>>>16,ne=w.low&65535,ae=0,ue=0,he=0,fe=0;return fe+=te+ne,he+=fe>>>16,fe&=65535,he+=se+ie,ue+=he>>>16,he&=65535,ue+=oe+ee,ae+=ue>>>16,ue&=65535,ae+=re+$,ae&=65535,fromBits(he<<16|fe,ae<<16|ue,this.unsigned)},LongPrototype.subtract=function(w){return isLong(w)||(w=fromValue(w)),this.add(w.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(w){if(this.isZero())return this;if(isLong(w)||(w=fromValue(w)),wasm){var re=wasm.mul(this.low,this.high,w.low,w.high);return fromBits(re,wasm.get_high(),this.unsigned)}if(w.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return w.isOdd()?MIN_VALUE:ZERO;if(w.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return w.isNegative()?this.neg().mul(w.neg()):this.neg().mul(w).neg();if(w.isNegative())return this.mul(w.neg()).neg();if(this.lt(TWO_PWR_24)&&w.lt(TWO_PWR_24))return fromNumber(this.toNumber()*w.toNumber(),this.unsigned);var oe=this.high>>>16,se=this.high&65535,te=this.low>>>16,$=this.low&65535,ee=w.high>>>16,ie=w.high&65535,ne=w.low>>>16,ae=w.low&65535,ue=0,he=0,fe=0,le=0;return le+=$*ae,fe+=le>>>16,le&=65535,fe+=te*ae,he+=fe>>>16,fe&=65535,fe+=$*ne,he+=fe>>>16,fe&=65535,he+=se*ae,ue+=he>>>16,he&=65535,he+=te*ne,ue+=he>>>16,he&=65535,he+=$*ie,ue+=he>>>16,he&=65535,ue+=oe*ae+se*ne+te*ie+$*ee,ue&=65535,fromBits(fe<<16|le,ue<<16|he,this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(w){if(isLong(w)||(w=fromValue(w)),w.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&w.low===-1&&w.high===-1)return this;var re=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,w.low,w.high);return fromBits(re,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var oe,se,te;if(this.unsigned){if(w.unsigned||(w=w.toUnsigned()),w.gt(this))return UZERO;if(w.gt(this.shru(1)))return UONE;te=UZERO}else{if(this.eq(MIN_VALUE)){if(w.eq(ONE)||w.eq(NEG_ONE))return MIN_VALUE;if(w.eq(MIN_VALUE))return ONE;var $=this.shr(1);return oe=$.div(w).shl(1),oe.eq(ZERO)?w.isNegative()?ONE:NEG_ONE:(se=this.sub(w.mul(oe)),te=oe.add(se.div(w)),te)}else if(w.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return w.isNegative()?this.neg().div(w.neg()):this.neg().div(w).neg();if(w.isNegative())return this.div(w.neg()).neg();te=ZERO}for(se=this;se.gte(w);){oe=Math.max(1,Math.floor(se.toNumber()/w.toNumber()));for(var ee=Math.ceil(Math.log(oe)/Math.LN2),ie=ee<=48?1:pow_dbl(2,ee-48),ne=fromNumber(oe),ae=ne.mul(w);ae.isNegative()||ae.gt(se);)oe-=ie,ne=fromNumber(oe,this.unsigned),ae=ne.mul(w);ne.isZero()&&(ne=ONE),te=te.add(ne),se=se.sub(ae)}return te},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(w){if(isLong(w)||(w=fromValue(w)),wasm){var re=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,w.low,w.high);return fromBits(re,wasm.get_high(),this.unsigned)}return this.sub(this.div(w).mul(w))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function(w){return isLong(w)||(w=fromValue(w)),fromBits(this.low&w.low,this.high&w.high,this.unsigned)},LongPrototype.or=function(w){return isLong(w)||(w=fromValue(w)),fromBits(this.low|w.low,this.high|w.high,this.unsigned)},LongPrototype.xor=function(w){return isLong(w)||(w=fromValue(w)),fromBits(this.low^w.low,this.high^w.high,this.unsigned)},LongPrototype.shiftLeft=function(w){return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?fromBits(this.low<<w,this.high<<w|this.low>>>32-w,this.unsigned):fromBits(0,this.low<<w-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(w){return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?fromBits(this.low>>>w|this.high<<32-w,this.high>>w,this.unsigned):fromBits(this.high>>w-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(w){return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?fromBits(this.low>>>w|this.high<<32-w,this.high>>>w,this.unsigned):w===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>w-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function(w){var re;return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w===32?fromBits(this.high,this.low,this.unsigned):w<32?(re=32-w,fromBits(this.low<<w|this.high>>>re,this.high<<w|this.low>>>re,this.unsigned)):(w-=32,re=32-w,fromBits(this.high<<w|this.low>>>re,this.low<<w|this.high>>>re,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function(w){var re;return isLong(w)&&(w=w.toInt()),(w&=63)===0?this:w===32?fromBits(this.high,this.low,this.unsigned):w<32?(re=32-w,fromBits(this.high<<re|this.low>>>w,this.low<<re|this.high>>>w,this.unsigned)):(w-=32,re=32-w,fromBits(this.low<<re|this.high>>>w,this.high<<re|this.low>>>w,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(w){return w?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var w=this.high,re=this.low;return[re&255,re>>>8&255,re>>>16&255,re>>>24,w&255,w>>>8&255,w>>>16&255,w>>>24]},LongPrototype.toBytesBE=function(){var w=this.high,re=this.low;return[w>>>24,w>>>16&255,w>>>8&255,w&255,re>>>24,re>>>16&255,re>>>8&255,re&255]},Long.fromBytes=function(w,re,oe){return oe?Long.fromBytesLE(w,re):Long.fromBytesBE(w,re)},Long.fromBytesLE=function(w,re){return new Long(w[0]|w[1]<<8|w[2]<<16|w[3]<<24,w[4]|w[5]<<8|w[6]<<16|w[7]<<24,re)},Long.fromBytesBE=function(w,re){return new Long(w[4]<<24|w[5]<<16|w[6]<<8|w[7],w[0]<<24|w[1]<<16|w[2]<<8|w[3],re)};var MangaViewer;(function(X){X[X.Default=0]="Default",X[X.RTL=1]="RTL",X[X.LTR=2]="LTR",X[X.Vertical=3]="Vertical",X[X.Scroll=4]="Scroll"})(MangaViewer||(MangaViewer={}));var MangaStatus;(function(X){X[X.Unknown=0]="Unknown",X[X.Ongoing=1]="Ongoing",X[X.Completed=2]="Completed",X[X.Cancelled=3]="Cancelled",X[X.Hiatus=4]="Hiatus"})(MangaStatus||(MangaStatus={}));class Converter{constructor(){this.mangaViewer={1:MangaViewer.LTR,2:MangaViewer.RTL,3:MangaViewer.Vertical,4:MangaViewer.Scroll,5:MangaViewer.Scroll},this.mangaStatus={0:MangaStatus.Unknown,1:MangaStatus.Ongoing,2:MangaStatus.Completed,3:MangaStatus.Unknown,4:MangaStatus.Completed,5:MangaStatus.Cancelled,6:MangaStatus.Hiatus}}parseMangaUrl(w){return`${this.baseUrl}${w}`}toAidokuManga(w){var re,oe,se,te,$;return{id:this.parseMangaId(w.url),author:(re=w.author)!==null&&re!==void 0?re:"",url:this.parseMangaUrl(w.url),nsfw:0,tags:w.genre,title:w.title,sourceId:this.aidokuSourceId,desc:(oe=w.description)!==null&&oe!==void 0?oe:"",cover:(se=w.thumbnailUrl)!==null&&se!==void 0?se:"",viewer:(te=this.mangaViewer[w.viewer])!==null&&te!==void 0?te:MangaViewer.Default,status:($=this.mangaStatus[w.status])!==null&&$!==void 0?$:MangaStatus.Unknown}}toAidokuChapter(w,re){var oe;return{sourceId:this.aidokuSourceId,mangaId:this.parseMangaId(w.url),lang:this.lang,id:this.parseChapterId(re.url),scanlator:(oe=re.scanlator)!==null&&oe!==void 0?oe:"",dateUploaded:new Date(re.dateUpload.toNumber()),chapter:re.chapterNumber,sourceOrder:re.sourceOrder}}}class n$2 extends Converter{constructor(w,re){super(),this.tachiyomiSourceId=w,this.lang=re,this.aidokuSourceId="multi.mangadex",this.baseUrl="https://mangadex.org"}parseMangaId(w){return w.replace("/manga/","")}parseChapterId(w){return w.replace("/chapter/","")}toAidokuManga(w){var re;let oe=super.toAidokuManga(w);return oe.tags=(re=oe.tags)===null||re===void 0?void 0:re.map(se=>{var te,$;return($=(te=se.split(":")[1])===null||te===void 0?void 0:te.trim())!==null&&$!==void 0?$:se}),oe}}const g$1=new n$2(new Long(-85582433,581909802,!1),"en"),c$1=new n$2(new Long(-198967703,777561083,!1),"ar"),v=new n$2(new Long(-1988524097,966356722,!1),"bn"),M=new n$2(new Long(-778874940,1272058030,!1),"bg"),f$2=new n$2(new Long(-1396659146,313716648,!1),"my"),x=new n$2(new Long(-97431418,1364513604,!1),"ca"),C=new n$2(new Long(1378680342,1198820576,!1),"zh-Hans"),D=new n$2(new Long(1034623257,347771339,!1),"zh-Hant"),i$1=new n$2(new Long(-1823243032,833210539,!1),"cs"),u$1=new n$2(new Long(1142677577,99135840,!1),"da"),d=new n$2(new Long(-1884900805,1571709301,!1),"nl"),p$1=new n$2(new Long(-2000404607,1997424270,!1),"fil"),h=new n$2(new Long(1300355399,1921812363,!1),"fi"),m$1=new n$2(new Long(83640253,1049095431,!1),"fr"),H=new n$2(new Long(1819814259,1187095778,!1),"de"),A=new n$2(new Long(1394320855,759191328,!1),"el"),I$1=new n$2(new Long(1370511798,331614435,!1),"he"),S$1=new n$2(new Long(408171690,1592681263,!1),"hi"),N=new n$2(new Long(1643632497,997667508,!1),"hu"),E=new n$2(new Long(-727467902,886503177,!1),"id"),L=new n$2(new Long(-287877311,454502007,!1),"it"),R=new n$2(new Long(2069390384,328702986,!1),"ja"),T=new n$2(new Long(51452760,764897243,!1),"ko"),_=new n$2(new Long(-1697620606,178019415,!1),"la"),k=new n$2(new Long(1515881414,171825794,!1),"lt"),b=new n$2(new Long(-795554411,342676626,!1),"ms"),B=new n$2(new Long(441046298,1389473995,!1),"mn"),F=new n$2(new Long(-1964672727,222206128,!1),"ne"),U=new n$2(new Long(-885759205,1134400556,!1),"no"),O=new n$2(new Long(1484806683,880383059,!1),"fa"),P=new n$2(new Long(-2116827428,1870463575,!1),"pl"),y$1=new n$2(new Long(-1489537484,618200170,!1),"pt-BR"),z=new n$2(new Long(-1028551010,1208208586,!1),"pt"),K=new n$2(new Long(1544318859,1111640475,!1),"ro"),V=new n$2(new Long(-1826891586,488689449,!1),"ru"),Z=new n$2(new Long(-1140316502,1096846651,!1),"sh"),j=new n$2(new Long(-1406949678,1149897775,!1),"es-419"),G=new n$2(new Long(1194928586,1490271121,!1),"es"),J=new n$2(new Long(-882981595,266783044,!1),"sv"),Y=new n$2(new Long(-729840220,398967987,!1),"th"),q=new n$2(new Long(-392818951,895645994,!1),"tr"),Q=new n$2(new Long(-2032573890,1345537103,!1),"uk"),W=new n$2(new Long(-154840465,2140662118,!1),"vi");var r$3=[g$1,c$1,v,M,f$2,x,C,D,i$1,u$1,d,p$1,h,m$1,H,A,I$1,S$1,N,E,L,R,T,_,k,b,B,F,U,O,P,y$1,z,K,V,Z,j,G,J,Y,q,Q,W];class a$5 extends Converter{constructor(w,re){super(),this.baseUrl=w,this.tachiyomiSourceId=re,this.aidokuSourceId="en.nepnep",this.lang="en"}parseMangaId(w){return w.replace("/manga/","")}parseChapterId(w){return w.replace("/read-online/","")}parseMangaUrl(w){return`${this.baseUrl}${w}`}}var o$3=[new a$5("https://mangasee123.com",new Long(9,0,!1)),new a$5("https://manga4life.com",new Long(1799950687,1815651190,!1))];class r$2 extends Converter{parseMangaId(w){return this.parseMangaUrl(w)}parseChapterId(w){return this.parseMangaUrl(w)}}class s$2 extends r$2{constructor(){super(...arguments),this.baseUrl="https://m.mangabat.com",this.tachiyomiSourceId=new Long(1169987930,981500240,!1),this.aidokuSourceId="en.mangabat",this.lang="en"}parseMangaUrl(w){return w.replace("https://readmangabat.com","https://m.mangabat.com")}}class o$2 extends r$2{constructor(){super(...arguments),this.baseUrl="https://manganato.com",this.tachiyomiSourceId=new Long(1955215088,238564633,!1),this.aidokuSourceId="en.manganato",this.lang="en"}parseMangaUrl(w){return w.replace("https://readmanganato.com","https://manganato.com")}}var e$1=[new o$2,new s$2];class s$1 extends Converter{constructor(w,re,oe,se){super(),this.baseUrl=w,this.lang=re,this.tachiyomiSourceId=oe,this.aidokuSourceId=se}parseMangaId(w){return this.parseMangaUrl(w)}parseChapterId(w){return this.parseMangaUrl(w)}parseMangaUrl(w){return`${this.baseUrl}${w}`}}class a$4 extends Converter{constructor(w,re,oe,se){super(),this.baseUrl=w,this.lang=re,this.tachiyomiSourceId=oe,this.aidokuSourceId=se}parseMangaId(w){return w}parseChapterId(w){return w}}var t$2=[new s$1("https://readkomik.com","en",new Long(1063589984,1139696252,!1),"en.readkomik"),new s$1("https://alpha-scans.org","en",new Long(118446685,964607593,!1),"en.alphascans"),new s$1("https://kumascans.com","en",new Long(-1155852457,1152485760,!1),"en.kumascans"),new s$1("https://www.asurascans.com","en",new Long(-1983361610,1454684959,!1),"multi.asurascans"),new s$1("https://www.asurascans.com","tr",new Long(-755736659,1854047801,!1),"multi.asurascans"),new s$1("https://xoxocomics.com","en",new Long(1145708452,555523696,!1),"en.xoxocomics"),new s$1("https://www.nettruyenco.com","vi",new Long(2007330622,1210478809,!1),"vi.nettruyen"),new s$1("http://truyenqqpro.com","vi",new Long(-1599601267,594540574,!1),"vi.truyenqq"),new a$4("https://www.mangapill.com","en",new Long(620004752,1967025485,!1),"en.mangapill"),new a$4("https://readm.org","en",new Long(1264219849,377873469,!1),"en.readm"),new a$4("https://onepiecechapters.com","en",new Long(455392941,334139158,!1),"en.tcbscans"),new a$4("https://truyentranhlh.net","vi",new Long(-3131784,1855568585,!1),"vi.truyentranhlh"),new a$4("https://blogtruyen.vn","vi",new Long(630869959,1706408032,!1),"vi.blogtruyen")];class n$1 extends Converter{constructor(w,re,oe,se,te="manga"){super(),this.baseUrl=w,this.lang=re,this.tachiyomiSourceId=oe,this.aidokuSourceId=se,this.sourcePath=te}parseMangaId(w){return w.replace(`/${this.sourcePath}/`,"").replace(/\/$/,"")}parseChapterId(w){const re=w.replace(`/${this.sourcePath}/`,"").split("/");return`${re[0]}/${re[1]}/`}}var m=[new n$1("https://coloredmanga.com","en",new Long(-1175571555,2050931948,!1),"en.coloredmanga"),new n$1("https://hentaicb.top","vi",new Long(-2087855290,191768210,!1),"vi.hentaicube"),new n$1("https://lilymanga.com","en",new Long(-533071805,1043313331,!1),"en.lilymanga","ys"),new n$1("https://mangatx.com","en",new Long(2407141,762446728,!1),"en.mangatx"),new n$1("https://manhuaplus.com","en",new Long(1143180969,2102502331,!1),"en.manhuaplus"),new n$1("https://reaperscans.com","en",new Long(1375231039,1205415465,!1),"en.reaperscans","series"),new n$1("https://reset-scans.com","en",new Long(1327330464,2070860820,!1),"en.resetscans"),new n$1("https://toonily.com","en",new Long(2010312319,1208523678,!1),"en.toonily","webtoon")];class r$1 extends Converter{constructor(w,re){super(),this.lang=w,this.tachiyomiSourceId=re,this.aidokuSourceId="multi.nhentai",this.baseUrl="https://nhentai.net"}parseMangaId(w){return w.replace("/g/","").replace(/\/$/,"")}parseChapterId(w){return this.parseMangaId(w)}}var n=[new r$1("en",new Long(1674160323,726933682,!1)),new r$1("ja",new Long(-486133509,1100398547,!1)),new r$1("zh",new Long(1541031717,512976060,!1)),new r$1("",new Long(1810939612,1701962374,!1))];class t$1 extends Converter{constructor(w){super(),this.tachiyomiSourceId=w,this.aidokuSourceId="en.dynastyscans",this.baseUrl="https://dynasty-scans.com",this.lang="en"}parseMangaId(w){return w.replace(/^\//,"")}parseChapterId(w){return w.replace("/chapters/","")}}var i=[new Long(-1700845042,171993592,!1),new Long(-702418402,1453721207,!1),new Long(461221184,155785930,!1)].map(X=>new t$1(X));class a$3 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-1621112494,1027640203,!1),this.aidokuSourceId="vi.yurianeko",this.lang="vi",this.baseUrl="https://yurineko.net"}parseMangaId(w){return w.replace("/manga/","")}parseChapterId(w){return w.replace("/read/","")}}var p=[new a$3];class a$1 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-776666435,1527547964,!1),this.aidokuSourceId="vi.hentaivn",this.baseUrl="https://hentaivn.moe",this.lang="vi"}parseMangaId(w){return w.replace(/^\//,"")}parseChapterId(w){return this.parseMangaUrl(w)}}var a$2=[new a$1];class o$1 extends Converter{constructor(){super(...arguments),this.tachiyomiSourceId=new Long(-413969828,905361794,!1),this.aidokuSourceId="en.koushoku",this.lang="en",this.baseUrl="https://koushoku.org"}parseMangaId(w){return w.split("/")[2]}parseChapterId(w){return w.split("/")[2]}}var f$1=[new o$1],I=[...r$3,...o$3,...e$1,...t$2,...m,...n,...i,...p,...a$2,...f$1],commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}var light={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=X;function X(w,re){for(var oe=new Array(arguments.length-1),se=0,te=2,$=!0;te<arguments.length;)oe[se++]=arguments[te++];return new Promise(function(ie,ne){oe[se]=function(ue){if($)if($=!1,ue)ne(ue);else{for(var he=new Array(arguments.length-1),fe=0;fe<he.length;)he[fe++]=arguments[fe];ie.apply(null,he)}};try{w.apply(re||null,oe)}catch(ae){$&&($=!1,ne(ae))}})}return aspromise}var base64$1={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(X){var w=X;w.length=function(ee){var ie=ee.length;if(!ie)return 0;for(var ne=0;--ie%4>1&&ee.charAt(ie)==="=";)++ne;return Math.ceil(ee.length*3)/4-ne};for(var re=new Array(64),oe=new Array(123),se=0;se<64;)oe[re[se]=se<26?se+65:se<52?se+71:se<62?se-4:se-59|43]=se++;w.encode=function(ee,ie,ne){for(var ae=null,ue=[],he=0,fe=0,le;ie<ne;){var de=ee[ie++];switch(fe){case 0:ue[he++]=re[de>>2],le=(de&3)<<4,fe=1;break;case 1:ue[he++]=re[le|de>>4],le=(de&15)<<2,fe=2;break;case 2:ue[he++]=re[le|de>>6],ue[he++]=re[de&63],fe=0;break}he>8191&&((ae||(ae=[])).push(String.fromCharCode.apply(String,ue)),he=0)}return fe&&(ue[he++]=re[le],ue[he++]=61,fe===1&&(ue[he++]=61)),ae?(he&&ae.push(String.fromCharCode.apply(String,ue.slice(0,he))),ae.join("")):String.fromCharCode.apply(String,ue.slice(0,he))};var te="invalid encoding";w.decode=function(ee,ie,ne){for(var ae=ne,ue=0,he,fe=0;fe<ee.length;){var le=ee.charCodeAt(fe++);if(le===61&&ue>1)break;if((le=oe[le])===void 0)throw Error(te);switch(ue){case 0:he=le,ue=1;break;case 1:ie[ne++]=he<<2|(le&48)>>4,he=le,ue=2;break;case 2:ie[ne++]=(he&15)<<4|(le&60)>>2,he=le,ue=3;break;case 3:ie[ne++]=(he&3)<<6|le,ue=0;break}}if(ue===1)throw Error(te);return ne-ae},w.test=function(ee){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ee)}}(base64$1)),base64$1}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=X;function X(){this._listeners={}}return X.prototype.on=function(re,oe,se){return(this._listeners[re]||(this._listeners[re]=[])).push({fn:oe,ctx:se||this}),this},X.prototype.off=function(re,oe){if(re===void 0)this._listeners={};else if(oe===void 0)this._listeners[re]=[];else for(var se=this._listeners[re],te=0;te<se.length;)se[te].fn===oe?se.splice(te,1):++te;return this},X.prototype.emit=function(re){var oe=this._listeners[re];if(oe){for(var se=[],te=1;te<arguments.length;)se.push(arguments[te++]);for(te=0;te<oe.length;)oe[te].fn.apply(oe[te++].ctx,se)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=X(X);function X(te){return typeof Float32Array!="undefined"?function(){var $=new Float32Array([-0]),ee=new Uint8Array($.buffer),ie=ee[3]===128;function ne(fe,le,de){$[0]=fe,le[de]=ee[0],le[de+1]=ee[1],le[de+2]=ee[2],le[de+3]=ee[3]}function ae(fe,le,de){$[0]=fe,le[de]=ee[3],le[de+1]=ee[2],le[de+2]=ee[1],le[de+3]=ee[0]}te.writeFloatLE=ie?ne:ae,te.writeFloatBE=ie?ae:ne;function ue(fe,le){return ee[0]=fe[le],ee[1]=fe[le+1],ee[2]=fe[le+2],ee[3]=fe[le+3],$[0]}function he(fe,le){return ee[3]=fe[le],ee[2]=fe[le+1],ee[1]=fe[le+2],ee[0]=fe[le+3],$[0]}te.readFloatLE=ie?ue:he,te.readFloatBE=ie?he:ue}():function(){function $(ie,ne,ae,ue){var he=ne<0?1:0;if(he&&(ne=-ne),ne===0)ie(1/ne>0?0:2147483648,ae,ue);else if(isNaN(ne))ie(2143289344,ae,ue);else if(ne>34028234663852886e22)ie((he<<31|2139095040)>>>0,ae,ue);else if(ne<11754943508222875e-54)ie((he<<31|Math.round(ne/1401298464324817e-60))>>>0,ae,ue);else{var fe=Math.floor(Math.log(ne)/Math.LN2),le=Math.round(ne*Math.pow(2,-fe)*8388608)&8388607;ie((he<<31|fe+127<<23|le)>>>0,ae,ue)}}te.writeFloatLE=$.bind(null,w),te.writeFloatBE=$.bind(null,re);function ee(ie,ne,ae){var ue=ie(ne,ae),he=(ue>>31)*2+1,fe=ue>>>23&255,le=ue&8388607;return fe===255?le?NaN:he*(1/0):fe===0?he*1401298464324817e-60*le:he*Math.pow(2,fe-150)*(le+8388608)}te.readFloatLE=ee.bind(null,oe),te.readFloatBE=ee.bind(null,se)}(),typeof Float64Array!="undefined"?function(){var $=new Float64Array([-0]),ee=new Uint8Array($.buffer),ie=ee[7]===128;function ne(fe,le,de){$[0]=fe,le[de]=ee[0],le[de+1]=ee[1],le[de+2]=ee[2],le[de+3]=ee[3],le[de+4]=ee[4],le[de+5]=ee[5],le[de+6]=ee[6],le[de+7]=ee[7]}function ae(fe,le,de){$[0]=fe,le[de]=ee[7],le[de+1]=ee[6],le[de+2]=ee[5],le[de+3]=ee[4],le[de+4]=ee[3],le[de+5]=ee[2],le[de+6]=ee[1],le[de+7]=ee[0]}te.writeDoubleLE=ie?ne:ae,te.writeDoubleBE=ie?ae:ne;function ue(fe,le){return ee[0]=fe[le],ee[1]=fe[le+1],ee[2]=fe[le+2],ee[3]=fe[le+3],ee[4]=fe[le+4],ee[5]=fe[le+5],ee[6]=fe[le+6],ee[7]=fe[le+7],$[0]}function he(fe,le){return ee[7]=fe[le],ee[6]=fe[le+1],ee[5]=fe[le+2],ee[4]=fe[le+3],ee[3]=fe[le+4],ee[2]=fe[le+5],ee[1]=fe[le+6],ee[0]=fe[le+7],$[0]}te.readDoubleLE=ie?ue:he,te.readDoubleBE=ie?he:ue}():function(){function $(ie,ne,ae,ue,he,fe){var le=ue<0?1:0;if(le&&(ue=-ue),ue===0)ie(0,he,fe+ne),ie(1/ue>0?0:2147483648,he,fe+ae);else if(isNaN(ue))ie(0,he,fe+ne),ie(2146959360,he,fe+ae);else if(ue>17976931348623157e292)ie(0,he,fe+ne),ie((le<<31|2146435072)>>>0,he,fe+ae);else{var de;if(ue<22250738585072014e-324)de=ue/5e-324,ie(de>>>0,he,fe+ne),ie((le<<31|de/4294967296)>>>0,he,fe+ae);else{var me=Math.floor(Math.log(ue)/Math.LN2);me===1024&&(me=1023),de=ue*Math.pow(2,-me),ie(de*4503599627370496>>>0,he,fe+ne),ie((le<<31|me+1023<<20|de*1048576&1048575)>>>0,he,fe+ae)}}}te.writeDoubleLE=$.bind(null,w,0,4),te.writeDoubleBE=$.bind(null,re,4,0);function ee(ie,ne,ae,ue,he){var fe=ie(ue,he+ne),le=ie(ue,he+ae),de=(le>>31)*2+1,me=le>>>20&2047,ge=4294967296*(le&1048575)+fe;return me===2047?ge?NaN:de*(1/0):me===0?de*5e-324*ge:de*Math.pow(2,me-1075)*(ge+4503599627370496)}te.readDoubleLE=ee.bind(null,oe,0,4),te.readDoubleBE=ee.bind(null,se,4,0)}(),te}function w(te,$,ee){$[ee]=te&255,$[ee+1]=te>>>8&255,$[ee+2]=te>>>16&255,$[ee+3]=te>>>24}function re(te,$,ee){$[ee]=te>>>24,$[ee+1]=te>>>16&255,$[ee+2]=te>>>8&255,$[ee+3]=te&255}function oe(te,$){return(te[$]|te[$+1]<<8|te[$+2]<<16|te[$+3]<<24)>>>0}function se(te,$){return(te[$]<<24|te[$+1]<<16|te[$+2]<<8|te[$+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(X){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(X){var w=X;w.length=function(oe){for(var se=0,te=0,$=0;$<oe.length;++$)te=oe.charCodeAt($),te<128?se+=1:te<2048?se+=2:(te&64512)===55296&&(oe.charCodeAt($+1)&64512)===56320?(++$,se+=4):se+=3;return se},w.read=function(oe,se,te){var $=te-se;if($<1)return"";for(var ee=null,ie=[],ne=0,ae;se<te;)ae=oe[se++],ae<128?ie[ne++]=ae:ae>191&&ae<224?ie[ne++]=(ae&31)<<6|oe[se++]&63:ae>239&&ae<365?(ae=((ae&7)<<18|(oe[se++]&63)<<12|(oe[se++]&63)<<6|oe[se++]&63)-65536,ie[ne++]=55296+(ae>>10),ie[ne++]=56320+(ae&1023)):ie[ne++]=(ae&15)<<12|(oe[se++]&63)<<6|oe[se++]&63,ne>8191&&((ee||(ee=[])).push(String.fromCharCode.apply(String,ie)),ne=0);return ee?(ne&&ee.push(String.fromCharCode.apply(String,ie.slice(0,ne))),ee.join("")):String.fromCharCode.apply(String,ie.slice(0,ne))},w.write=function(oe,se,te){for(var $=te,ee,ie,ne=0;ne<oe.length;++ne)ee=oe.charCodeAt(ne),ee<128?se[te++]=ee:ee<2048?(se[te++]=ee>>6|192,se[te++]=ee&63|128):(ee&64512)===55296&&((ie=oe.charCodeAt(ne+1))&64512)===56320?(ee=65536+((ee&1023)<<10)+(ie&1023),++ne,se[te++]=ee>>18|240,se[te++]=ee>>12&63|128,se[te++]=ee>>6&63|128,se[te++]=ee&63|128):(se[te++]=ee>>12|224,se[te++]=ee>>6&63|128,se[te++]=ee&63|128);return te-$}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=X;function X(w,re,oe){var se=oe||8192,te=se>>>1,$=null,ee=se;return function(ne){if(ne<1||ne>te)return w(ne);ee+ne>se&&($=w(se),ee=0);var ae=re.call($,ee,ee+=ne);return ee&7&&(ee=(ee|7)+1),ae}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=w;var X=requireMinimal();function w(te,$){this.lo=te>>>0,this.hi=$>>>0}var re=w.zero=new w(0,0);re.toNumber=function(){return 0},re.zzEncode=re.zzDecode=function(){return this},re.length=function(){return 1};var oe=w.zeroHash="\0\0\0\0\0\0\0\0";w.fromNumber=function($){if($===0)return re;var ee=$<0;ee&&($=-$);var ie=$>>>0,ne=($-ie)/4294967296>>>0;return ee&&(ne=~ne>>>0,ie=~ie>>>0,++ie>4294967295&&(ie=0,++ne>4294967295&&(ne=0))),new w(ie,ne)},w.from=function($){if(typeof $=="number")return w.fromNumber($);if(X.isString($))if(X.Long)$=X.Long.fromString($);else return w.fromNumber(parseInt($,10));return $.low||$.high?new w($.low>>>0,$.high>>>0):re},w.prototype.toNumber=function($){if(!$&&this.hi>>>31){var ee=~this.lo+1>>>0,ie=~this.hi>>>0;return ee||(ie=ie+1>>>0),-(ee+ie*4294967296)}return this.lo+this.hi*4294967296},w.prototype.toLong=function($){return X.Long?new X.Long(this.lo|0,this.hi|0,Boolean($)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean($)}};var se=String.prototype.charCodeAt;return w.fromHash=function($){return $===oe?re:new w((se.call($,0)|se.call($,1)<<8|se.call($,2)<<16|se.call($,3)<<24)>>>0,(se.call($,4)|se.call($,5)<<8|se.call($,6)<<16|se.call($,7)<<24)>>>0)},w.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},w.prototype.zzEncode=function(){var $=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^$)>>>0,this.lo=(this.lo<<1^$)>>>0,this},w.prototype.zzDecode=function(){var $=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^$)>>>0,this.hi=(this.hi>>>1^$)>>>0,this},w.prototype.length=function(){var $=this.lo,ee=(this.lo>>>28|this.hi<<4)>>>0,ie=this.hi>>>24;return ie===0?ee===0?$<16384?$<128?1:2:$<2097152?3:4:ee<16384?ee<128?5:6:ee<2097152?7:8:ie<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(X){var w=X;w.asPromise=requireAspromise(),w.base64=requireBase64(),w.EventEmitter=requireEventemitter(),w.float=requireFloat(),w.inquire=requireInquire(),w.utf8=requireUtf8(),w.pool=requirePool(),w.LongBits=requireLongbits(),w.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),w.global=w.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,w.emptyArray=Object.freeze?Object.freeze([]):[],w.emptyObject=Object.freeze?Object.freeze({}):{},w.isInteger=Number.isInteger||function(te){return typeof te=="number"&&isFinite(te)&&Math.floor(te)===te},w.isString=function(te){return typeof te=="string"||te instanceof String},w.isObject=function(te){return te&&typeof te=="object"},w.isset=w.isSet=function(te,$){var ee=te[$];return ee!=null&&te.hasOwnProperty($)?typeof ee!="object"||(Array.isArray(ee)?ee.length:Object.keys(ee).length)>0:!1},w.Buffer=function(){try{var se=w.inquire("buffer").Buffer;return se.prototype.utf8Write?se:null}catch(te){return null}}(),w._Buffer_from=null,w._Buffer_allocUnsafe=null,w.newBuffer=function(te){return typeof te=="number"?w.Buffer?w._Buffer_allocUnsafe(te):new w.Array(te):w.Buffer?w._Buffer_from(te):typeof Uint8Array=="undefined"?te:new Uint8Array(te)},w.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,w.Long=w.global.dcodeIO&&w.global.dcodeIO.Long||w.global.Long||w.inquire("long"),w.key2Re=/^true|false|0|1$/,w.key32Re=/^-?(?:0|[1-9][0-9]*)$/,w.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,w.longToHash=function(te){return te?w.LongBits.from(te).toHash():w.LongBits.zeroHash},w.longFromHash=function(te,$){var ee=w.LongBits.fromHash(te);return w.Long?w.Long.fromBits(ee.lo,ee.hi,$):ee.toNumber(Boolean($))};function re(se,te,$){for(var ee=Object.keys(te),ie=0;ie<ee.length;++ie)(se[ee[ie]]===void 0||!$)&&(se[ee[ie]]=te[ee[ie]]);return se}w.merge=re,w.lcFirst=function(te){return te.charAt(0).toLowerCase()+te.substring(1)};function oe(se){function te($,ee){if(!(this instanceof te))return new te($,ee);Object.defineProperty(this,"message",{get:function(){return $}}),Error.captureStackTrace?Error.captureStackTrace(this,te):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ee&&re(this,ee)}return(te.prototype=Object.create(Error.prototype)).constructor=te,Object.defineProperty(te.prototype,"name",{get:function(){return se}}),te.prototype.toString=function(){return this.name+": "+this.message},te}w.newError=oe,w.ProtocolError=oe("ProtocolError"),w.oneOfGetter=function(te){for(var $={},ee=0;ee<te.length;++ee)$[te[ee]]=1;return function(){for(var ie=Object.keys(this),ne=ie.length-1;ne>-1;--ne)if($[ie[ne]]===1&&this[ie[ne]]!==void 0&&this[ie[ne]]!==null)return ie[ne]}},w.oneOfSetter=function(te){return function($){for(var ee=0;ee<te.length;++ee)te[ee]!==$&&delete this[te[ee]]}},w.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},w._configure=function(){var se=w.Buffer;if(!se){w._Buffer_from=w._Buffer_allocUnsafe=null;return}w._Buffer_from=se.from!==Uint8Array.from&&se.from||function($,ee){return new se($,ee)},w._Buffer_allocUnsafe=se.allocUnsafe||function($){return new se($)}}}(minimal)),minimal}var writer=Writer$1,util$7=requireMinimal(),BufferWriter$1,LongBits$1=util$7.LongBits,base64=util$7.base64,utf8$1=util$7.utf8;function Op(X,w,re){this.fn=X,this.len=w,this.next=void 0,this.val=re}function noop(){}function State(X){this.head=X.head,this.tail=X.tail,this.len=X.len,this.next=X.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function X(){return util$7.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1(),Writer$1.alloc=function X(w){return new util$7.Array(w)},util$7.Array!==Array&&(Writer$1.alloc=util$7.pool(Writer$1.alloc,util$7.Array.prototype.subarray)),Writer$1.prototype._push=function X(w,re,oe){return this.tail=this.tail.next=new Op(w,re,oe),this.len+=re,this};function writeByte(X,w,re){w[re]=X&255}function writeVarint32(X,w,re){for(;X>127;)w[re++]=X&127|128,X>>>=7;w[re]=X}function VarintOp(X,w){this.len=X,this.next=void 0,this.val=w}VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function X(w){return this.len+=(this.tail=this.tail.next=new VarintOp((w=w>>>0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},Writer$1.prototype.int32=function X(w){return w<0?this._push(writeVarint64,10,LongBits$1.fromNumber(w)):this.uint32(w)},Writer$1.prototype.sint32=function X(w){return this.uint32((w<<1^w>>31)>>>0)};function writeVarint64(X,w,re){for(;X.hi;)w[re++]=X.lo&127|128,X.lo=(X.lo>>>7|X.hi<<25)>>>0,X.hi>>>=7;for(;X.lo>127;)w[re++]=X.lo&127|128,X.lo=X.lo>>>7;w[re++]=X.lo}Writer$1.prototype.uint64=function X(w){var re=LongBits$1.from(w);return this._push(writeVarint64,re.length(),re)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function X(w){var re=LongBits$1.from(w).zzEncode();return this._push(writeVarint64,re.length(),re)},Writer$1.prototype.bool=function X(w){return this._push(writeByte,1,w?1:0)};function writeFixed32(X,w,re){w[re]=X&255,w[re+1]=X>>>8&255,w[re+2]=X>>>16&255,w[re+3]=X>>>24}Writer$1.prototype.fixed32=function X(w){return this._push(writeFixed32,4,w>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function X(w){var re=LongBits$1.from(w);return this._push(writeFixed32,4,re.lo)._push(writeFixed32,4,re.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function X(w){return this._push(util$7.float.writeFloatLE,4,w)},Writer$1.prototype.double=function X(w){return this._push(util$7.float.writeDoubleLE,8,w)};var writeBytes=util$7.Array.prototype.set?function X(w,re,oe){re.set(w,oe)}:function X(w,re,oe){for(var se=0;se<w.length;++se)re[oe+se]=w[se]};Writer$1.prototype.bytes=function X(w){var re=w.length>>>0;if(!re)return this._push(writeByte,1,0);if(util$7.isString(w)){var oe=Writer$1.alloc(re=base64.length(w));base64.decode(w,oe,0),w=oe}return this.uint32(re)._push(writeBytes,re,w)},Writer$1.prototype.string=function X(w){var re=utf8$1.length(w);return re?this.uint32(re)._push(utf8$1.write,re,w):this._push(writeByte,1,0)},Writer$1.prototype.fork=function X(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function X(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function X(){var w=this.head,re=this.tail,oe=this.len;return this.reset().uint32(oe),oe&&(this.tail.next=w.next,this.tail=re,this.len+=oe),this},Writer$1.prototype.finish=function X(){for(var w=this.head.next,re=this.constructor.alloc(this.len),oe=0;w;)w.fn(w.val,re,oe),oe+=w.len,w=w.next;return re},Writer$1._configure=function(X){BufferWriter$1=X,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$6=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$6._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$6.Buffer&&util$6.Buffer.prototype instanceof Uint8Array&&util$6.Buffer.prototype.set.name==="set"?function(w,re,oe){re.set(w,oe)}:function(w,re,oe){if(w.copy)w.copy(re,oe,0,w.length);else for(var se=0;se<w.length;)re[oe++]=w[se++]}},BufferWriter.prototype.bytes=function X(w){util$6.isString(w)&&(w=util$6._Buffer_from(w,"base64"));var re=w.length>>>0;return this.uint32(re),re&&this._push(BufferWriter.writeBytesBuffer,re,w),this};function writeStringBuffer(X,w,re){X.length<40?util$6.utf8.write(X,w,re):w.utf8Write?w.utf8Write(X,re):w.write(X,re)}BufferWriter.prototype.string=function X(w){var re=util$6.Buffer.byteLength(w);return this.uint32(re),re&&this._push(writeStringBuffer,re,w),this},BufferWriter._configure();var reader=Reader$1,util$5=requireMinimal(),BufferReader$1,LongBits=util$5.LongBits,utf8=util$5.utf8;function indexOutOfRange(X,w){return RangeError("index out of range: "+X.pos+" + "+(w||1)+" > "+X.len)}function Reader$1(X){this.buf=X,this.pos=0,this.len=X.length}var create_array=typeof Uint8Array!="undefined"?function X(w){if(w instanceof Uint8Array||Array.isArray(w))return new Reader$1(w);throw Error("illegal buffer")}:function X(w){if(Array.isArray(w))return new Reader$1(w);throw Error("illegal buffer")},create=function X(){return util$5.Buffer?function(re){return(Reader$1.create=function(se){return util$5.Buffer.isBuffer(se)?new BufferReader$1(se):create_array(se)})(re)}:create_array};Reader$1.create=create(),Reader$1.prototype._slice=util$5.Array.prototype.subarray||util$5.Array.prototype.slice,Reader$1.prototype.uint32=function X(){var w=4294967295;return function(){if(w=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(w=(w|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return w;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return w}}(),Reader$1.prototype.int32=function X(){return this.uint32()|0},Reader$1.prototype.sint32=function X(){var w=this.uint32();return w>>>1^-(w&1)|0};function readLongVarint(){var X=new LongBits(0,0),w=0;if(this.len-this.pos>4){for(;w<4;++w)if(X.lo=(X.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return X;if(X.lo=(X.lo|(this.buf[this.pos]&127)<<28)>>>0,X.hi=(X.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return X;w=0}else{for(;w<3;++w){if(this.pos>=this.len)throw indexOutOfRange(this);if(X.lo=(X.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return X}return X.lo=(X.lo|(this.buf[this.pos++]&127)<<w*7)>>>0,X}if(this.len-this.pos>4){for(;w<5;++w)if(X.hi=(X.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return X}else for(;w<5;++w){if(this.pos>=this.len)throw indexOutOfRange(this);if(X.hi=(X.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return X}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function X(){return this.uint32()!==0};function readFixed32_end(X,w){return(X[w-4]|X[w-3]<<8|X[w-2]<<16|X[w-1]<<24)>>>0}Reader$1.prototype.fixed32=function X(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function X(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function X(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var w=util$5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,w},Reader$1.prototype.double=function X(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var w=util$5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,w},Reader$1.prototype.bytes=function X(){var w=this.uint32(),re=this.pos,oe=this.pos+w;if(oe>this.len)throw indexOutOfRange(this,w);return this.pos+=w,Array.isArray(this.buf)?this.buf.slice(re,oe):re===oe?new this.buf.constructor(0):this._slice.call(this.buf,re,oe)},Reader$1.prototype.string=function X(){var w=this.bytes();return utf8.read(w,0,w.length)},Reader$1.prototype.skip=function X(w){if(typeof w=="number"){if(this.pos+w>this.len)throw indexOutOfRange(this,w);this.pos+=w}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this},Reader$1.prototype.skipType=function(X){switch(X){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(X=this.uint32()&7)!==4;)this.skipType(X);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+X+" at offset "+this.pos)}return this},Reader$1._configure=function(X){BufferReader$1=X,Reader$1.create=create(),BufferReader$1._configure();var w=util$5.Long?"toLong":"toNumber";util$5.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[w](!1)},uint64:function(){return readLongVarint.call(this)[w](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[w](!1)},fixed64:function(){return readFixed64.call(this)[w](!0)},sfixed64:function(){return readFixed64.call(this)[w](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$4=requireMinimal();function BufferReader(X){Reader.call(this,X)}BufferReader._configure=function(){util$4.Buffer&&(BufferReader.prototype._slice=util$4.Buffer.prototype.slice)},BufferReader.prototype.string=function X(){var w=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+w,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+w,this.len))},BufferReader._configure();var rpc={},service$1=Service,util$3=requireMinimal();(Service.prototype=Object.create(util$3.EventEmitter.prototype)).constructor=Service;function Service(X,w,re){if(typeof X!="function")throw TypeError("rpcImpl must be a function");util$3.EventEmitter.call(this),this.rpcImpl=X,this.requestDelimited=Boolean(w),this.responseDelimited=Boolean(re)}Service.prototype.rpcCall=function X(w,re,oe,se,te){if(!se)throw TypeError("request must be specified");var $=this;if(!te)return util$3.asPromise(X,$,w,re,oe,se);if(!$.rpcImpl){setTimeout(function(){te(Error("already ended"))},0);return}try{return $.rpcImpl(w,re[$.requestDelimited?"encodeDelimited":"encode"](se).finish(),function(ie,ne){if(ie)return $.emit("error",ie,w),te(ie);if(ne===null){$.end(!0);return}if(!(ne instanceof oe))try{ne=oe[$.responseDelimited?"decodeDelimited":"decode"](ne)}catch(ae){return $.emit("error",ae,w),te(ae)}return $.emit("data",ne,w),te(null,ne)})}catch(ee){$.emit("error",ee,w),setTimeout(function(){te(ee)},0);return}},Service.prototype.end=function X(w){return this.rpcImpl&&(w||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(X){var w=X;w.Service=service$1}(rpc);var roots={};(function(X){var w=X;w.build="minimal",w.Writer=writer,w.BufferWriter=writer_buffer,w.Reader=reader,w.BufferReader=reader_buffer,w.util=requireMinimal(),w.rpc=rpc,w.roots=roots,w.configure=re;function re(){w.util._configure(),w.Writer._configure(w.BufferWriter),w.Reader._configure(w.BufferReader)}re()})(indexMinimal);var util$2={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=X;function X(w,re){typeof w=="string"&&(re=w,w=void 0);var oe=[];function se($){if(typeof $!="string"){var ee=te();if(X.verbose&&console.log("codegen: "+ee),ee="return "+ee,$){for(var ie=Object.keys($),ne=new Array(ie.length+1),ae=new Array(ie.length),ue=0;ue<ie.length;)ne[ue]=ie[ue],ae[ue]=$[ie[ue++]];return ne[ue]=ee,Function.apply(null,ne).apply(null,ae)}return Function(ee)()}for(var he=new Array(arguments.length-1),fe=0;fe<he.length;)he[fe]=arguments[++fe];if(fe=0,$=$.replace(/%([%dfijs])/g,function(de,me){var ge=he[fe++];switch(me){case"d":case"f":return String(Number(ge));case"i":return String(Math.floor(ge));case"j":return JSON.stringify(ge);case"s":return String(ge)}return"%"}),fe!==he.length)throw Error("parameter count mismatch");return oe.push($),se}function te($){return"function "+($||re||"")+"("+(w&&w.join(",")||"")+`){
  `+oe.join(`
  `)+`
}`}return se.toString=te,se}return X.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=oe;var X=requireAspromise(),w=requireInquire(),re=w("fs");function oe(se,te,$){return typeof te=="function"?($=te,te={}):te||(te={}),$?!te.xhr&&re&&re.readFile?re.readFile(se,function(ie,ne){return ie&&typeof XMLHttpRequest!="undefined"?oe.xhr(se,te,$):ie?$(ie):$(null,te.binary?ne:ne.toString("utf8"))}):oe.xhr(se,te,$):X(oe,this,se,te)}return oe.xhr=function(te,$,ee){var ie=new XMLHttpRequest;ie.onreadystatechange=function(){if(ie.readyState===4){if(ie.status!==0&&ie.status!==200)return ee(Error("status "+ie.status));if($.binary){var ae=ie.response;if(!ae){ae=[];for(var ue=0;ue<ie.responseText.length;++ue)ae.push(ie.responseText.charCodeAt(ue)&255)}return ee(null,typeof Uint8Array!="undefined"?new Uint8Array(ae):ae)}return ee(null,ie.responseText)}},$.binary&&("overrideMimeType"in ie&&ie.overrideMimeType("text/plain; charset=x-user-defined"),ie.responseType="arraybuffer"),ie.open("GET",te),ie.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(X){var w=X,re=w.isAbsolute=function(te){return/^(?:\/|\w+:)/.test(te)},oe=w.normalize=function(te){te=te.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var $=te.split("/"),ee=re(te),ie="";ee&&(ie=$.shift()+"/");for(var ne=0;ne<$.length;)$[ne]===".."?ne>0&&$[ne-1]!==".."?$.splice(--ne,2):ee?$.splice(ne,1):++ne:$[ne]==="."?$.splice(ne,1):++ne;return ie+$.join("/")};w.resolve=function(te,$,ee){return ee||($=oe($)),re($)?$:(ee||(te=oe(te)),(te=te.replace(/(?:\/|^)[^/]+$/,"")).length?oe(te+"/"+$):$)}}(path)),path}var types$1={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(X){var w=X,re=requireUtil(),oe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function se(te,$){var ee=0,ie={};for($|=0;ee<te.length;)ie[oe[ee+$]]=te[ee++];return ie}w.basic=se([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),w.defaults=se([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",re.emptyArray,null]),w.long=se([0,0,0,1,1],7),w.mapKey=se([0,0,0,5,5,0,0,0,1,1,0,2],2),w.packed=se([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$1)),types$1}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=$;var X=requireObject();(($.prototype=Object.create(X.prototype)).constructor=$).className="Field";var w=require_enum(),re=requireTypes(),oe=requireUtil(),se,te=/^required|optional|repeated$/;$.fromJSON=function(ie,ne){return new $(ie,ne.id,ne.type,ne.rule,ne.extend,ne.options,ne.comment)};function $(ee,ie,ne,ae,ue,he,fe){if(oe.isObject(ae)?(fe=ue,he=ae,ae=ue=void 0):oe.isObject(ue)&&(fe=he,he=ue,ue=void 0),X.call(this,ee,he),!oe.isInteger(ie)||ie<0)throw TypeError("id must be a non-negative integer");if(!oe.isString(ne))throw TypeError("type must be a string");if(ae!==void 0&&!te.test(ae=ae.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(ue!==void 0&&!oe.isString(ue))throw TypeError("extend must be a string");ae==="proto3_optional"&&(ae="optional"),this.rule=ae&&ae!=="optional"?ae:void 0,this.type=ne,this.id=ie,this.extend=ue||void 0,this.required=ae==="required",this.optional=!this.required,this.repeated=ae==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=oe.Long?re.long[ne]!==void 0:!1,this.bytes=ne==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=fe}return Object.defineProperty($.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),$.prototype.setOption=function(ie,ne,ae){return ie==="packed"&&(this._packed=null),X.prototype.setOption.call(this,ie,ne,ae)},$.prototype.toJSON=function(ie){var ne=ie?Boolean(ie.keepComments):!1;return oe.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",ne?this.comment:void 0])},$.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=re.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof se?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof w&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof w))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=oe.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var ie;oe.base64.test(this.typeDefault)?oe.base64.decode(this.typeDefault,ie=oe.newBuffer(oe.base64.length(this.typeDefault)),0):oe.utf8.write(this.typeDefault,ie=oe.newBuffer(oe.utf8.length(this.typeDefault)),0),this.typeDefault=ie}return this.map?this.defaultValue=oe.emptyObject:this.repeated?this.defaultValue=oe.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof se&&(this.parent.ctor.prototype[this.name]=this.defaultValue),X.prototype.resolve.call(this)},$.d=function(ie,ne,ae,ue){return typeof ne=="function"?ne=oe.decorateType(ne).name:ne&&typeof ne=="object"&&(ne=oe.decorateEnum(ne).name),function(fe,le){oe.decorateType(fe.constructor).add(new $(le,ie,ne,ae,{default:ue}))}},$._configure=function(ie){se=ie},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=oe;var X=requireObject();((oe.prototype=Object.create(X.prototype)).constructor=oe).className="OneOf";var w=requireField(),re=requireUtil();function oe(te,$,ee,ie){if(Array.isArray($)||(ee=$,$=void 0),X.call(this,te,ee),!($===void 0||Array.isArray($)))throw TypeError("fieldNames must be an Array");this.oneof=$||[],this.fieldsArray=[],this.comment=ie}oe.fromJSON=function($,ee){return new oe($,ee.oneof,ee.options,ee.comment)},oe.prototype.toJSON=function($){var ee=$?Boolean($.keepComments):!1;return re.toObject(["options",this.options,"oneof",this.oneof,"comment",ee?this.comment:void 0])};function se(te){if(te.parent)for(var $=0;$<te.fieldsArray.length;++$)te.fieldsArray[$].parent||te.parent.add(te.fieldsArray[$])}return oe.prototype.add=function($){if(!($ instanceof w))throw TypeError("field must be a Field");return $.parent&&$.parent!==this.parent&&$.parent.remove($),this.oneof.push($.name),this.fieldsArray.push($),$.partOf=this,se(this),this},oe.prototype.remove=function($){if(!($ instanceof w))throw TypeError("field must be a Field");var ee=this.fieldsArray.indexOf($);if(ee<0)throw Error($+" is not a member of "+this);return this.fieldsArray.splice(ee,1),ee=this.oneof.indexOf($.name),ee>-1&&this.oneof.splice(ee,1),$.partOf=null,this},oe.prototype.onAdd=function($){X.prototype.onAdd.call(this,$);for(var ee=this,ie=0;ie<this.oneof.length;++ie){var ne=$.get(this.oneof[ie]);ne&&!ne.partOf&&(ne.partOf=ee,ee.fieldsArray.push(ne))}se(this)},oe.prototype.onRemove=function($){for(var ee=0,ie;ee<this.fieldsArray.length;++ee)(ie=this.fieldsArray[ee]).parent&&ie.parent.remove(ie);X.prototype.onRemove.call(this,$)},oe.d=function(){for(var $=new Array(arguments.length),ee=0;ee<arguments.length;)$[ee]=arguments[ee++];return function(ne,ae){re.decorateType(ne.constructor).add(new oe(ae,$)),Object.defineProperty(ne,ae,{get:re.oneOfGetter($),set:re.oneOfSetter($)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=ie;var X=requireObject();((ie.prototype=Object.create(X.prototype)).constructor=ie).className="Namespace";var w=requireField(),re=requireOneof(),oe=requireUtil(),se,te,$;ie.fromJSON=function(ue,he){return new ie(ue,he.options).addJSON(he.nested)};function ee(ae,ue){if(!!(ae&&ae.length)){for(var he={},fe=0;fe<ae.length;++fe)he[ae[fe].name]=ae[fe].toJSON(ue);return he}}ie.arrayToJSON=ee,ie.isReservedId=function(ue,he){if(ue){for(var fe=0;fe<ue.length;++fe)if(typeof ue[fe]!="string"&&ue[fe][0]<=he&&ue[fe][1]>he)return!0}return!1},ie.isReservedName=function(ue,he){if(ue){for(var fe=0;fe<ue.length;++fe)if(ue[fe]===he)return!0}return!1};function ie(ae,ue){X.call(this,ae,ue),this.nested=void 0,this._nestedArray=null}function ne(ae){return ae._nestedArray=null,ae}return Object.defineProperty(ie.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=oe.toArray(this.nested))}}),ie.prototype.toJSON=function(ue){return oe.toObject(["options",this.options,"nested",ee(this.nestedArray,ue)])},ie.prototype.addJSON=function(ue){var he=this;if(ue)for(var fe=Object.keys(ue),le=0,de;le<fe.length;++le)de=ue[fe[le]],he.add((de.fields!==void 0?se.fromJSON:de.values!==void 0?$.fromJSON:de.methods!==void 0?te.fromJSON:de.id!==void 0?w.fromJSON:ie.fromJSON)(fe[le],de));return this},ie.prototype.get=function(ue){return this.nested&&this.nested[ue]||null},ie.prototype.getEnum=function(ue){if(this.nested&&this.nested[ue]instanceof $)return this.nested[ue].values;throw Error("no such enum: "+ue)},ie.prototype.add=function(ue){if(!(ue instanceof w&&ue.extend!==void 0||ue instanceof se||ue instanceof $||ue instanceof te||ue instanceof ie||ue instanceof re))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var he=this.get(ue.name);if(he)if(he instanceof ie&&ue instanceof ie&&!(he instanceof se||he instanceof te)){for(var fe=he.nestedArray,le=0;le<fe.length;++le)ue.add(fe[le]);this.remove(he),this.nested||(this.nested={}),ue.setOptions(he.options,!0)}else throw Error("duplicate name '"+ue.name+"' in "+this)}return this.nested[ue.name]=ue,ue.onAdd(this),ne(this)},ie.prototype.remove=function(ue){if(!(ue instanceof X))throw TypeError("object must be a ReflectionObject");if(ue.parent!==this)throw Error(ue+" is not a member of "+this);return delete this.nested[ue.name],Object.keys(this.nested).length||(this.nested=void 0),ue.onRemove(this),ne(this)},ie.prototype.define=function(ue,he){if(oe.isString(ue))ue=ue.split(".");else if(!Array.isArray(ue))throw TypeError("illegal path");if(ue&&ue.length&&ue[0]==="")throw Error("path must be relative");for(var fe=this;ue.length>0;){var le=ue.shift();if(fe.nested&&fe.nested[le]){if(fe=fe.nested[le],!(fe instanceof ie))throw Error("path conflicts with non-namespace objects")}else fe.add(fe=new ie(le))}return he&&fe.addJSON(he),fe},ie.prototype.resolveAll=function(){for(var ue=this.nestedArray,he=0;he<ue.length;)ue[he]instanceof ie?ue[he++].resolveAll():ue[he++].resolve();return this.resolve()},ie.prototype.lookup=function(ue,he,fe){if(typeof he=="boolean"?(fe=he,he=void 0):he&&!Array.isArray(he)&&(he=[he]),oe.isString(ue)&&ue.length){if(ue===".")return this.root;ue=ue.split(".")}else if(!ue.length)return this;if(ue[0]==="")return this.root.lookup(ue.slice(1),he);var le=this.get(ue[0]);if(le){if(ue.length===1){if(!he||he.indexOf(le.constructor)>-1)return le}else if(le instanceof ie&&(le=le.lookup(ue.slice(1),he,!0)))return le}else for(var de=0;de<this.nestedArray.length;++de)if(this._nestedArray[de]instanceof ie&&(le=this._nestedArray[de].lookup(ue,he,!0)))return le;return this.parent===null||fe?null:this.parent.lookup(ue,he)},ie.prototype.lookupType=function(ue){var he=this.lookup(ue,[se]);if(!he)throw Error("no such type: "+ue);return he},ie.prototype.lookupEnum=function(ue){var he=this.lookup(ue,[$]);if(!he)throw Error("no such Enum '"+ue+"' in "+this);return he},ie.prototype.lookupTypeOrEnum=function(ue){var he=this.lookup(ue,[se,$]);if(!he)throw Error("no such Type or Enum '"+ue+"' in "+this);return he},ie.prototype.lookupService=function(ue){var he=this.lookup(ue,[te]);if(!he)throw Error("no such Service '"+ue+"' in "+this);return he},ie._configure=function(ae,ue,he){se=ae,te=ue,$=he},namespace}var mapfield=MapField,Field$1=requireField();((MapField.prototype=Object.create(Field$1.prototype)).constructor=MapField).className="MapField";var types=requireTypes(),util$1=requireUtil();function MapField(X,w,re,oe,se,te){if(Field$1.call(this,X,w,oe,void 0,void 0,se,te),!util$1.isString(re))throw TypeError("keyType must be a string");this.keyType=re,this.resolvedKeyType=null,this.map=!0}MapField.fromJSON=function X(w,re){return new MapField(w,re.id,re.keyType,re.type,re.options,re.comment)},MapField.prototype.toJSON=function X(w){var re=w?Boolean(w.keepComments):!1;return util$1.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",re?this.comment:void 0])},MapField.prototype.resolve=function X(){if(this.resolved)return this;if(types.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Field$1.prototype.resolve.call(this)},MapField.d=function X(w,re,oe){return typeof oe=="function"?oe=util$1.decorateType(oe).name:oe&&typeof oe=="object"&&(oe=util$1.decorateEnum(oe).name),function(te,$){util$1.decorateType(te.constructor).add(new MapField($,w,re,oe))}};var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=re;var X=requireObject();((re.prototype=Object.create(X.prototype)).constructor=re).className="Method";var w=requireUtil();function re(oe,se,te,$,ee,ie,ne,ae,ue){if(w.isObject(ee)?(ne=ee,ee=ie=void 0):w.isObject(ie)&&(ne=ie,ie=void 0),!(se===void 0||w.isString(se)))throw TypeError("type must be a string");if(!w.isString(te))throw TypeError("requestType must be a string");if(!w.isString($))throw TypeError("responseType must be a string");X.call(this,oe,ne),this.type=se||"rpc",this.requestType=te,this.requestStream=ee?!0:void 0,this.responseType=$,this.responseStream=ie?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=ae,this.parsedOptions=ue}return re.fromJSON=function(se,te){return new re(se,te.type,te.requestType,te.responseType,te.requestStream,te.responseStream,te.options,te.comment,te.parsedOptions)},re.prototype.toJSON=function(se){var te=se?Boolean(se.keepComments):!1;return w.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",te?this.comment:void 0,"parsedOptions",this.parsedOptions])},re.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),X.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=se;var X=requireNamespace();((se.prototype=Object.create(X.prototype)).constructor=se).className="Service";var w=requireMethod(),re=requireUtil(),oe=rpc;function se($,ee){X.call(this,$,ee),this.methods={},this._methodsArray=null}se.fromJSON=function(ee,ie){var ne=new se(ee,ie.options);if(ie.methods)for(var ae=Object.keys(ie.methods),ue=0;ue<ae.length;++ue)ne.add(w.fromJSON(ae[ue],ie.methods[ae[ue]]));return ie.nested&&ne.addJSON(ie.nested),ne.comment=ie.comment,ne},se.prototype.toJSON=function(ee){var ie=X.prototype.toJSON.call(this,ee),ne=ee?Boolean(ee.keepComments):!1;return re.toObject(["options",ie&&ie.options||void 0,"methods",X.arrayToJSON(this.methodsArray,ee)||{},"nested",ie&&ie.nested||void 0,"comment",ne?this.comment:void 0])},Object.defineProperty(se.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=re.toArray(this.methods))}});function te($){return $._methodsArray=null,$}return se.prototype.get=function(ee){return this.methods[ee]||X.prototype.get.call(this,ee)},se.prototype.resolveAll=function(){for(var ee=this.methodsArray,ie=0;ie<ee.length;++ie)ee[ie].resolve();return X.prototype.resolve.call(this)},se.prototype.add=function(ee){if(this.get(ee.name))throw Error("duplicate name '"+ee.name+"' in "+this);return ee instanceof w?(this.methods[ee.name]=ee,ee.parent=this,te(this)):X.prototype.add.call(this,ee)},se.prototype.remove=function(ee){if(ee instanceof w){if(this.methods[ee.name]!==ee)throw Error(ee+" is not a member of "+this);return delete this.methods[ee.name],ee.parent=null,te(this)}return X.prototype.remove.call(this,ee)},se.prototype.create=function(ee,ie,ne){for(var ae=new oe.Service(ee,ie,ne),ue=0,he;ue<this.methodsArray.length;++ue){var fe=re.lcFirst((he=this._methodsArray[ue]).resolve().name).replace(/[^$\w_]/g,"");ae[fe]=re.codegen(["r","c"],re.isReserved(fe)?fe+"_":fe)("return this.rpcCall(m,q,s,r,c)")({m:he,q:he.resolvedRequestType.ctor,s:he.resolvedResponseType.ctor})}return ae},service}var message=Message$1,util=requireMinimal();function Message$1(X){if(X)for(var w=Object.keys(X),re=0;re<w.length;++re)this[w[re]]=X[w[re]]}Message$1.create=function X(w){return this.$type.create(w)},Message$1.encode=function X(w,re){return this.$type.encode(w,re)},Message$1.encodeDelimited=function X(w,re){return this.$type.encodeDelimited(w,re)},Message$1.decode=function X(w){return this.$type.decode(w)},Message$1.decodeDelimited=function X(w){return this.$type.decodeDelimited(w)},Message$1.verify=function X(w){return this.$type.verify(w)},Message$1.fromObject=function X(w){return this.$type.fromObject(w)},Message$1.toObject=function X(w,re){return this.$type.toObject(w,re)},Message$1.prototype.toJSON=function X(){return this.$type.toObject(this,util.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=se;var X=require_enum(),w=requireTypes(),re=requireUtil();function oe(te){return"missing required '"+te.name+"'"}function se(te){var $=re.codegen(["r","l"],te.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(te.fieldsArray.filter(function(he){return he.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");te.group&&$("if((t&7)===4)")("break"),$("switch(t>>>3){");for(var ee=0;ee<te.fieldsArray.length;++ee){var ie=te._fieldsArray[ee].resolve(),ne=ie.resolvedType instanceof X?"int32":ie.type,ae="m"+re.safeProp(ie.name);$("case %i:",ie.id),ie.map?($("if(%s===util.emptyObject)",ae)("%s={}",ae)("var c2 = r.uint32()+r.pos"),w.defaults[ie.keyType]!==void 0?$("k=%j",w.defaults[ie.keyType]):$("k=null"),w.defaults[ne]!==void 0?$("value=%j",w.defaults[ne]):$("value=null"),$("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",ie.keyType)("case 2:"),w.basic[ne]===void 0?$("value=types[%i].decode(r,r.uint32())",ee):$("value=r.%s()",ne),$("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),w.long[ie.keyType]!==void 0?$('%s[typeof k==="object"?util.longToHash(k):k]=value',ae):$("%s[k]=value",ae)):ie.repeated?($("if(!(%s&&%s.length))",ae,ae)("%s=[]",ae),w.packed[ne]!==void 0&&$("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",ae,ne)("}else"),w.basic[ne]===void 0?$(ie.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",ae,ee):$("%s.push(r.%s())",ae,ne)):w.basic[ne]===void 0?$(ie.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",ae,ee):$("%s=r.%s()",ae,ne),$("break")}for($("default:")("r.skipType(t&7)")("break")("}")("}"),ee=0;ee<te._fieldsArray.length;++ee){var ue=te._fieldsArray[ee];ue.required&&$("if(!m.hasOwnProperty(%j))",ue.name)("throw util.ProtocolError(%j,{instance:m})",oe(ue))}return $("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=te;var X=require_enum(),w=requireUtil();function re($,ee){return $.name+": "+ee+($.repeated&&ee!=="array"?"[]":$.map&&ee!=="object"?"{k:"+$.keyType+"}":"")+" expected"}function oe($,ee,ie,ne){if(ee.resolvedType)if(ee.resolvedType instanceof X){$("switch(%s){",ne)("default:")("return%j",re(ee,"enum value"));for(var ae=Object.keys(ee.resolvedType.values),ue=0;ue<ae.length;++ue)$("case %i:",ee.resolvedType.values[ae[ue]]);$("break")("}")}else $("{")("var e=types[%i].verify(%s);",ie,ne)("if(e)")("return%j+e",ee.name+".")("}");else switch(ee.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":$("if(!util.isInteger(%s))",ne)("return%j",re(ee,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":$("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",ne,ne,ne,ne)("return%j",re(ee,"integer|Long"));break;case"float":case"double":$('if(typeof %s!=="number")',ne)("return%j",re(ee,"number"));break;case"bool":$('if(typeof %s!=="boolean")',ne)("return%j",re(ee,"boolean"));break;case"string":$("if(!util.isString(%s))",ne)("return%j",re(ee,"string"));break;case"bytes":$('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',ne,ne,ne)("return%j",re(ee,"buffer"));break}return $}function se($,ee,ie){switch(ee.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":$("if(!util.key32Re.test(%s))",ie)("return%j",re(ee,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":$("if(!util.key64Re.test(%s))",ie)("return%j",re(ee,"integer|Long key"));break;case"bool":$("if(!util.key2Re.test(%s))",ie)("return%j",re(ee,"boolean key"));break}return $}function te($){var ee=w.codegen(["m"],$.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),ie=$.oneofsArray,ne={};ie.length&&ee("var p={}");for(var ae=0;ae<$.fieldsArray.length;++ae){var ue=$._fieldsArray[ae].resolve(),he="m"+w.safeProp(ue.name);if(ue.optional&&ee("if(%s!=null&&m.hasOwnProperty(%j)){",he,ue.name),ue.map)ee("if(!util.isObject(%s))",he)("return%j",re(ue,"object"))("var k=Object.keys(%s)",he)("for(var i=0;i<k.length;++i){"),se(ee,ue,"k[i]"),oe(ee,ue,ae,he+"[k[i]]")("}");else if(ue.repeated)ee("if(!Array.isArray(%s))",he)("return%j",re(ue,"array"))("for(var i=0;i<%s.length;++i){",he),oe(ee,ue,ae,he+"[i]")("}");else{if(ue.partOf){var fe=w.safeProp(ue.partOf.name);ne[ue.partOf.name]===1&&ee("if(p%s===1)",fe)("return%j",ue.partOf.name+": multiple values"),ne[ue.partOf.name]=1,ee("p%s=1",fe)}oe(ee,ue,ae,he)}ue.optional&&ee("}")}return ee("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(X){var w=X,re=require_enum(),oe=requireUtil();function se($,ee,ie,ne){if(ee.resolvedType)if(ee.resolvedType instanceof re){$("switch(d%s){",ne);for(var ae=ee.resolvedType.values,ue=Object.keys(ae),he=0;he<ue.length;++he)ee.repeated&&ae[ue[he]]===ee.typeDefault&&$("default:"),$("case%j:",ue[he])("case %i:",ae[ue[he]])("m%s=%j",ne,ae[ue[he]])("break");$("}")}else $('if(typeof d%s!=="object")',ne)("throw TypeError(%j)",ee.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",ne,ie,ne);else{var fe=!1;switch(ee.type){case"double":case"float":$("m%s=Number(d%s)",ne,ne);break;case"uint32":case"fixed32":$("m%s=d%s>>>0",ne,ne);break;case"int32":case"sint32":case"sfixed32":$("m%s=d%s|0",ne,ne);break;case"uint64":fe=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":$("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",ne,ne,fe)('else if(typeof d%s==="string")',ne)("m%s=parseInt(d%s,10)",ne,ne)('else if(typeof d%s==="number")',ne)("m%s=d%s",ne,ne)('else if(typeof d%s==="object")',ne)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",ne,ne,ne,fe?"true":"");break;case"bytes":$('if(typeof d%s==="string")',ne)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",ne,ne,ne)("else if(d%s.length)",ne)("m%s=d%s",ne,ne);break;case"string":$("m%s=String(d%s)",ne,ne);break;case"bool":$("m%s=Boolean(d%s)",ne,ne);break}}return $}w.fromObject=function(ee){var ie=ee.fieldsArray,ne=oe.codegen(["d"],ee.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!ie.length)return ne("return new this.ctor");ne("var m=new this.ctor");for(var ae=0;ae<ie.length;++ae){var ue=ie[ae].resolve(),he=oe.safeProp(ue.name);ue.map?(ne("if(d%s){",he)('if(typeof d%s!=="object")',he)("throw TypeError(%j)",ue.fullName+": object expected")("m%s={}",he)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",he),se(ne,ue,ae,he+"[ks[i]]")("}")("}")):ue.repeated?(ne("if(d%s){",he)("if(!Array.isArray(d%s))",he)("throw TypeError(%j)",ue.fullName+": array expected")("m%s=[]",he)("for(var i=0;i<d%s.length;++i){",he),se(ne,ue,ae,he+"[i]")("}")("}")):(ue.resolvedType instanceof re||ne("if(d%s!=null){",he),se(ne,ue,ae,he),ue.resolvedType instanceof re||ne("}"))}return ne("return m")};function te($,ee,ie,ne){if(ee.resolvedType)ee.resolvedType instanceof re?$("d%s=o.enums===String?types[%i].values[m%s]:m%s",ne,ie,ne,ne):$("d%s=types[%i].toObject(m%s,o)",ne,ie,ne);else{var ae=!1;switch(ee.type){case"double":case"float":$("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",ne,ne,ne,ne);break;case"uint64":ae=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":$('if(typeof m%s==="number")',ne)("d%s=o.longs===String?String(m%s):m%s",ne,ne,ne)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",ne,ne,ne,ne,ae?"true":"",ne);break;case"bytes":$("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",ne,ne,ne,ne,ne);break;default:$("d%s=m%s",ne,ne);break}}return $}w.toObject=function(ee){var ie=ee.fieldsArray.slice().sort(oe.compareFieldsById);if(!ie.length)return oe.codegen()("return {}");for(var ne=oe.codegen(["m","o"],ee.name+"$toObject")("if(!o)")("o={}")("var d={}"),ae=[],ue=[],he=[],fe=0;fe<ie.length;++fe)ie[fe].partOf||(ie[fe].resolve().repeated?ae:ie[fe].map?ue:he).push(ie[fe]);if(ae.length){for(ne("if(o.arrays||o.defaults){"),fe=0;fe<ae.length;++fe)ne("d%s=[]",oe.safeProp(ae[fe].name));ne("}")}if(ue.length){for(ne("if(o.objects||o.defaults){"),fe=0;fe<ue.length;++fe)ne("d%s={}",oe.safeProp(ue[fe].name));ne("}")}if(he.length){for(ne("if(o.defaults){"),fe=0;fe<he.length;++fe){var le=he[fe],de=oe.safeProp(le.name);if(le.resolvedType instanceof re)ne("d%s=o.enums===String?%j:%j",de,le.resolvedType.valuesById[le.typeDefault],le.typeDefault);else if(le.long)ne("if(util.Long){")("var n=new util.Long(%i,%i,%j)",le.typeDefault.low,le.typeDefault.high,le.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",de)("}else")("d%s=o.longs===String?%j:%i",de,le.typeDefault.toString(),le.typeDefault.toNumber());else if(le.bytes){var me="["+Array.prototype.slice.call(le.typeDefault).join(",")+"]";ne("if(o.bytes===String)d%s=%j",de,String.fromCharCode.apply(String,le.typeDefault))("else{")("d%s=%s",de,me)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",de,de)("}")}else ne("d%s=%j",de,le.typeDefault)}ne("}")}var ge=!1;for(fe=0;fe<ie.length;++fe){var le=ie[fe],ce=ee._fieldsArray.indexOf(le),de=oe.safeProp(le.name);le.map?(ge||(ge=!0,ne("var ks2")),ne("if(m%s&&(ks2=Object.keys(m%s)).length){",de,de)("d%s={}",de)("for(var j=0;j<ks2.length;++j){"),te(ne,le,ce,de+"[ks2[j]]")("}")):le.repeated?(ne("if(m%s&&m%s.length){",de,de)("d%s=[]",de)("for(var j=0;j<m%s.length;++j){",de),te(ne,le,ce,de+"[j]")("}")):(ne("if(m%s!=null&&m.hasOwnProperty(%j)){",de,le.name),te(ne,le,ce,de),le.partOf&&ne("if(o.oneofs)")("d%s=%j",oe.safeProp(le.partOf.name),le.name)),ne("}")}return ne("return d")}}(converter)),converter}var wrappers={};(function(X){var w=X,re=message;w[".google.protobuf.Any"]={fromObject:function(oe){if(oe&&oe["@type"]){var se=oe["@type"].substring(oe["@type"].lastIndexOf("/")+1),te=this.lookup(se);if(te){var $=oe["@type"].charAt(0)==="."?oe["@type"].substr(1):oe["@type"];return $.indexOf("/")===-1&&($="/"+$),this.create({type_url:$,value:te.encode(te.fromObject(oe)).finish()})}}return this.fromObject(oe)},toObject:function(oe,se){var te="type.googleapis.com/",$="",ee="";if(se&&se.json&&oe.type_url&&oe.value){ee=oe.type_url.substring(oe.type_url.lastIndexOf("/")+1),$=oe.type_url.substring(0,oe.type_url.lastIndexOf("/")+1);var ie=this.lookup(ee);ie&&(oe=ie.decode(oe.value))}if(!(oe instanceof this.ctor)&&oe instanceof re){var ne=oe.$type.toObject(oe,se),ae=oe.$type.fullName[0]==="."?oe.$type.fullName.substr(1):oe.$type.fullName;return $===""&&($=te),ee=$+ae,ne["@type"]=ee,ne}return this.toObject(oe,se)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=de;var X=requireNamespace();((de.prototype=Object.create(X.prototype)).constructor=de).className="Type";var w=require_enum(),re=requireOneof(),oe=requireField(),se=mapfield,te=requireService(),$=message,ee=reader,ie=writer,ne=requireUtil(),ae=requireEncoder(),ue=requireDecoder(),he=requireVerifier(),fe=requireConverter(),le=wrappers;function de(ge,ce){X.call(this,ge,ce),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(de.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var ge=Object.keys(this.fields),ce=0;ce<ge.length;++ce){var pe=this.fields[ge[ce]],ye=pe.id;if(this._fieldsById[ye])throw Error("duplicate id "+ye+" in "+this);this._fieldsById[ye]=pe}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=ne.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=ne.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=de.generateConstructor(this)())},set:function(ge){var ce=ge.prototype;ce instanceof $||((ge.prototype=new $).constructor=ge,ne.merge(ge.prototype,ce)),ge.$type=ge.prototype.$type=this,ne.merge(ge,$,!0),this._ctor=ge;for(var pe=0;pe<this.fieldsArray.length;++pe)this._fieldsArray[pe].resolve();var ye={};for(pe=0;pe<this.oneofsArray.length;++pe)ye[this._oneofsArray[pe].resolve().name]={get:ne.oneOfGetter(this._oneofsArray[pe].oneof),set:ne.oneOfSetter(this._oneofsArray[pe].oneof)};pe&&Object.defineProperties(ge.prototype,ye)}}}),de.generateConstructor=function(ce){for(var pe=ne.codegen(["p"],ce.name),ye=0,we;ye<ce.fieldsArray.length;++ye)(we=ce._fieldsArray[ye]).map?pe("this%s={}",ne.safeProp(we.name)):we.repeated&&pe("this%s=[]",ne.safeProp(we.name));return pe("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function me(ge){return ge._fieldsById=ge._fieldsArray=ge._oneofsArray=null,delete ge.encode,delete ge.decode,delete ge.verify,ge}return de.fromJSON=function(ce,pe){var ye=new de(ce,pe.options);ye.extensions=pe.extensions,ye.reserved=pe.reserved;for(var we=Object.keys(pe.fields),ve=0;ve<we.length;++ve)ye.add((typeof pe.fields[we[ve]].keyType!="undefined"?se.fromJSON:oe.fromJSON)(we[ve],pe.fields[we[ve]]));if(pe.oneofs)for(we=Object.keys(pe.oneofs),ve=0;ve<we.length;++ve)ye.add(re.fromJSON(we[ve],pe.oneofs[we[ve]]));if(pe.nested)for(we=Object.keys(pe.nested),ve=0;ve<we.length;++ve){var $e=pe.nested[we[ve]];ye.add(($e.id!==void 0?oe.fromJSON:$e.fields!==void 0?de.fromJSON:$e.values!==void 0?w.fromJSON:$e.methods!==void 0?te.fromJSON:X.fromJSON)(we[ve],$e))}return pe.extensions&&pe.extensions.length&&(ye.extensions=pe.extensions),pe.reserved&&pe.reserved.length&&(ye.reserved=pe.reserved),pe.group&&(ye.group=!0),pe.comment&&(ye.comment=pe.comment),ye},de.prototype.toJSON=function(ce){var pe=X.prototype.toJSON.call(this,ce),ye=ce?Boolean(ce.keepComments):!1;return ne.toObject(["options",pe&&pe.options||void 0,"oneofs",X.arrayToJSON(this.oneofsArray,ce),"fields",X.arrayToJSON(this.fieldsArray.filter(function(we){return!we.declaringField}),ce)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",pe&&pe.nested||void 0,"comment",ye?this.comment:void 0])},de.prototype.resolveAll=function(){for(var ce=this.fieldsArray,pe=0;pe<ce.length;)ce[pe++].resolve();var ye=this.oneofsArray;for(pe=0;pe<ye.length;)ye[pe++].resolve();return X.prototype.resolveAll.call(this)},de.prototype.get=function(ce){return this.fields[ce]||this.oneofs&&this.oneofs[ce]||this.nested&&this.nested[ce]||null},de.prototype.add=function(ce){if(this.get(ce.name))throw Error("duplicate name '"+ce.name+"' in "+this);if(ce instanceof oe&&ce.extend===void 0){if(this._fieldsById?this._fieldsById[ce.id]:this.fieldsById[ce.id])throw Error("duplicate id "+ce.id+" in "+this);if(this.isReservedId(ce.id))throw Error("id "+ce.id+" is reserved in "+this);if(this.isReservedName(ce.name))throw Error("name '"+ce.name+"' is reserved in "+this);return ce.parent&&ce.parent.remove(ce),this.fields[ce.name]=ce,ce.message=this,ce.onAdd(this),me(this)}return ce instanceof re?(this.oneofs||(this.oneofs={}),this.oneofs[ce.name]=ce,ce.onAdd(this),me(this)):X.prototype.add.call(this,ce)},de.prototype.remove=function(ce){if(ce instanceof oe&&ce.extend===void 0){if(!this.fields||this.fields[ce.name]!==ce)throw Error(ce+" is not a member of "+this);return delete this.fields[ce.name],ce.parent=null,ce.onRemove(this),me(this)}if(ce instanceof re){if(!this.oneofs||this.oneofs[ce.name]!==ce)throw Error(ce+" is not a member of "+this);return delete this.oneofs[ce.name],ce.parent=null,ce.onRemove(this),me(this)}return X.prototype.remove.call(this,ce)},de.prototype.isReservedId=function(ce){return X.isReservedId(this.reserved,ce)},de.prototype.isReservedName=function(ce){return X.isReservedName(this.reserved,ce)},de.prototype.create=function(ce){return new this.ctor(ce)},de.prototype.setup=function(){for(var ce=this.fullName,pe=[],ye=0;ye<this.fieldsArray.length;++ye)pe.push(this._fieldsArray[ye].resolve().resolvedType);this.encode=ae(this)({Writer:ie,types:pe,util:ne}),this.decode=ue(this)({Reader:ee,types:pe,util:ne}),this.verify=he(this)({types:pe,util:ne}),this.fromObject=fe.fromObject(this)({types:pe,util:ne}),this.toObject=fe.toObject(this)({types:pe,util:ne});var we=le[ce];if(we){var ve=Object.create(this);ve.fromObject=this.fromObject,this.fromObject=we.fromObject.bind(ve),ve.toObject=this.toObject,this.toObject=we.toObject.bind(ve)}return this},de.prototype.encode=function(ce,pe){return this.setup().encode(ce,pe)},de.prototype.encodeDelimited=function(ce,pe){return this.encode(ce,pe&&pe.len?pe.fork():pe).ldelim()},de.prototype.decode=function(ce,pe){return this.setup().decode(ce,pe)},de.prototype.decodeDelimited=function(ce){return ce instanceof ee||(ce=ee.create(ce)),this.decode(ce,ce.uint32())},de.prototype.verify=function(ce){return this.setup().verify(ce)},de.prototype.fromObject=function(ce){return this.setup().fromObject(ce)},de.prototype.toObject=function(ce,pe){return this.setup().toObject(ce,pe)},de.d=function(ce){return function(ye){ne.decorateType(ye,ce)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=ie;var X=requireNamespace();((ie.prototype=Object.create(X.prototype)).constructor=ie).className="Root";var w=requireField(),re=require_enum(),oe=requireOneof(),se=requireUtil(),te,$,ee;function ie(he){X.call(this,"",he),this.deferred=[],this.files=[]}ie.fromJSON=function(fe,le){return le||(le=new ie),fe.options&&le.setOptions(fe.options),le.addJSON(fe.nested)},ie.prototype.resolvePath=se.path.resolve,ie.prototype.fetch=se.fetch;function ne(){}ie.prototype.load=function he(fe,le,de){typeof le=="function"&&(de=le,le=void 0);var me=this;if(!de)return se.asPromise(he,me,fe,le);var ge=de===ne;function ce(Oe,_e){if(!!de){var Le=de;if(de=null,ge)throw Oe;Le(Oe,_e)}}function pe(Oe){var _e=Oe.lastIndexOf("google/protobuf/");if(_e>-1){var Le=Oe.substring(_e);if(Le in ee)return Le}return null}function ye(Oe,_e){try{if(se.isString(_e)&&_e.charAt(0)==="{"&&(_e=JSON.parse(_e)),!se.isString(_e))me.setOptions(_e.options).addJSON(_e.nested);else{$.filename=Oe;var Le=$(_e,me,le),Re,be=0;if(Le.imports)for(;be<Le.imports.length;++be)(Re=pe(Le.imports[be])||me.resolvePath(Oe,Le.imports[be]))&&we(Re);if(Le.weakImports)for(be=0;be<Le.weakImports.length;++be)(Re=pe(Le.weakImports[be])||me.resolvePath(Oe,Le.weakImports[be]))&&we(Re,!0)}}catch(qe){ce(qe)}!ge&&!ve&&ce(null,me)}function we(Oe,_e){if(!(me.files.indexOf(Oe)>-1)){if(me.files.push(Oe),Oe in ee){ge?ye(Oe,ee[Oe]):(++ve,setTimeout(function(){--ve,ye(Oe,ee[Oe])}));return}if(ge){var Le;try{Le=se.fs.readFileSync(Oe).toString("utf8")}catch(Re){_e||ce(Re);return}ye(Oe,Le)}else++ve,me.fetch(Oe,function(Re,be){if(--ve,!!de){if(Re){_e?ve||ce(null,me):ce(Re);return}ye(Oe,be)}})}}var ve=0;se.isString(fe)&&(fe=[fe]);for(var $e=0,Fe;$e<fe.length;++$e)(Fe=me.resolvePath("",fe[$e]))&&we(Fe);if(ge)return me;ve||ce(null,me)},ie.prototype.loadSync=function(fe,le){if(!se.isNode)throw Error("not supported");return this.load(fe,le,ne)},ie.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(fe){return"'extend "+fe.extend+"' in "+fe.parent.fullName}).join(", "));return X.prototype.resolveAll.call(this)};var ae=/^[A-Z]/;function ue(he,fe){var le=fe.parent.lookup(fe.extend);if(le){var de=new w(fe.fullName,fe.id,fe.type,fe.rule,void 0,fe.options);return de.declaringField=fe,fe.extensionField=de,le.add(de),!0}return!1}return ie.prototype._handleAdd=function(fe){if(fe instanceof w)fe.extend!==void 0&&!fe.extensionField&&(ue(this,fe)||this.deferred.push(fe));else if(fe instanceof re)ae.test(fe.name)&&(fe.parent[fe.name]=fe.values);else if(!(fe instanceof oe)){if(fe instanceof te)for(var le=0;le<this.deferred.length;)ue(this,this.deferred[le])?this.deferred.splice(le,1):++le;for(var de=0;de<fe.nestedArray.length;++de)this._handleAdd(fe._nestedArray[de]);ae.test(fe.name)&&(fe.parent[fe.name]=fe)}},ie.prototype._handleRemove=function(fe){if(fe instanceof w){if(fe.extend!==void 0)if(fe.extensionField)fe.extensionField.parent.remove(fe.extensionField),fe.extensionField=null;else{var le=this.deferred.indexOf(fe);le>-1&&this.deferred.splice(le,1)}}else if(fe instanceof re)ae.test(fe.name)&&delete fe.parent[fe.name];else if(fe instanceof X){for(var de=0;de<fe.nestedArray.length;++de)this._handleRemove(fe._nestedArray[de]);ae.test(fe.name)&&delete fe.parent[fe.name]}},ie._configure=function(he,fe,le){te=he,$=fe,ee=le},root}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(X){var w=X.exports=requireMinimal(),re=roots,oe,se;w.codegen=requireCodegen(),w.fetch=requireFetch(),w.path=requirePath(),w.fs=w.inquire("fs"),w.toArray=function(ae){if(ae){for(var ue=Object.keys(ae),he=new Array(ue.length),fe=0;fe<ue.length;)he[fe]=ae[ue[fe++]];return he}return[]},w.toObject=function(ae){for(var ue={},he=0;he<ae.length;){var fe=ae[he++],le=ae[he++];le!==void 0&&(ue[fe]=le)}return ue};var te=/\\/g,$=/"/g;w.isReserved=function(ae){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(ae)},w.safeProp=function(ae){return!/^[$\w_]+$/.test(ae)||w.isReserved(ae)?'["'+ae.replace(te,"\\\\").replace($,'\\"')+'"]':"."+ae},w.ucFirst=function(ae){return ae.charAt(0).toUpperCase()+ae.substring(1)};var ee=/_([a-z])/g;w.camelCase=function(ae){return ae.substring(0,1)+ae.substring(1).replace(ee,function(ue,he){return he.toUpperCase()})},w.compareFieldsById=function(ae,ue){return ae.id-ue.id},w.decorateType=function(ae,ue){if(ae.$type)return ue&&ae.$type.name!==ue&&(w.decorateRoot.remove(ae.$type),ae.$type.name=ue,w.decorateRoot.add(ae.$type)),ae.$type;oe||(oe=requireType());var he=new oe(ue||ae.name);return w.decorateRoot.add(he),he.ctor=ae,Object.defineProperty(ae,"$type",{value:he,enumerable:!1}),Object.defineProperty(ae.prototype,"$type",{value:he,enumerable:!1}),he};var ie=0;w.decorateEnum=function(ae){if(ae.$type)return ae.$type;se||(se=require_enum());var ue=new se("Enum"+ie++,ae);return w.decorateRoot.add(ue),Object.defineProperty(ae,"$type",{value:ue,enumerable:!1}),ue},w.setProperty=function(ae,ue,he){function fe(le,de,me){var ge=de.shift();if(de.length>0)le[ge]=fe(le[ge]||{},de,me);else{var ce=le[ge];ce&&(me=[].concat(ce).concat(me)),le[ge]=me}return le}if(typeof ae!="object")throw TypeError("dst must be an object");if(!ue)throw TypeError("path must be specified");return ue=ue.split("."),fe(ae,ue,he)},Object.defineProperty(w,"decorateRoot",{get:function(){return re.decorated||(re.decorated=new(requireRoot()))}})}(util$2)),util$2.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=re,re.className="ReflectionObject";var X=requireUtil(),w;function re(oe,se){if(!X.isString(oe))throw TypeError("name must be a string");if(se&&!X.isObject(se))throw TypeError("options must be an object");this.options=se,this.parsedOptions=null,this.name=oe,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(re.prototype,{root:{get:function(){for(var oe=this;oe.parent!==null;)oe=oe.parent;return oe}},fullName:{get:function(){for(var oe=[this.name],se=this.parent;se;)oe.unshift(se.name),se=se.parent;return oe.join(".")}}}),re.prototype.toJSON=function(){throw Error()},re.prototype.onAdd=function(se){this.parent&&this.parent!==se&&this.parent.remove(this),this.parent=se,this.resolved=!1;var te=se.root;te instanceof w&&te._handleAdd(this)},re.prototype.onRemove=function(se){var te=se.root;te instanceof w&&te._handleRemove(this),this.parent=null,this.resolved=!1},re.prototype.resolve=function(){return this.resolved?this:(this.root instanceof w&&(this.resolved=!0),this)},re.prototype.getOption=function(se){if(this.options)return this.options[se]},re.prototype.setOption=function(se,te,$){return(!$||!this.options||this.options[se]===void 0)&&((this.options||(this.options={}))[se]=te),this},re.prototype.setParsedOption=function(se,te,$){this.parsedOptions||(this.parsedOptions=[]);var ee=this.parsedOptions;if($){var ie=ee.find(function(ue){return Object.prototype.hasOwnProperty.call(ue,se)});if(ie){var ne=ie[se];X.setProperty(ne,$,te)}else ie={},ie[se]=X.setProperty({},$,te),ee.push(ie)}else{var ae={};ae[se]=te,ee.push(ae)}return this},re.prototype.setOptions=function(se,te){if(se)for(var $=Object.keys(se),ee=0;ee<$.length;++ee)this.setOption($[ee],se[$[ee]],te);return this},re.prototype.toString=function(){var se=this.constructor.className,te=this.fullName;return te.length?se+" "+te:se},re._configure=function(oe){w=oe},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=oe;var X=requireObject();((oe.prototype=Object.create(X.prototype)).constructor=oe).className="Enum";var w=requireNamespace(),re=requireUtil();function oe(se,te,$,ee,ie){if(X.call(this,se,$),te&&typeof te!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=ee,this.comments=ie||{},this.reserved=void 0,te)for(var ne=Object.keys(te),ae=0;ae<ne.length;++ae)typeof te[ne[ae]]=="number"&&(this.valuesById[this.values[ne[ae]]=te[ne[ae]]]=ne[ae])}return oe.fromJSON=function(te,$){var ee=new oe(te,$.values,$.options,$.comment,$.comments);return ee.reserved=$.reserved,ee},oe.prototype.toJSON=function(te){var $=te?Boolean(te.keepComments):!1;return re.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",$?this.comment:void 0,"comments",$?this.comments:void 0])},oe.prototype.add=function(te,$,ee){if(!re.isString(te))throw TypeError("name must be a string");if(!re.isInteger($))throw TypeError("id must be an integer");if(this.values[te]!==void 0)throw Error("duplicate name '"+te+"' in "+this);if(this.isReservedId($))throw Error("id "+$+" is reserved in "+this);if(this.isReservedName(te))throw Error("name '"+te+"' is reserved in "+this);if(this.valuesById[$]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+$+" in "+this);this.values[te]=$}else this.valuesById[this.values[te]=$]=te;return this.comments[te]=ee||null,this},oe.prototype.remove=function(te){if(!re.isString(te))throw TypeError("name must be a string");var $=this.values[te];if($==null)throw Error("name '"+te+"' does not exist in "+this);return delete this.valuesById[$],delete this.values[te],delete this.comments[te],this},oe.prototype.isReservedId=function(te){return w.isReservedId(this.reserved,te)},oe.prototype.isReservedName=function(te){return w.isReservedName(this.reserved,te)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=se;var X=require_enum(),w=requireTypes(),re=requireUtil();function oe(te,$,ee,ie){return $.resolvedType.group?te("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",ee,ie,($.id<<3|3)>>>0,($.id<<3|4)>>>0):te("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",ee,ie,($.id<<3|2)>>>0)}function se(te){for(var $=re.codegen(["m","w"],te.name+"$encode")("if(!w)")("w=Writer.create()"),ee,ie,ne=te.fieldsArray.slice().sort(re.compareFieldsById),ee=0;ee<ne.length;++ee){var ae=ne[ee].resolve(),ue=te._fieldsArray.indexOf(ae),he=ae.resolvedType instanceof X?"int32":ae.type,fe=w.basic[he];ie="m"+re.safeProp(ae.name),ae.map?($("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",ie,ae.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",ie)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(ae.id<<3|2)>>>0,8|w.mapKey[ae.keyType],ae.keyType),fe===void 0?$("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",ue,ie):$(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|fe,he,ie),$("}")("}")):ae.repeated?($("if(%s!=null&&%s.length){",ie,ie),ae.packed&&w.packed[he]!==void 0?$("w.uint32(%i).fork()",(ae.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",ie)("w.%s(%s[i])",he,ie)("w.ldelim()"):($("for(var i=0;i<%s.length;++i)",ie),fe===void 0?oe($,ae,ue,ie+"[i]"):$("w.uint32(%i).%s(%s[i])",(ae.id<<3|fe)>>>0,he,ie)),$("}")):(ae.optional&&$("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",ie,ae.name),fe===void 0?oe($,ae,ue,ie):$("w.uint32(%i).%s(%s)",(ae.id<<3|fe)>>>0,he,ie))}return $("return w")}return encoder_1}(function(X){var w=X.exports=indexMinimal;w.build="light";function re(se,te,$){return typeof te=="function"?($=te,te=new w.Root):te||(te=new w.Root),te.load(se,$)}w.load=re;function oe(se,te){return te||(te=new w.Root),te.loadSync(se)}w.loadSync=oe,w.encoder=requireEncoder(),w.decoder=requireDecoder(),w.verifier=requireVerifier(),w.converter=requireConverter(),w.ReflectionObject=requireObject(),w.Namespace=requireNamespace(),w.Root=requireRoot(),w.Enum=require_enum(),w.Type=requireType(),w.Field=requireField(),w.OneOf=requireOneof(),w.MapField=mapfield,w.Service=requireService(),w.Method=requireMethod(),w.Message=message,w.wrappers=wrappers,w.types=requireTypes(),w.util=requireUtil(),w.ReflectionObject._configure(w.Root),w.Namespace._configure(w.Type,w.Service,w.Enum),w.Root._configure(w.Type),w.Field._configure(w.Type)})(indexLight),function(X){X.exports=indexLight.exports}(light);var f=getDefaultExportFromCjs(light.exports),t=function(X,w,re,oe){var se=arguments.length,te=se<3?w:oe===null?oe=Object.getOwnPropertyDescriptor(w,re):oe,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(X,w,re,oe);else for(var ee=X.length-1;ee>=0;ee--)($=X[ee])&&(te=(se<3?$(te):se>3?$(w,re,te):$(w,re))||te);return se>3&&te&&Object.defineProperty(w,re,te),te};const{Message,Field,Type}=f;let l=class extends Message{};t([Field.d(0,"string","required")],l.prototype,"url",void 0),t([Field.d(1,"int64","required")],l.prototype,"lastRead",void 0),l=t([Type.d()],l);let c=class extends Message{};t([Field.d(1,"string","required")],c.prototype,"url",void 0),t([Field.d(2,"int64","required")],c.prototype,"lastRead",void 0),c=t([Type.d()],c);let u=class extends Message{constructor(){super(...arguments),this.name=""}};t([Field.d(0,"string","optional")],u.prototype,"name",void 0),t([Field.d(1,"int64","required")],u.prototype,"sourceId",void 0),u=t([Type.d()],u);let y=class extends Message{constructor(){super(...arguments),this.name=""}};t([Field.d(1,"string","optional")],y.prototype,"name",void 0),t([Field.d(2,"int64","required")],y.prototype,"sourceId",void 0),y=t([Type.d()],y);let a=class extends Message{constructor(){super(...arguments),this.order=new Long(0),this.flags=new Long(0)}};t([Field.d(1,"string","required")],a.prototype,"name",void 0),t([Field.d(2,"int64","optional")],a.prototype,"order",void 0),t([Field.d(100,"int64","optional")],a.prototype,"flags",void 0),a=t([Type.d()],a);let r=class extends Message{constructor(){super(...arguments),this.read=!1,this.bookmark=!1,this.lastPageRead=0,this.dateFetch=new Long(0),this.dateUpload=new Long(0),this.chapterNumber=0,this.sourceOrder=0}};t([Field.d(1,"string","required")],r.prototype,"url",void 0),t([Field.d(2,"string","required")],r.prototype,"name",void 0),t([Field.d(3,"string","optional")],r.prototype,"scanlator",void 0),t([Field.d(4,"bool","optional")],r.prototype,"read",void 0),t([Field.d(5,"bool","optional")],r.prototype,"bookmark",void 0),t([Field.d(6,"int32","optional")],r.prototype,"lastPageRead",void 0),t([Field.d(7,"int64","optional")],r.prototype,"dateFetch",void 0),t([Field.d(8,"int64","optional")],r.prototype,"dateUpload",void 0),t([Field.d(9,"float","optional")],r.prototype,"chapterNumber",void 0),t([Field.d(10,"int32","optional")],r.prototype,"sourceOrder",void 0),r=t([Type.d()],r);let e=class extends Message{constructor(){super(...arguments),this.mediaIdInt=0,this.trackingUrl="",this.title="",this.lastChapterRead=0,this.totalChapters=0,this.score=0,this.status=0,this.startedReadingDate=new Long(0),this.finishedReadingDate=new Long(0),this.mediaId=new Long(0)}};t([Field.d(1,"int32","required")],e.prototype,"syncId",void 0),t([Field.d(2,"int64","required")],e.prototype,"libraryId",void 0),t([Field.d(3,"int32","optional")],e.prototype,"mediaIdInt",void 0),t([Field.d(4,"string","optional")],e.prototype,"trackingUrl",void 0),t([Field.d(5,"string","optional")],e.prototype,"title",void 0),t([Field.d(6,"float","optional")],e.prototype,"lastChapterRead",void 0),t([Field.d(7,"int32","optional")],e.prototype,"totalChapters",void 0),t([Field.d(8,"float","optional")],e.prototype,"score",void 0),t([Field.d(9,"int32","optional")],e.prototype,"status",void 0),t([Field.d(10,"int64","optional")],e.prototype,"startedReadingDate",void 0),t([Field.d(11,"int64","optional")],e.prototype,"finishedReadingDate",void 0),t([Field.d(100,"int64","optional")],e.prototype,"mediaId",void 0),e=t([Type.d()],e);let o=class extends Message{constructor(){super(...arguments),this.title="",this.genre=[],this.status=0,this.dateAdded=new Long(0),this.viewer=0,this.chapters=[],this.categories=[],this.tracking=[],this.favorite=!1,this.chapterFlags=0,this.brokenHistory=[],this.history=[]}};t([Field.d(1,"int64","required")],o.prototype,"source",void 0),t([Field.d(2,"string","required")],o.prototype,"url",void 0),t([Field.d(3,"string","optional")],o.prototype,"title",void 0),t([Field.d(4,"string","optional")],o.prototype,"artist",void 0),t([Field.d(5,"string","optional")],o.prototype,"author",void 0),t([Field.d(6,"string","optional")],o.prototype,"description",void 0),t([Field.d(7,"string","repeated")],o.prototype,"genre",void 0),t([Field.d(8,"int32","optional")],o.prototype,"status",void 0),t([Field.d(9,"string","optional")],o.prototype,"thumbnailUrl",void 0),t([Field.d(13,"int64","optional")],o.prototype,"dateAdded",void 0),t([Field.d(14,"int32","optional")],o.prototype,"viewer",void 0),t([Field.d(16,r,"repeated")],o.prototype,"chapters",void 0),t([Field.d(17,"int64","repeated")],o.prototype,"categories",void 0),t([Field.d(18,e,"repeated")],o.prototype,"tracking",void 0),t([Field.d(100,"bool","optional")],o.prototype,"favorite",void 0),t([Field.d(101,"int32","optional")],o.prototype,"chapterFlags",void 0),t([Field.d(102,l,"repeated")],o.prototype,"brokenHistory",void 0),t([Field.d(103,"int32","optional")],o.prototype,"viewerFlags",void 0),t([Field.d(104,c,"repeated")],o.prototype,"history",void 0),o=t([Type.d()],o);let s=class extends Message{constructor(){super(...arguments),this.backupManga=[],this.backupCategories=[],this.backupBrokenSources=[],this.backupSources=[]}};t([Field.d(1,o,"repeated")],s.prototype,"backupManga",void 0),t([Field.d(2,a,"repeated")],s.prototype,"backupCategories",void 0),t([Field.d(100,u,"repeated")],s.prototype,"backupBrokenSources",void 0),t([Field.d(101,y,"repeated")],s.prototype,"backupSources",void 0),s=t([Type.d()],s);const g={1:"myanimelist",2:"anilist"};class S extends Set{has(w){for(const re of this)if(re.eq(w))return!0;return!1}add(w){return this.has(w)||Set.prototype.add.call(this,w),this}}function toAidoku(X){const w=new Date(Date.now()).toISOString().split("T")[0],re=s.decode(X),oe=Object.fromEntries(re.backupCategories.map(ee=>[ee.order.toString(),ee.name])),se={library:[],history:[],sources:[],manga:[],chapters:[],trackItems:[],categories:re.backupCategories.map(ee=>ee.name),date:new Date,name:`Converted Tachiyomi Backup ${w}`,version:"0.0.1"},te=new S,$=new Set;return re.backupManga.forEach(ee=>{const ie=I.find(ae=>ae.tachiyomiSourceId.eq(ee.source));if(!ie){te.add(ee.source);return}$.add(ie.aidokuSourceId);const ne=ie.toAidokuManga(ee);se.manga.push(ne),se.library.push({mangaId:ne.id,lastUpdated:new Date(0),categories:ee.categories.map(ae=>oe[ae.toString()]).filter(ae=>ae!==void 0),dateAdded:new Date(ee.dateAdded.toNumber()),sourceId:ie.aidokuSourceId,lastOpened:new Date(0)}),ee.chapters.forEach(ae=>{var ue,he,fe;const le=ie.toAidokuChapter(ee,ae);se.chapters.push(le),se.history.push({progress:ae.lastPageRead,mangaId:ne.id,chapterId:le.id,completed:ae.read,sourceId:ie.aidokuSourceId,dateRead:new Date((fe=(he=(ue=[...ee.history,...ee.brokenHistory].find(de=>de.url===ae.url))===null||ue===void 0?void 0:ue.lastRead)===null||he===void 0?void 0:he.toNumber())!==null&&fe!==void 0?fe:0)})}),se.trackItems.push(...ee.tracking.filter(ae=>ae.syncId<=2).map(ae=>({id:ae.trackingUrl.split("/")[4],trackerId:g[ae.syncId],mangaId:ne.id,sourceId:ie.aidokuSourceId,title:ne.title})))}),te.size>0&&console.log(`Could not find converters for ${te.size} sources. Your library may not be complete.
- ${[...te].join(`
- `)}`),se.sources=[...$],{backup:se,dateString:w}}return exports.toAidoku=toAidoku,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});
